<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Generic Deck of Cards</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Generic-Deck-of-Cards.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Generic-Deck-of-Cards.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Generic-Deck-of-Cards.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Generic-Deck-of-Cards.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Generic-Deck-of-Cards.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Generic-Deck-of-Cards.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Games.html">Games</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Generic-Deck-of-Cards.html#">Generic Deck of Cards</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Generic Deck of Cards
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>A generic card table.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Javelin@M-U-S-H.html">Javelin</a>@<a href="../Source/M-U-S-H.html">M*U*S*H</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Games.html">Games</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="http://www.mushcode.com/Command/@create" class="command">@create</a>,
                    <a href="http://www.mushcode.com/Command/@emit" class="command">@emit</a>,
                    <a href="http://www.mushcode.com/Command/@lset" class="command">@lset</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="http://www.mushcode.com/Command/@wipe" class="command">@wipe</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/after.html" class="function">after&#40;&#41;</a>,
                        <a href="../Function/ansi.html" class="function">ansi&#40;&#41;</a>,
                        <a href="../Function/before.html" class="function">before&#40;&#41;</a>,
                        <a href="../Function/edit.html" class="function">edit&#40;&#41;</a>,
                        <a href="../Function/emit.html" class="function">emit&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/first.html" class="function">first&#40;&#41;</a>,
                        <a href="../Function/fold.html" class="function">fold&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/hasattr.html" class="function">hasattr&#40;&#41;</a>,
                        <a href="../Function/if.html" class="function">if&#40;&#41;</a>,
                        <a href="../Function/inc.html" class="function">inc&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/lattr.html" class="function">lattr&#40;&#41;</a>,
                        <a href="../Function/ljust.html" class="function">ljust&#40;&#41;</a>,
                        <a href="../Function/member.html" class="function">member&#40;&#41;</a>,
                        <a href="../Function/mul.html" class="function">mul&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/pemit.html" class="function">pemit&#40;&#41;</a>,
                        <a href="../Function/remove.html" class="function">remove&#40;&#41;</a>,
                        <a href="../Function/revwords.html" class="function">revwords&#40;&#41;</a>,
                        <a href="../Function/rjust.html" class="function">rjust&#40;&#41;</a>,
                        <a href="../Function/set.html" class="function">set&#40;&#41;</a>,
                        <a href="../Function/setdiff.html" class="function">setdiff&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/setr.html" class="function">setr&#40;&#41;</a>,
                        <a href="../Function/shuffle.html" class="function">shuffle&#40;&#41;</a>,
                        <a href="../Function/sort.html" class="function">sort&#40;&#41;</a>,
                        <a href="../Function/sortby.html" class="function">sortby&#40;&#41;</a>,
                        <a href="../Function/space.html" class="function">space&#40;&#41;</a>,
                        <a href="../Function/squish.html" class="function">squish&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/ucstr.html" class="function">ucstr&#40;&#41;</a>,
                        <a href="../Function/ulocal.html" class="function">ulocal&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Generic Deck of Cards
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Generic-Deck-of-Cards.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @create GenericDeck<br/>@lock/Basic GenericDeck==me<br/>@lset GenericDeck/Basic=no_inherit<br/>@set GenericDeck=!NO_COMMAND<br/>&amp;BASE_DECK GenericDeck=C2 C3 C4 C5 C6 C7 C8 C9 C10 CJ CQ CK CA D2 D3 D4 D5 D6 D7 D8 D9 D10 DJ DQ DK DA H2 H3 H4 H5 H6 H7 H8 H9 H10 HJ HQ HK HA S2 S3 S4 S5 S6 S7 S8 S9 S10 SJ SQ SK SA<br/>&amp;CARDSALL_FN GenericDeck=[iter(DECK_PLAY [lattr(me/DECK_*_UP)] [lattr(me/DECK_*_HAND)],%r[ljust(u(deckname,##),20)][v(##)])]<br/>&amp;CARDS_CMD GenericDeck=$+cards: @pemit %# = after(edit(u(cards_fn),%r,%r%va &gt;%b),%r)<br/>&amp;CARDS_FN GenericDeck=[iter(sort(lattr(me/DECK_*)),%r[ljust(u(deckname,##),20)][if(u(hidden,##),switch(v(##),* *, ([words(v(##))] cards),,,one card),v(##))][space(5)][u(chips_fn,edit(##,DECK_,CHIPS_,_HAND,))][u(pot_fn,edit(##,DECK_,STAKES_,_HAND,))][u(tricks_fn)]<br/>&amp;CENTER_CMD GenericDeck=$+center *: think [switch(gte(words(v(deck_main)),%0),1,ulocal(transfer,main,play,%0,%N draws CARDS from the Main deck to the play area.),pemit(%#,%va &gt; Not enough cards in the deck.))]<br/>&amp;CHIPS_FN GenericDeck=[switch(hasattr(me,%0),1,rjust([u(%0)] chips,12))]<br/>&amp;CLEAR_CMD GenericDeck=$+clear: &amp;deck_discard me = v(deck_play) [v(deck_discard)]; @wipe me/deck_play; @emit %va %N clears the cards from the play area.<br/>&amp;CORE_USE GenericDeck=DECK MANAGEMENT%r%b%b+shuffle%t%tShuffle%r%b%b+shuffle discard%tShuffle discard pile back into main deck%r%b%b+shuffle all%t%tShuffle everything into main deck%r%b%b+cut%t%t%tCuts the deck%r%b%b+clear%t%tDiscard the play area to the discard pile%r%b%b+trick%t%tLike +clear, but tracks who took the trick%r%rDEALING%r%b%b+deal P = N%t%tDeal N cards to P from main deck%r%b%b+dealup P = N%t%tDeal N cards to P's table from main deck%r%b%b+dealdown P = N%tDeal N cards to P face down (P needs to +peek)%r%b%b(to deal to multiple players, use +multideal etc. instead of +deal)%r%b%b+center N%t%tDeal N cards into the play area%r%rCARD ACTION%r%b%b+draw N%t%tDraw N cards (default N=1)%r%b%b+play X%t%tPlay X from hand/table to play area%r%b%b+get X%t%tPut X in hand (if face-up somewhere)%r%b%b+discard X%t%tDiscard X from hand/table/play area to discard%r%b%b+fold%t%t%tDiscard your hand to the discard pile%r%rVIEWING AND REVEALING%r%b%b+cards%t%tSee the cards%r%b%b+peek%t%t%tPeek at your hand%r%b%b+show X%t%tMove X cards from hand to table (default X=all)%r%b%b+sort%t%t%tSort hand%r%b%b+expose%t%tExpose all hands%r<br/>&amp;CUT_CMD GenericDeck=$+cut: &amp;deck_main me = [setq(0,first(shuffle(v(deck_main))))]%q0 [squish(after(v(deck_main),%q0))] [squish(before(v(deck_main),%q0))]; @emit %va %N cuts the deck.<br/>&amp;DEALDOWN_CMD GenericDeck=$+dealdown *=*: think [switch([num(squish(%0))] [gte(words(v(deck_main)),squish(%1))],#-*,pemit(%#,%va &gt; Can't find [squish(%0)].),* 1,ulocal(transfer,main,num(squish(%0))_HAND,squish(%1),%N counts out [switch(squish(%1),1,one card,squish(%1) cards)] from the deck and slides them face down to [name(squish(%0))].),pemit(%#,%va &gt; Not enough cards.  Time to shuffle?))]<br/>&amp;DEALUP_CMD GenericDeck=$+dealup *=*: think [switch([num(squish(%0))] [gte(words(v(deck_main)),squish(%1))],#-*,pemit(%#,%va &gt; Can't find [squish(%0)].),* 1,ulocal(transfer, main,num(squish(%0))_UP,squish(%1),%N deals CARDS to [name(squish(%0))]%, face up.), pemit(%#, %va &gt; Not enough cards.  Time to shuffle?))]<br/>&amp;DEAL_CMD GenericDeck=$+deal *=*: think [switch([num(squish(%0))] [gte(words(v(deck_main)),squish(%1))], #-*, pemit(%#, %va &gt; Can't find [squish(%0)].), * 1, ulocal(transfer,main,num(squish(%0))_HAND,squish(%1),%N deals [switch(squish(%1),1,a card,squish(%1) cards)] to [name(squish(%0))]., num(squish(%0)), You were dealt CARDS.), pemit(%#, %va &gt; Not enough cards.  Time to shuffle?))]<br/>&amp;DECKNAME GenericDeck=switch(setq(0,after(%0,DECK_))%q0,MAIN,Main deck,PLAY,Play area,DISCARD,Discard pile,*_UP,name(before(%q0,_UP))'s table,*_HAND,name(before(%q0,_HAND))'s hand,%q0)<br/>&amp;DECK_MAIN GenericDeck=C2 C3 C4 C5 C6 C7 C8 C9 C10 CJ CQ CK CA D2 D3 D4 D5 D6 D7 D8 D9 D10 DJ DQ DK DA H2 H3 H4 H5 H6 H7 H8 H9 H10 HJ HQ HK HA S2 S3 S4 S5 S6 S7 S8 S9 S10 SJ SQ SK SA<br/>&amp;DESCRIBE GenericDeck=A plain deck of cards.  Type "use [name(me)]" for commands.%r[u(cards_fn)]<br/>@set GenericDeck/DESCRIBE=no_command visual prefixmatch public nearby<br/>&amp;DISCARD_CMD GenericDeck=$+discard *: think [switch([setq(0,after(u(location_fn,ucstr(%0)),DECK_))][switch(%q0, %#_*, 1,PLAY, 1, 0)], 1, ulocal(movecards, %q0, DISCARD, ucstr(%0), %N discards [switch(u(hidden,DECK_%q0) %0,0 *,CARDS,1 * *, words(%0) cards, a card)] from [switch(%q0,*_HAND,%p hand,*_UP,%p table, PLAY, the play area)].), pemit(%#, %va &gt; The cards must be in your hand\, on your table\, or in play.))]<br/>&amp;DRAW1_CMD GenericDeck=$+draw: think [switch(gte(words(v(deck_main)),1), 1, ulocal(transfer, main,%#_HAND,1, %N draws a card from the Main deck.,%#,You drew CARDS.), pemit(%#, %va &gt; Not enough cards in the deck.))]<br/>&amp;DRAW_CMD GenericDeck=$+draw *: think [switch(gte(words(v(deck_main)),%0), 1, ulocal(transfer, main,%#_HAND,%0,%N draws %0 cards from the Main deck.,%#,You drew CARDS.), pemit(%#, %va &gt; Not enough cards in the deck.))]<br/>&amp;FOLD_CMD GenericDeck=$+fold: &amp;deck_discard me = v(deck_%#_hand) [v(deck_discard)]; @wipe me/deck_%#_hand; @emit %va %N tosses %p hand into the discard pile.<br/>&amp;GET_CMD GenericDeck=$+get *: think [switch([setq(0,after(u(location_fn,ucstr(%0)),DECK_))][switch(%q0, *_UP, 1, PLAY, 1, 0)], 1, ulocal(movecards, %q0, %#_HAND, ucstr(%0), %N takes CARDS from [switch(%q0,%#_UP,%p table,PLAY,the play area,*_UP,name(before(%q0,_UP))'s table)].), pemit(%#, %va &gt; The cards must be face up somewhere.))]<br/>&amp;HIDDEN GenericDeck=[switch(%0,DECK_MAIN,1,DECK_*_HAND,1,DECK_DISCARD,1,0)]<br/>&amp;LOCATION_FN GenericDeck=squish(iter(lattr(me/deck_*),switch(,%0,,setdiff(%0,ucstr(v(##))),##)))<br/>&amp;MOVECARDS GenericDeck=[set(me,deck_%0:[u(remove,ucstr(v(deck_%0)),%2)])][set(me,deck_%1:%2 [squish(v(deck_%1))])][emit(%va [edit(%3,CARDS,%2)])]<br/>&amp;MULTIDEALDOWN_CMD GenericDeck=$+multidealdown *=*: think [switch([setr(0,iter(%0,num(##)))] [gte(words(v(deck_main)),mul(words(%0),%1))],*#-*, pemit(%#, Sorry\, I couldn't understand that.), * 1, ulocal(multitransfer, main,iter(%0,num(##)_HAND),squish(%1), %N counts out [switch(squish(%1),1,a card,squish(%1) cards)] from the deck and slides them face down to PLAYER., iter(%0,num(##))), pemit(%#, %va &gt; Not enough cards.  Time to shuffle?))]<br/>&amp;MULTIDEALUP_CMD GenericDeck=$+multidealup *=*: think [switch([setr(0,iter(%0,num(##)))] [gte(words(v(deck_main)),mul(words(%0),%1))], *#-*, pemit(%#, Sorry\, I couldn't understand that.), * 1, ulocal(multitransfer, main,iter(%0,num(##)_UP),squish(%1), %N deals CARDS to PLAYER%, face up., iter(%0,num(##))), pemit(%#, %va &gt; Not enough cards.  Time to shuffle?))]<br/>&amp;MULTIDEAL_CMD GenericDeck=$+multideal *=*: think [switch([setr(0,iter(%0,num(##)))] [gte(words(v(deck_main)),mul(words(%0),%1))], *#-*, pemit(%#, Sorry\, I couldn't understand that.), * 1, ulocal(multitransfer, main,iter(%0,num(##)_HAND),squish(%1), %N deals [switch(squish(%1),1,a card,squish(%1) cards)] to PLAYER., iter(%0,num(##)), You were dealt CARDS.), pemit(%#, %va &gt; Not enough cards.  Time to shuffle?)<br/>&amp;MULTITRANSFER GenericDeck=[set(me,deck_%0:[squish(after(v(deck_%0),setr(0,extract(v(deck_%0),1,mul(words(%1),%2)))))])][iter(%1,[set(me,deck_##:[setr(1,[extract(revwords(%q0), add(mul(sub(#@,1),%2),1), %2)] [v(deck_##)])][emit(%va [edit(%3,CARDS,%q1,PLAYER,name(extract(%4,#@,1)))])][pemit(switch(%5,,,extract(%4,#@,1)),%va &gt; [edit(%5,CARDS,%q1)])])])]<br/>&amp;PEEK_CMD GenericDeck=$+peek: @emit %va %N glances at %p hand.; @pemit %# = %va &gt; Your hand is [ansi(g,squish(v(deck_%#_HAND)))]. ; @pemit %# = %va &gt; The table has [switch(setr(0,squish(v(deck_play))),,no cards up,ansi(r,%q0))].<br/>&amp;PLAY_CMD GenericDeck=$+play *: think [switch(u(location_fn,ucstr(%0)), DECK_%#_HAND, ulocal(movecards, %#_HAND, PLAY, ucstr(%0), %N plays CARDS from %p hand.), DECK_%#_UP, ulocal(movecards, %#_UP, PLAY, ucstr(%0), %N plays CARDS from %p table.), pemit(%#, %va &gt; The cards must be in your hand or on your table.))]<br/>&amp;POT_FN GenericDeck=[switch(hasattr(me,%0),1,[rjust(v(%0),5)] in the pot[setq(0,sub(u(left_to_call_fn),v(%0)))][switch(%q0,&gt;0,\, %q0 to call)])]<br/>&amp;REMOVE GenericDeck=fold(remove_primitive,%1,%0)<br/>&amp;REMOVE_PRIMITIVE GenericDeck=remove(%0,%1)<br/>&amp;SHOWALL_CMD GenericDeck=$+show: &amp;deck_%#_UP me = setq(0,squish(v(deck_%#_hand)))%q0 [setq(1,squish(v(deck_%#_up)))]%q1; @wipe me/deck_%#_hand; @emit %va %N reveals %p hand as %q0[switch(%q1,,,%, next to the cards %q1 already on the table)].<br/>&amp;SHOW_CMD GenericDeck=$+show *: think [switch(u(location_fn,ucstr(%0)), DECK_%#_HAND, ulocal(movecards, %#_HAND, %#_UP, ucstr(%0), %N places CARDS on the table from hand.), pemit(%#, %va &gt; The cards must be in your hand.))]<br/>&amp;SHUFFLE GenericDeck=$+shuffle: &amp;deck_main me = shuffle(v(deck_main)); @emit %va %N shuffles the Main deck.<br/>&amp;SHUFFLEDISCARD_CMD GenericDeck=$+shuffle discard: &amp;deck_main me = shuffle(v(deck_main) [v(deck_discard)]); &amp;deck_discard me; @emit %va %N shuffles the Discard pile into the Main deck.<br/>&amp;SHUFFLE_ALL_CMD GenericDeck=$+shuffle all: @wipe me/deck_*; @wipe me/tricks_#*; &amp;deck_main me = shuffle(v(base_deck)) ;@emit %va %N gathers all the cards and shuffles them together.<br/>&amp;SHUFFLE_DECK GenericDeck=&amp;deck_%0 me = shuffle(v(deck_%0)); @emit %va: %1 shuffles [u(deckname,%0)].<br/>&amp;SHUFFLE_INTO GenericDeck=&amp;deck_%1 me = [shuffle(v(deck_%1) v(deck_%0))]; &amp;deck_%0 me; @emit %va: %2 shuffles [u(deckname,%0)] into [u(deckname,%1)].<br/>&amp;SORTHAND_CMD GenericDeck=$+sort: &amp;deck_%#_hand me = u(sort_fn,v(deck_%#_hand)); @emit %va %N sorts %p hand.; @pemit %# = %va &gt; Your hand is now [v(deck_%#_hand)].<br/>&amp;SORT_FN GenericDeck=setq(8,first(%1 BASE_DECK))[sortby(sort_primitive,%0)]<br/>&amp;SORT_PRIMITIVE GenericDeck=sub(member(v(%q8),%0),member(v(%q8),%1))<br/>&amp;TABLE_CMD GenericDeck=$+expose: @emit %va %N exposes all the cards.[edit(u(cardsall_fn),%r,%r%va%b)]<br/>&amp;TRANSFER GenericDeck=[set(me,deck_%0:[setq(0,extract(v(deck_%0),1,%2))][squish(after(v(deck_%0),%q0))])][set(me,deck_%1:[revwords(%q0)] [v(deck_%1)])][emit(%va [edit(%3,CARDS,%q0)])][pemit(%4,%va &gt; [edit(%5,CARDS,%q0)])]<br/>&amp;TRICKS_FN GenericDeck=[switch(lattr(me/TRICKS_#*),,,%rTricks: [iter(sort(lattr(me/TRICKS_#*)),[name(after(##,TRICKS_))]: [v(##)],%b,%t)])]<br/>&amp;TRICK_CMD GenericDeck=$+trick: &amp;deck_discard me = v(deck_play) [v(deck_discard)]; @wipe me/deck_play; &amp;tricks_%# me=[inc(v(tricks_%#))]; @emit %va %N takes the trick and clears the cards from the play area.<br/>&amp;USE GenericDeck=[u(core_use)]<br/>@set GenericDeck/USE=no_command prefixmatch<br/>&amp;VA GenericDeck=DECK:<br/><br/>use GenericDeck
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>