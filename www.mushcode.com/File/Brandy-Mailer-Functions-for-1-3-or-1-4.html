<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Brandy Mailer Functions for 1.3 or 1.4</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Mail-Systems.html">Mail Systems</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#">Brandy Mailer Functions for 1.3 or 1.4</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Brandy Mailer Functions for 1.3 or 1.4
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>A set of optional functions for the Brandy Mail system.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Brandy@CrystalMUSH.html">Brandy</a>@<a href="../Source/CrystalMUSH.html">CrystalMUSH</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </div>


            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/and.html" class="function">and&#40;&#41;</a>,
                        <a href="../Function/edit.html" class="function">edit&#40;&#41;</a>,
                        <a href="../Function/eq.html" class="function">eq&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/first.html" class="function">first&#40;&#41;</a>,
                        <a href="../Function/get.html" class="function">get&#40;&#41;</a>,
                        <a href="../Function/gt.html" class="function">gt&#40;&#41;</a>,
                        <a href="../Function/hasflag.html" class="function">hasflag&#40;&#41;</a>,
                        <a href="../Function/lnum.html" class="function">lnum&#40;&#41;</a>,
                        <a href="../Function/lte.html" class="function">lte&#40;&#41;</a>,
                        <a href="../Function/member.html" class="function">member&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/or.html" class="function">or&#40;&#41;</a>,
                        <a href="../Function/r.html" class="function">r&#40;&#41;</a>,
                        <a href="../Function/rest.html" class="function">rest&#40;&#41;</a>,
                        <a href="../Function/secure.html" class="function">secure&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/sign.html" class="function">sign&#40;&#41;</a>,
                        <a href="../Function/strmatch.html" class="function">strmatch&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/trim.html" class="function">trim&#40;&#41;</a>,
                        <a href="../Function/type.html" class="function">type&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>,
                        <a href="../Server/TinyMUSH.html" class="server">TinyMUSH</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Brandy Mailer Functions for 1.3 or 1.4
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Brandy-Mailer-Functions-for-1-3-or-1-4.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        ##############################################################################<br/>#                                            code written by Brandy@CrystalMUSH<br/>#                                        for MUSH 2.0.10 patch level 5 or later<br/>#<br/># These functions only work on systems that have upgraded to brandy_mailer.13.<br/>#<br/># To use:  change references to #4167 to the dbref of the Parent Mail Object<br/>#<br/>#          (in vi:  :1,$s/#4167/&lt;dbref of parent mail object&gt;/g)<br/>#<br/># I'm keeping this file separate from the normal +mail distribution, so<br/># people don't have to install it if they are uninterested in the <br/># capability.<br/>#<br/># As always, questions/comments/criticisms to cag@empros.com<br/>#<br/># This file is available via anonymous FTP from <br/># caisr2.caisr.cwru.edu (129.22.24.22) in file:<br/>#   /pub/mush/mushcode/brandy_mailer_functions.1<br/>#<br/>##############################################################################<br/>#<br/># +mail functions<br/>#<br/>#   mail_folders(player name or dbref)<br/>#   mail_count(player name or dbref, folder name)<br/>#   mail_sender(player name or dbref, message number, folder name)<br/>#   mail_to(player name or dbref, message number, folder name)<br/>#   mail_cc(player name or dbref, message number, folder name)<br/>#   mail_bcc(player name or dbref, message number, folder name)<br/>#   mail_subject(player name or dbref, message number, folder name)<br/>#   mail_text(player name or dbref, message number, folder name)<br/>#   mail_flags(player name or dbref, message number, folder name)<br/>#   mail_note(player name or dbref, message number, folder name)<br/>#   mail_time_sent(player name or dbref, message number, folder name)<br/>#   mail_time_read(player name or dbref, message number, folder name)<br/>#<br/># What good are they?<br/>#<br/>#   These functions may be used to automatically process some or all <br/>#   of your incoming mail.  <br/>#<br/>#   For example, you could set up a FAQ (frequently asked questions) <br/>#   mechanism, set up a filter to shove things with a particular subject <br/>#   line into a specific folder (perhaps '+add filter subject=FAQ folder=<br/>#   faq requests').  Then have code that periodically goes through <br/>#   the requests in the FAQ folder and automatically responds.<br/>#<br/>#   +select folder faq requests;<br/>#<br/>#   @dolist lnum(mail_count(faq_maintainer, faq requests)) = <br/>#   {<br/>#     +mail [mail_sender(faq_maintainer, add(##, 1), faq requests)] = <br/>#       Here's the FAQ you requested;<br/>#     -[v(faq_data)];<br/>#     --;<br/>#     +delete [add(##, 1)]<br/>#   };<br/>#<br/>#   @swi 1 = 1,<br/>#   {<br/>#     +flush<br/>#   }<br/>#<br/>#   In the above example, the code would need to reside on the <br/>#   'faq_maintainer' player (since only players can use the +mail <br/>#   system), and 'faq_maintainer's delete option should be set to soft.<br/>#<br/>#   I personally use it in the +jobs code on CrystalMUSH, people who wish<br/>#   to register jobs that they are looking for people for, people who want<br/>#   to sign up for, or withdraw interest in registered jobs, send +mail<br/>#   to a job_control character, which automatically processes its mail<br/>#   once an hour.<br/>#<br/>#   Another thing they could be used for would be to customize your<br/>#   own mail displays, although it wouldn't be very efficient to do<br/>#   this.<br/>#<br/># For each function, have #1 do:<br/>#<br/>#   @function/privileged &lt;function&gt;=&lt;object&gt;/&lt;attr&gt;<br/>#<br/># Notes:  <br/>#<br/>#   setq()/r() are not used in these functions to avoid conflict with the user<br/>#<br/>#   Reminder:  function definitions created by @function are not stored<br/>#   in the database, so they need to be re-created each time the MUSH is<br/>#   started.  It is recommended that the Startup attribute for player #1<br/>#   include code to set up all global functions (see wizhelp @function).<br/>#<br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_folders<br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return a list of defined folders for the specified player.<br/>#   Since folder names can contain blanks, use | as a separator<br/>#   between folder names instead of a blank.<br/>#<br/>#   You may only obtain this information for your own mailbox, <br/>#   unless you're a wizard.<br/>#<br/># INPUT:  player name or dbref<br/>#<br/># OUTPUT:  list of defined folders, each separated by a |<br/>#          <br/>#   If there are no folders defined, an empty string is returned.<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_FOLDERS) EXPECTS 1 ARGUMENT <br/>#   #-1 FUNCTION (MAIL_FOLDERS) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_FOLDERS) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_folders(brandy)<br/>#   You say "main|notes|recruits|storage|things to do"<br/>#   &gt; say mail_folders(#3)<br/>#   You say "main"<br/>#<br/><br/><br/>&amp;MAIL_FOLDERS_FUNCTION #4167=switch(words(%0), 0, u(missing_argument, MAIL_FOLDERS, 1), u(mail_function2, switch(%0, me, %#, #*, %0, num(*%0)), %#, MAIL_FOLDERS, get_mail_folders))<br/>&amp;MAIL_FUNCTION2 #4167=switch(type(%0),PLAYER,switch(or(strmatch(%1, %0), hasflag(%1, wizard)), 1, u(%3, get(%vm/mailbox_%0), %2, %4, %5, %6, %7),u(permission_denied, %2)),u(unknown_player, %2))<br/>#<br/># This is a helper routine for all the mail functions<br/>#<br/># %0 - dbref of person mail_folders is being done on<br/># %1 - invoker<br/># %2 - invoking function name<br/># %3 - name of next function to call<br/># %4 - optional parameter to pass to function specified in %3<br/># %5 - optional parameter to pass to function specified in %3<br/># %6 - optional parameter to pass to function specified in %3<br/># %7 - optional parameter to pass to function specified in %3<br/>#<br/><br/>&amp;GET_MAIL_FOLDERS #4167=switch(0,words(%0),,secure(edit(trim(get(%0/folder-list)), %b, |)))<br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for function MAIL_FOLDERS.<br/>#<br/># %0 - mailbox dbref<br/>#<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_count<br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the number of letters in the specified folder.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:<br/>#<br/>#    %0 - player name or dbref<br/>#    %1 - folder name<br/>#<br/># OUTPUT:  the number of letters in the specified folder<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_COUNT) EXPECTS 2 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_COUNT) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_COUNT) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_count(brandy, main)<br/>#   You say "4"<br/>#   &gt; say mail_count(#2, things to do)<br/>#   You say "6"<br/>#<br/><br/><br/>&amp;MAIL_COUNT_FUNCTION #4167=switch(1,or(eq(words(%0), 0), eq(words(%1), 0)), u(missing_argument, MAIL_COUNT, 2), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_COUNT,get_mail_count, edit(%1, %b, $)))<br/><br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for function MAIL_COUNT.<br/>#<br/># %0 - mailbox dbref<br/># %1 - invoking function name (ignored)<br/># %2 - folder name (blanks converted to $'s)<br/>#<br/><br/>&amp;GET_MAIL_COUNT #4167=switch(0,words(%0), 0,words(get(%0/in-list-%2)))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_sender<br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the name of the player that sent the specified message.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:<br/>#<br/>#   %0 - player name or dbref<br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  the name of the player that sent the specified message.<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_SENDER) EXPECTS 3 ARGUMENTS<br/>#   #-1 FUNCTION (MAIL_SENDER) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_SENDER) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_SENDER) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_sender(brandy, 3, things to do)<br/>#   You say "Kelson"<br/>#<br/><br/>&amp;MAIL_SENDER_FUNCTION #4167 = switch(1, or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)), u(missing_argument, MAIL_SENDER, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_SENDER,get_mail_sender, %1, edit(%2, %b, $)))<br/><br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for function MAIL_SENDER<br/>#<br/># %0 - mailbox dbref<br/># %1 - invoking function name <br/># %2 - external message number<br/># %3 - folder name (blanks converted to $'s)<br/>#<br/><br/>&amp;GET_MAIL_SENDER #4167=switch(0,words(%0),u(msg_not_found, %1), and(gt(%2, 0),lte(%2, words(get(%0/in-list-%3)))),u(msg_not_found, %1), name(u(get_mail_sender2,%0,extract(get(%0/in-list-%3), %2, 1))))<br/><br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for function MAIL_SENDER.<br/>#<br/>#   This is horribly mucky since for mail stored previous to <br/>#   version 13 of +mail has the sender stored in an atribute,<br/>#   but for new mail sent after version 13 was installed, the<br/>#   sender is determined by the 'owner' of the mailbox where the<br/>#   mail originated from.<br/>#<br/># %0 - mailbox dbref<br/># %1 - internal mail number<br/>#<br/><br/>&amp;GET_MAIL_SENDER2 #4167=switch(words(get(first(get(%0/in-%1-location))/out-[rest(get(%0/in-%1-location))]-sender)), 0, get(first(get(%0/in-%1-location))/owner_dbref), get(first(get(%0/in-%1-location))/out-[rest(get(%0/in-%1-location))]-sender))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_subject <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the subject line for the specified message.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number <br/>#   %2 - folder name<br/>#<br/># OUTPUT:  the subject of message<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_SUBJECT) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_SUBJECT) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_SUBJECT) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_SUBJECT) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_subject(brandy, 1, main)<br/>#   You say "Fwd:  Hi! Sugestions enclosed..."<br/>#<br/><br/><br/>&amp;MAIL_SUBJECT_FUNCTION #4167 = switch(1, or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)), u(missing_argument, MAIL_SUBJECT, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_SUBJECT,get_mail_attribute,%1, edit(%2, %b, $), subject,out))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_time_sent <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the date and time that the specified message was sent.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  date/time the message was sent<br/>#<br/># Possible errors:<br/>#<br/>#      #-1 FUNCTION (MAIL_TIME_SENT) EXPECTS 3 ARGUMENTS<br/>#      #-1 FUNCTION (MAIL_TIME_SENT) UNKNOWN PLAYER<br/>#      #-1 FUNCTION (MAIL_TIME_SENT) MAIL MESSAGE NOT FOUND<br/>#      #-1 FUNCTION (MAIL_TIME_SENT) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_time_sent(brandy, 1, main)<br/>#   You say "Tue Jun 21 14:57:17 1994"<br/>#<br/><br/><br/>&amp;MAIL_TIME_SENT_FUNCTION #4167 = switch(1, or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)), u(missing_argument, MAIL_TIME_SENT, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_TIME_SENT,get_mail_attribute,%1,edit(%2, %b, $),time_sent, out))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_text <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the text of the specified message.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  text of message<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_TEXT) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_TEXT) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_TEXT) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_TEXT) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_text(brandy, 2, main)<br/>#   You say "This is some test text in a +mail message."<br/>#<br/><br/><br/>&amp;MAIL_TEXT_FUNCTION #4167 =switch(1,or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)),u(missing_argument, MAIL_TEXT, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_TEXT,get_mail_attribute,%1,edit(%2, %b, $),text,out))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_to <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the to list of the specified message.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  'to' list of message (prettified)<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_TO) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_TO) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_TO) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_TO) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_to(brandy, 2, main)<br/>#   You say "Rose, Samira and Kelson"<br/>#<br/><br/><br/>&amp;MAIL_TO_FUNCTION #4167 =switch(1,or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)),u(missing_argument, MAIL_TO, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_TO,get_mail_attribute,%1,edit(%2, %b, $),to,out))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_cc <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the CC list of the specified message.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  'CC' list of message (prettified)<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_CC) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_CC) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_CC) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_CC) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_cc(brandy, 2, main)<br/>#   You say "wizards (global mail alias) and Rose"<br/>#<br/><br/><br/>&amp;MAIL_CC_FUNCTION #4167 =switch(1,or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)),u(missing_argument, MAIL_CC, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_CC,get_mail_attribute,%1,edit(%2, %b, $),cc,out))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_bcc <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Returns a boolean indicating if the player specified in the first <br/>#   argument is in the BCC list for the specified message.  1 - yes, 0 - no.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  1 - user is in BCC list for message, 0 - user is not<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_BCC) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_BCC) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_BCC) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_BCC) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_bcc(brandy, 2, main)<br/>#   You say "0"<br/>#<br/><br/><br/>&amp;MAIL_BCC_FUNCTION #4167 =switch(1,or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)),u(missing_argument, MAIL_BCC, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_BCC,on_bcc_list,%1,edit(%2, %b, $)))<br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for function MAIL_BCC<br/>#<br/># %0 - mailbox dbref<br/># %1 - invoking function name<br/># %2 - external message number<br/># %3 - folder name (blanks converted to $'s)<br/>#<br/><br/>&amp;ON_BCC_LIST #4167=switch(0,words(%0),u(msg_not_found, %1),and(gt(%2, 0),lte(%2, words(get(%0/in-list-%3)))),u(msg_not_found, %1),sign(member(u(get_mail_attribute_out, %0, extract(get(%0/in-list-%3), %2, 1), bcc-expanded), get(%0/owner_dbref))))<br/>&amp;MAIL_NOTE_FUNCTION #4167 =switch(1,or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)),u(missing_argument, MAIL_NOTE, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_NOTE,get_mail_attribute,%1,edit(%2, %b, $),note,in))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_note <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return whatever note is registered with the specified message.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  Either a null string, or whatever note is registerd<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_NOTE) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_NOTE) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_NOTE) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_NOTE) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_note(brandy, 2, main)<br/>#   You say "This is a note previously registered with +add note=&lt;text&gt;"<br/>#<br/><br/><br/>&amp;MAIL_TIME_READ_FUNCTION #4167 =switch(1,or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)),u(missing_argument, MAIL_TIME_READ, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_TIME_READ,get_mail_attribute,%1,edit(%2, %b, $),time_read,in))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_time_read <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return the date and time that the specified mail message was read.<br/>#   A zero is returned if the letter has not been read yet.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  Either zero, or the date and time that the letter was last read.<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_TIME_READ) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_TIME_READ) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_TIME_READ) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_TIME_READ) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_time_read(brandy, 2, main)<br/>#   You say "Wed Jun 22 18:42:41 1994"<br/>#<br/><br/><br/>&amp;MAIL_FLAGS_FUNCTION #4167 =switch(1,or(eq(words(%0), 0), eq(words(%1), 0), eq(words(%2), 0)),u(missing_argument, MAIL_FLAGS, 3), u(mail_function2,switch(%0, me, %#, #*, %0, num(*%0)),%#,MAIL_FLAGS,get_mail_attribute,%1,edit(%2, %b, $),flags,in))<br/><br/>##############################################################################<br/>#<br/># FUNCTION NAME:  mail_flags <br/>#<br/># DESCRIPTION:<br/>#<br/>#   Return a list of the registered flags for a specific mail message.<br/>#   An empty string is returned if there are no flags.<br/>#<br/>#   You may only obtain this information for messages in your own<br/>#   mailbox, unless you're a wizard.<br/>#<br/>#   NOTE:  The flags are not interpreted.<br/>#<br/>#     Mapping:    U --&gt; Urgent<br/>#                 R --&gt; Registered<br/>#                RR --&gt; Reply Requested<br/>#                 P --&gt; Private<br/>#                 D --&gt; Marked for Deletion<br/>#                 M --&gt; Marked<br/>#                 S --&gt; Saved<br/>#<br/># INPUT:  <br/>#<br/>#   %0 - player name or dbref <br/>#   %1 - message number<br/>#   %2 - folder name<br/>#<br/># OUTPUT:  An empty string or a list of registered flags.<br/>#<br/># Possible errors:<br/>#<br/>#   #-1 FUNCTION (MAIL_FLAGS) EXPECTS 3 ARGUMENTS <br/>#   #-1 FUNCTION (MAIL_FLAGS) UNKNOWN PLAYER<br/>#   #-1 FUNCTION (MAIL_FLAGS) MAIL MESSAGE NOT FOUND<br/>#   #-1 FUNCTION (MAIL_FLAGS) PERMISSION DENIED<br/>#<br/># EXAMPLE:<br/>#<br/>#   &gt; say mail_flags(brandy, 2, main)<br/>#   You say "U RR"<br/>#<br/><br/><br/>&amp;GET_MAIL_ATTRIBUTE #4167=switch(0,words(%0), u(msg_not_found, %1), and(gt(%2, 0),lte(%2, words(get(%0/in-list-%3)))),u(msg_not_found, %1), u(get_mail_attribute_%5,%0, extract(get(%0/in-list-%3), %2, 1),%4))<br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for the +mail functions.<br/>#<br/># %0 - mailbox dbref<br/># %1 - mail function name<br/># %2 - external message number<br/># %3 - folder name (blanks converted to $'s)<br/># %4 - which attribute to get<br/># %5 - 'in' or 'out'<br/>#<br/><br/>&amp;GET_MAIL_ATTRIBUTE_OUT #4167=u(first(get(%0/in-%1-location))/out-[rest(get(%0/in-%1-location))]-%2)<br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for functions:<br/>#     MAIL_SUBJECT, MAIL_TIME_SENT, MAIL_TEXT, MAIL_TO, MAIL_CC.<br/>#<br/># %0 - mailbox dbref<br/># %1 - internal mail number<br/># %2 - which attribute to get<br/>#<br/><br/>&amp;GET_MAIL_ATTRIBUTE_IN #4167=u(%0/in-%1-%2)<br/>#<br/># DESCRIPTION:<br/>#<br/>#   This is a helper routine for functions:<br/>#     MAIL_NOTE, MAIL_FLAGS, MAIL_TIME_READ.<br/>#<br/># %0 - mailbox dbref<br/># %1 - internal mail number<br/># %2 - which attribute to get<br/>#<br/><br/>&amp;MISSING_ARGUMENT #4167=#-1 FUNCTION (%0) EXPECTS %1 ARGUMENT(S) <br/>&amp;UNKNOWN_PLAYER #4167=#-1 FUNCTION (%0) UNKNOWN PLAYER<br/>&amp;MSG_NOT_FOUND #4167=#-1 FUNCTION (%0) MAIL MESSAGE NOT FOUND<br/>&amp;PERMISSION_DENIED #4167=#-1 FUNCTION (%0) PERMISSION DENIED<br/>
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>