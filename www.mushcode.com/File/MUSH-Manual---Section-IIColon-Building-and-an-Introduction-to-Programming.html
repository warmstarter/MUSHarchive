<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: MUSH Manual - Section II: Building and an Introduction to Programming</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Building.html">Building</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#">MUSH Manual - Section II: Building and an Introduction to Programming</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            MUSH Manual - Section II: Building and an Introduction to Programming
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p></p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <a href="../Author/Amberyl.html">Amberyl</a>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Building.html">Building</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="../Command/@adrop.html" class="command">@adrop</a>,
                    <a href="../Command/@ahear.html" class="command">@ahear</a>,
                    <a href="../Command/@ause.html" class="command">@ause</a>,
                    <a href="http://www.mushcode.com/Command/@create" class="command">@create</a>,
                    <a href="http://www.mushcode.com/Command/@describe" class="command">@describe</a>,
                    <a href="../Command/@destroy.html" class="command">@destroy</a>,
                    <a href="../Command/@dig.html" class="command">@dig</a>,
                    <a href="../Command/@drop.html" class="command">@drop</a>,
                    <a href="http://www.mushcode.com/Command/@emit" class="command">@emit</a>,
                    <a href="../Command/@entrances.html" class="command">@entrances</a>,
                    <a href="http://www.mushcode.com/Command/@failure" class="command">@failure</a>,
                    <a href="http://www.mushcode.com/Command/@force" class="command">@force</a>,
                    <a href="../Command/@halt.html" class="command">@halt</a>,
                    <a href="http://www.mushcode.com/Command/@link" class="command">@link</a>,
                    <a href="../Command/@listen.html" class="command">@listen</a>,
                    <a href="http://www.mushcode.com/Command/@lock" class="command">@lock</a>,
                    <a href="../Command/@odrop.html" class="command">@odrop</a>,
                    <a href="../Command/@open.html" class="command">@open</a>,
                    <a href="../Command/@osuccess.html" class="command">@osuccess</a>,
                    <a href="../Command/@ouse.html" class="command">@ouse</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="../Command/@ps.html" class="command">@ps</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="../Command/@sex.html" class="command">@sex</a>,
                    <a href="../Command/@success.html" class="command">@success</a>,
                    <a href="http://www.mushcode.com/Command/@switch" class="command">@switch</a>,
                    <a href="http://www.mushcode.com/Command/@teleport" class="command">@teleport</a>,
                    <a href="http://www.mushcode.com/Command/@trigger" class="command">@trigger</a>,
                    <a href="../Command/@use.html" class="command">@use</a>,
                    <a href="http://www.mushcode.com/Command/@va" class="command">@va</a>,
                    <a href="http://www.mushcode.com/Command/@vb" class="command">@vb</a>,
                    <a href="http://www.mushcode.com/Command/@vc" class="command">@vc</a>,
                    <a href="../Command/@vd.html" class="command">@vd</a>,
                    <a href="../Command/@ve.html" class="command">@ve</a>,
                    <a href="../Command/@verb.html" class="command">@verb</a>,
                    <a href="http://www.mushcode.com/Command/@wait" class="command">@wait</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/div.html" class="function">div&#40;&#41;</a>,
                        <a href="../Function/flags.html" class="function">flags&#40;&#41;</a>,
                        <a href="../Function/get.html" class="function">get&#40;&#41;</a>,
                        <a href="../Function/get_eval.html" class="function">get_eval&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/loc.html" class="function">loc&#40;&#41;</a>,
                        <a href="../Function/money.html" class="function">money&#40;&#41;</a>,
                        <a href="../Function/mul.html" class="function">mul&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/obj.html" class="function">obj&#40;&#41;</a>,
                        <a href="../Function/owner.html" class="function">owner&#40;&#41;</a>,
                        <a href="../Function/poss.html" class="function">poss&#40;&#41;</a>,
                        <a href="../Function/r.html" class="function">r&#40;&#41;</a>,
                        <a href="../Function/rand.html" class="function">rand&#40;&#41;</a>,
                        <a href="../Function/room.html" class="function">room&#40;&#41;</a>,
                        <a href="../Function/s.html" class="function">s&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/strlen.html" class="function">strlen&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/subj.html" class="function">subj&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/time.html" class="function">time&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>,
                        <a href="../Function/zfun.html" class="function">zfun&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>,
                        <a href="../Server/TinyMUSH.html" class="server">TinyMUSH</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>


<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for MUSH Manual - Section II: Building and an Introduction to Programming
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="MUSH-Manual---Section-IIColon-Building-and-an-Introduction-to-Programming.html#">
                    <i class="icon-resize-full"></i> Select Content
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        MUSH Manual Version 2.008:<br/>   Copyright 1993, 1994, 1995, Lydia Leong (lwl@netcom.com / Amberyl)<br/>   Last revised 5/22/95.<br/><br/>Section II: Building and an introduction to programming<br/><br/>Table of Contents:<br/><br/>3. Building.<br/> 3.1  Creating a room: @dig, FLOATING flag<br/> 3.2  Connecting rooms: @open, @link and @unlink, LINK_OK flag, @entrances<br/> 3.3  Refinements: ABODE and JUMP_OK flags, drop-tos and STICKY flag on rooms<br/> 3.4  Exit conventions and the TRANSPARENT flag<br/> 3.5  Do it!   --  home<br/>4. Introduction to Programming<br/> 4.1  The stack and string substitutions - % substitutions<br/> 4.2  General attributes and action lists - @trigger and GET()<br/> 4.3  The queue: @ps, @wait, and @halt. HALT flag<br/> 4.4  Decision making: @switch<br/> 4.5  Other ways of triggering: @use and @startup<br/> 4.6  User-defined commands: $command, @scan, @verb<br/> 4.7  Introduction to functions: ADD() and other math, RAND(), TIME()<br/> 4.8  Do it!  --  falcon control<br/><br/><br/>3. Building<br/><br/>3.1   Creating a room<br/><br/>Building a room is done quite simply, using the @dig command. The syntax<br/>is: @dig &lt;Room name&gt;=&lt;in1;in2;in3;etc&gt;,&lt;out1;out2;out3;etc&gt;<br/><br/>in1, in2, and in3 are all exit "aliases" - typing any one of these names will<br/>bring you through the exit into the room. You may have as many of these as<br/>you wish; the names must be separated by semi-colons. in1 will be the visible<br/>"primary" exit name, which appears in the room's Obvious Exits list.<br/>out1, out2, and out3 are similar. This exit goes from the room you just dug<br/>to the room that you are in.<br/><br/>On TinyMUDs, building convention dictates that exits be set DARK - i.e.<br/>no exit names appear in the "Obvious Exits" list. Many people like visible<br/>exits, however, and in the age of MUSHes, most exits are visible. Visible<br/>exits are the default.<br/><br/>You must control the room that you are @digging from. If you don't<br/>own a room, you should first @dig &lt;Room name&gt; and then @tel to that room.<br/>(Or use @dig/teleport, which builds the room then moves you there).<br/>You can then build off that room. If your room is not linked to something,<br/>however, you will occasionally get the message "You own a disconnected room,<br/>&lt;Room name&gt;."  To avoid this, set the room FLOATING.<br/><br/><br/>=============================<br/>[ Example 3.1: Living Room ]<br/>&gt; l<br/>Foyer(#3108R)<br/>This is the foyer of a small private home.<br/>Obvious exits:<br/>Doorway<br/>&gt; @dig Living Room=Living Room;lr;living,Foyer;f;out;o<br/>Living Room created with room number #3813.<br/>Opened.<br/>Trying to link...<br/>Linked.<br/>Opened.<br/>Trying to link...<br/>Linked.<br/>&gt; l<br/>Foyer(#3108R)<br/>This is the foyer of a small private home.<br/>Obvious exits:<br/>Living Room  Doorway<br/>&gt; lr<br/>Living Room(#3813R)<br/>Obvious exits:<br/>Foyer<br/>=============================<br/><br/><br/>3.2   Connecting rooms<br/><br/>To open an exit between two existing rooms, use the syntax<br/>@open &lt;in1;in2;in3;etc&gt;=#&lt;room&gt;,&lt;out1;out2;out3;etc&gt;   This will open and<br/>link exits between the two rooms. You can also open an exit in but not<br/>out by simply using @open &lt;in1;in2;in3;etc&gt;=#room<br/><br/>To change an exit destination, simply "@link &lt;exit&gt;=#&lt;new room&gt;".<br/>(Certain older versions of MUSH might require you to first "@unlink exit".)<br/><br/>Be careful not to leave exits unlinked, because an unlinked exit will become<br/>the property of whomever @links it. If you want to have an exit going no place,<br/>like something called "sit" which displays the @fail message "You sit down."<br/>@link the exit to the room it is in - i.e. @open sit=here. @lock sit=#0.<br/>@fail sit=You sit down.<br/><br/>You can let people open/link exits to one of your rooms by setting it<br/>LINK_OK. Note that people cannot open an exit from your room into something<br/>else; they can only link an entrance.<br/><br/>* * * * *<br/><br/>The "@entrances &lt;object&gt;" command returns all links to &lt;object&gt; -- <br/>exits which are linked to the object, rooms which have their drop-tos set <br/>to the object, and players and things which have their homes set to the <br/>object. This command in 1.50 also takes switches, allowing you to specify <br/>exits, rooms, players, or things alone. This command is computationally<br/>expensive, costing the same as @find.<br/><br/>You can limit the dbref range which @entrances searches by  specifying<br/>"@entrances &lt;object&gt;=&lt;first object&gt;,&lt;last object&gt;". This is similar to<br/>restricting the range on @find.<br/><br/><br/>3.3   Refinements<br/><br/>If you want people to be able to @teleport to your room, set it<br/>JUMP_OK. Beware - if you are in a JUMP_OK room and someone does a @whereis<br/>on you, the room number will be listed, and that person will be able to<br/>@tel to your location, so if you don't want unexpected visitors dropping<br/>in, it might be best not to set the room JUMP_OK.<br/><br/>If you want other people to be able to set their homes in your room -<br/>i.e. be sent there automatically when they type 'home' - set the room ABODE.<br/>To set yourself or another object's home, @link &lt;thing&gt;=&lt;here/#room&gt;.<br/><br/>In older versions of MUSH code, most notably MicroMUSH, the JUMP_OK<br/>and ABODE flags are merged; a room set ABODE may both be @linked to and<br/>@teleported to.<br/><br/>* * * * *<br/><br/>Rooms may be @linked to other rooms, using @link &lt;room1&gt;=#&lt;room2&gt;.<br/>This sets a "drop-to". Objects dropped in room1 will automatically be sent<br/>to room2. "Drop-tos" may be delayed by setting the STICKY flag on room1.<br/>If the room is STICKY, the drop-to will not be performed until the last<br/>player has left the room.<br/><br/><br/>3.4   Exit conventions<br/><br/>There are certain exit conventions used on TinyM*s which make following<br/>other players around easier. Exits should, if possible, have an @osucc and<br/>@odrop message. The @osucc message is triggered when someone uses an exit;<br/>it is displayed to everyone else in the room that the person just left. <br/>The @odrop message is triggered the same way, but is displayed to everyone<br/>in the room that the person enters. Thus, you can tell where people are<br/>going to, and where they are coming from.<br/><br/>For purely aesthetic purposes, exits often have @desc and @succ messages.<br/>The @desc message is displayed when someone "looks" at an exit; the @succ<br/>message is displayed to the person who walks through the exit.<br/><br/>* * * * *<br/><br/>Several clever things can be done with "null" exits. These are exits<br/>that don't lead anywhere, but simply display a message to the player. For<br/>example, an exit named "sit" could give the message "You sit down." These<br/>exits are usually locked to #0, linked to the room they are in, and DARK.<br/>Use of these kinds of exits is generally discouraged on MUSHes that enforce<br/>building quotas and/or are trying to conserve disk space.<br/><br/>In areas that use a lot of directions - north/south/east/west etc. - it<br/>is often helpful to have a null exit with the names of the remaining directions<br/>in it. For example, if a room has exits in all directions except east and<br/>west, a null exit called east;e;west;w with a @fail message of "You can't<br/>go that way."  is very helpful. Otherwise, the player who types "east" will<br/>simply get a "Huh?  (Type "help" for help.)" message.   Before you make such<br/>fake exits in your rooms, though, it might be a good idea to check that your<br/>MUSH doesn't have them already defined in the Master Room.<br/><br/>MudCore provides the Master Room support for these fake direction<br/>exits (and the message "There is no exit in that direction.")  MudCore<br/>takes this a step further, however, providing customization of these<br/>fake exits without taking up more database space for extra "real"<br/>exits. Sometimes, when building an area, you will want to have, for<br/>example, a "north" exit which provides a message like, "You walk down<br/>a long corridor, discover nothing interesting, and return to where you<br/>started."  and doesn't actually lead to another room. Such exits give<br/>the illusion of "space", making a small area feel larger. In MudCore,<br/>"fake" exits in the cardinal directions can be designed by placing the<br/>attributes DESC_&lt;direction&gt; and FAIL_&lt;direction&gt; on the room. For the<br/>above example, one might use, "&amp;DESC_NORTH here=To the north is a<br/>long, featureless corridor." and "&amp;FAIL_NORTH here=You walk down a<br/>long, corridor, discover nothing interesting, and return to where you<br/>started."<br/><br/>* * * * *<br/><br/>There is a flag called TRANSPARENT, which can be set on exits. If this<br/>flag is set, players looking at the exit see, after the exit description,<br/>the description of the next room and its contents (but not its succ/fail<br/>messages or exits). This is useful for creating the illusion of an archway<br/>or similar portal, where it makes logical sense to be able to look through<br/>it into the next room.<br/><br/>In 1.50, the TRANSPARENT flag can also be set on rooms. This causes<br/>the obvious exits in the room to be displayed with each exit on a line<br/>by itself, giving the destination room. For example, you might have:<br/><br/>   Obvious exits:<br/>    South leads to Foyer of the Bank.<br/>    East leads to Intersection of Park and Hill Streets.<br/><br/>instead of:<br/><br/>   Obvious exits:<br/>   South  East<br/><br/><br/>3.5   Do it!  --  home<br/><br/>This builds a very simple home of three rooms, linked in a triangle:<br/><br/>              Living Room<br/>                |       \<br/>            Workroom------Bedroom<br/><br/>Issue the following commands:<br/>@dig/teleport Living Room<br/>[ The room will be dug and you will be moved into it. Note its dbref number ]<br/>@set here=FLOATING<br/>[ Suppresses disconnected room warnings ]<br/>@desc here=&lt;whatever the room looks like&gt;<br/>@dig Workroom=Workroom;w;work;south;s,Living Room;lr;living;north;n;out;o<br/>go workroom<br/>@desc here=&lt;whatever the room looks like&gt;<br/>@dig Bedroom=Bedroom;b;east;e;bed,Workroom;w;work;west<br/>go bedroom<br/>@desc here=&lt;whatever the room looks like&gt;<br/>@open Living Room;lr;living;northwest;nw;out;o=#&lt;xxx&gt;,Bedroom;b;bed;<br/> southeast;se  <br/>[ Note: the previous line is wrapped-around. &lt;xxx&gt; is the room number of the<br/>  Living Room, which you should have noted earlier. ]<br/>@set here=ABODE<br/>@link me=here<br/>[ Sets your home to this bedroom ]<br/><br/>All three rooms are dug and linked - now, all you have to do is to spiffy<br/>up the exits, and you're all set!<br/><br/><br/>4. Introduction to Programming<br/><br/>4.1   The Stack and string substitutions<br/><br/>The MUSH stores several variables, related to the cause of an action,<br/>the object that is executing an action, and the program state during that<br/>action, referred to as the "stack". These are accessed via a "percent<br/>substitution".<br/><br/>One such variable is the "enactor" -- the object which caused an<br/>action to be performed. For example, if Sareena looks at a Plush Shaav <br/>Doll, Sareena is the enactor. The enactor is sometimes referred to as the<br/>"cause". The percent substitution '%N' returns the name of the enactor; in <br/>this case, it would be "Sareena". The substitution '%n' also returns the<br/>name of the enactor, but the first letter is in lower-case. Another <br/>substitution, '%#', returns the dbref number of the enactor.<br/><br/>It is also possible to get the appropriate pronoun for the enactor.<br/>'%s' is the subjective pronoun (he/she/it). '%o' is the objective pronoun<br/>(him/her/it). '%p' is the possessive pronoun (his/hers/its). The capital<br/>letter forms ('%S', etc.) return the pronoun with the first letter <br/>capitalized. The game determines the pronoun to use by looking the @sex<br/>attribute on the enactor. These substitutions are equivalent to the<br/>function evaluations "SUBJ(%#)", "OBJ(%#)", and "POSS(%#)".  In the<br/>example above, since Sareena is female, these substitutions would return<br/>"she", "her", and "hers", respectively.<br/><br/>The substitution %l returns the dbref number of the enactor's<br/>location. This is useful when programming objects in the Master Room,<br/>and does not pose a "security risk", since the enactor has volunteered <br/>his position by triggering a $command or similar.<br/><br/>The object performing the action can be referenced via '%!'. This<br/>returns the dbref number of the object. It is equivalent to the function<br/>evaluation "NUM(me)". In the above example, the object that has been<br/>triggered (and thus is performing the action) is the Plush Shaav Doll.<br/><br/>* * * * *<br/><br/>The "stack" in MUSH is simply a place where strings are stored; it<br/>is not a literal "stack" in the usual sense of having a top object which<br/>can be pushed and popped (as in MUF, or as defined in a standard computer<br/>science class). The stack consists of ten strings, numbered 0 through 9.<br/>Strings on the stack are referred to as %0, %1, %2, and so on, through %9.<br/>The mechanisms for copying strings into the stack will be explained later.<br/><br/>Related to "percent" substitution is the V() function. It produces<br/>identical output to the equivalent percent substitution. For example, <br/>'[v(0)]' is equivalent to '%0', and '[v(N)]' is the same is '%N'.<br/>Throughout this manual, however, '%0' and other percent substitutions<br/>will be used instead of 'v(0)', since the evaluation of percent subtitutions<br/>is faster than the evaluation of V-functions. <br/><br/>26 registers, "numbered" va-vz, are available for programming, as part<br/>of the "standard" collection of MUSH attributes. They may be accessed by <br/>either %va, or [v(va)]. Note that the square brackets [] force something to <br/>be evaluated as a string.<br/><br/>1.50 provides the additional registers wa-wz and xa-xz. These behave<br/>in a manner identical to va-vz.<br/><br/>Percent substitutions should always be used instead of functions,<br/>where possible. In fact, you should ALWAYS use the percent substitution,<br/>unless you are SURE that the function version is required -- use %N instead<br/>of v(N), %! instead of num(me), and so forth. There are virtually no<br/>situations which require the functions, and thus using the function<br/>versions is inefficient and wasteful. Furthermore, please note that<br/>it's just "%0", NOT "[%0]"; the additional square brackets cause an<br/>unnecessary extra evaluation and thus are inefficient.<br/><br/>Please note that if you access something with a percent-substitution, if<br/>you capitalize the first letter of the substitution, then the first letter<br/>of the text returned will also be capitalized.<br/><br/>The S() function forces an additional round of pronoun substitution.<br/>This is useful if you are evaluating a string and want to force the parser<br/>to substitute in the values for all (non-escaped) functions.<br/><br/>Percents can also be used to add in special characters. %r is a carriage<br/>return, %t is a tab character, and %b is a blank space. To show a literal<br/>"%", use "%%".  '%r' is actually two characters (a carriage return and<br/>newline), and functions like STRLEN() will count it as two.<br/><br/>Finally, there are temporary storage "registers", also numbered 0 through 9.<br/>They are set via the function SETQ(), and retrieved via the function R(),<br/>or through the %q-substitution. The values set via SETQ() are preserved<br/>through the entire command list associated with a given command. SETQ()<br/>is a function which just returns a blank string, and has the syntax,<br/>"setq(&lt;register number&gt;,&lt;value&gt;)".  "r(&lt;register number&gt;)" retrieves the<br/>value. These functions will be explained in greater detail later.<br/>For now, just believe that they allow you to keep values around<br/>temporarily. The odd name SETQ comes from the programming language LISP.<br/><br/>======================================<br/>[ Example 4.1:  Percent demonstration ]<br/>&gt; @sex me=female<br/>Set.<br/>&gt; @va me=test<br/>Set.<br/>&gt; say %va<br/>You say "test"<br/>&gt; say %Va<br/>You say "Test"<br/>&gt; say %N is demonstrating %p example.<br/>You say "Amberyl is demonstrating her example."<br/>&gt; say [setq(0,testing for fun)]-- %q0<br/>You say "-- testing for fun"<br/>&gt; say [setq(0,testing for fun)]-- %Q0<br/>You say "-- Testing for fun"<br/>======================================<br/><br/><br/>4.2   General attributes and action lists<br/><br/>The 26 registers are often referred to as "general attributes," since<br/>they can be used to store anything. Often, they are good places to put<br/>variables. In addition to being accessible by the v-function, they can<br/>also be accessed by using the GET() function. The syntax for this is<br/>"get(object/attribute)". "[get(me/va)]" is always equivalent to "[v(va)]"<br/>or "%va".<br/><br/>GET() is very similar to the v-function, except it requires an object<br/>to get the attribute from. It may be used to get any attribute - registers,<br/>descriptions, non-standard attributes, etc. When working only with one object,<br/>it is generally more efficient to use a v-function instead of using GET().<br/><br/>GET_EVAL() is similar to GET(), except that it also evaluates the<br/>attribute. U() is also similar, and also evaluates the attribute, but<br/>it can be used for user-defined functions which take parameters (more<br/>on this later). <br/><br/>GET_EVAL()'s syntax is like GET()'s:  "get_eval(object/attribute)"<br/>U()'s basic syntax can be like either V()'s or GET()'s; either<br/>"u(attribute)" or "u(object/attribute)" is valid. (For information<br/>on how to pass parameters to U(), see a later section in this manual.)<br/><br/>There is a subtle difference between the two functions, in addition to<br/>U()'s ability to take parameters<br/>The enactor of a GET_EVAL() is the object which is actually<br/>performing the GET_EVAL(); the enactor of a U() is the original enactor.<br/><br/>======================================<br/>[ Example 4.2a:  GET_EVAL() vs. U() ]<br/>&gt; say %!<br/>You say "#3"<br/>&gt; @create Test<br/>Test created as object #1034<br/>&gt; @va test=Enactor: %# -- Me: %!<br/>Set.<br/>&gt; @vb test=$test: @pemit %#=Get_Eval: [get_eval(me/va)]%rU: [u(va)]<br/>Set.<br/>&gt; test<br/>Get_Eval: Enactor: #1034 -- Me: #1034<br/>U: Enactor: #3 -- Me: #1034<br/>======================================<br/><br/>If you're confused by the difference between GET(), GET_EVAL(), and U(),<br/>don't worry about it; details will be provided later, and you don't need<br/>to worry about the latter two functions if you're only doing very basic<br/>things with MUSH.<br/><br/>* * * * *<br/><br/>General attributes are often used to store action lists, which are<br/>long lists of commands, to be queued and executed. For example, you could<br/>@create an object called Test, and "@va Test=:explodes.; @destroy me"<br/><br/>General attributes are usually activated by "triggers". The syntax for<br/>this is @trigger object/attribute. @trigger is usually abbreviated to @tr.<br/>Most of the time, one attribute will trigger another, but you can also type<br/>directly @tr object/attribute. <br/><br/>For example, if you typed @tr Test/va, from the example above, you would see:<br/>  Triggered.<br/>  Test explodes.<br/>  You get back your 10 Mark deposit for Test.<br/>  Test has left.<br/><br/>You may also pass variables on the stack from attribute to attribute, using<br/>trigger. Often, this is a must, since the stack is cleared when something<br/>new is triggered. The syntax is "@tr object/attribute=thing,thing,thing,etc."<br/>These new things become %0, %1, %2, etc., respectively, in the triggered<br/>register. Almost anything can be legally passed on the stack - function<br/>evaluations of any type, % arguments, numbers, strings, etc.<br/><br/>======================================<br/>[ Example 4.2b:  Sentence Reverser ]<br/>[ This object listens for four words and prints them out backwards. ]<br/>&gt; @create Reverser<br/>Reverser created as object #25789<br/>&gt; @listen reverser=* says "* * * *"<br/>Set.<br/>&gt; @ahear reverser=@tr me/va=%4,%3,%2,%1<br/>[ Note that %0 is left out, since %0 is the * says - the person talking ]<br/>Set.<br/>&gt; @va reverser="%0 %1 %2 %3<br/>Set.<br/>&gt; drop reverser<br/>Reverser has left.<br/>Reverser has arrived.<br/>Dropped.<br/>&gt; "First second third fourth<br/>You say "First second third fourth<br/>Reverser says "fourth third second First"<br/>===========================================<br/><br/><br/>4.3   The queue and delayed execution<br/><br/><br/>The queue is the list of commands that the MUSH is going to execute.<br/>All commands are put into it. Most are evaluated quickly, in the order<br/>that they enter the queue (first to last), although @trigger takes at <br/>least one queue cycle to execute and @force at least two. Setting<br/>an attribute also takes time. One must be careful, when programming, that all<br/>commands are getting executed at the correct times. There is no hard and fast<br/>rule for this; experimentation is generally the only way to find out if your<br/>object is executing commands in the correct order.<br/><br/>The queue may be checked by doing a @ps. If you have an infinite loop,<br/>this is likely to be very long. If you're not sure if an object of yours is<br/>infinite looping, @ps is a surefire way of checking. <br/><br/>@ps separates the queue into four sections - Player, Object, <br/>Wait, and Semaphore. The player queue shows what you have triggered; the <br/>object queue shows what your objects have triggered. The Wait queue shows<br/>commands that will be executed in the future - commands that you have queued <br/>using @wait (explained below). The Semaphore queue shows semaphore countdowns <br/>(explained later). The total number of queued commands is also displayed.<br/><br/>The default @ps switch is "@ps/brief". This shows the objects<br/>and the commands they are running. For the wait queue, it also shows<br/>the time to wait. For the semaphores, it shows the object that the command<br/>is waiting on, and if the semaphore is using the timer option, it also<br/>shows the remaining time. Finally, it displays the total count of queued<br/>commands in each of the four categories.<br/><br/>"@ps/long" displays all the information that "@ps/brief" does,<br/>plus the enactor of the object, and any variables which are being passed<br/>on the stack for eventual execution as part of a @trigger.<br/><br/>"@ps/summary" shows just the total count of queued commands. Note<br/>that @ps defaults to displaying the queue for the individual executing<br/>the @ps; only wizards may specify a player name or the "/all" switch.<br/>In the totals line, no matter what switches are specified, the numbers<br/>in each category are shown as Number1/Number2. The first number is the<br/>number of queued commands that you have in that category; the second<br/>number is the total number of commands queued in that category. <br/>Player and Object categories also have a "[#del]", where "#" is the<br/>number of commands deleted from the queue via @halt.<br/><br/>* * * * *<br/><br/>@ps in 1.50 is somewhat different. "@ps" with no arguments shows<br/>your personal queue - the objects and the commands they are running,<br/>and, for the wait queue, the time to wait. It also displays the total<br/>count of queued commands in each of the queues, in the format <br/>&lt;Number of your commands&gt; / &lt;Total number of commands in that queue&gt;.<br/><br/>"@ps all" prints the queue for all players. Wizards can also do<br/>"@ps *&lt;player&gt;" to get a queue for that player. In both cases, a queue<br/>count is provided.<br/><br/>Anyone may do a "@ps count" to get a count of the number of<br/>queued commands.<br/><br/>* * * * *<br/><br/>Infinite loops on objects are dangerous. Every queued command costs <br/>1/64th of a penny. Plus, if an object loops badly enough, it can severely slow<br/>down the game for others. If you have a loop, you can use @halt. It clears<br/>your personal queue. @halt &lt;command&gt; clears your personal queue, and adds that<br/>new command to the queue. @halt &lt;object&gt;=&lt;new command&gt; clears that object's<br/>queue and adds that new command to the queue.<br/><br/>The other way of halting something is to set the HALT flag on it. An<br/>object set HALT is essentially inert - it does not @listen, @triggers and<br/>@force don't work on it, etc. Also, in 1.50, UFUN() and ZFUN() will return<br/>"#-1 OBJECT HALTED"  (recursion in a UFUN or ZFUN will automatically set<br/>the object HALT).<br/><br/>The @halt command in 1.50 is slightly different. If you, or one of<br/>your objects, does a "@halt", it wipes out your entire queue. There is no<br/>way to clear the queue commands on just one object. You can also do<br/>@halt &lt;player&gt;=&lt;new command&gt;, which wipes out the player's entire queue<br/>and places the new command in it; if you are not a wizard, the player must<br/>be yourself. "@halt &lt;object&gt;" in 1.50 with no new command also sets the<br/>object HALT. If you just want to stop an infinite loop, use "@halt" with <br/>no arguments.<br/><br/>There is one command called @allhalt (1.50. In 2.0, it's @halt/all)<br/>which is wizard-only. It clears the queue for the entire MUSH, and is used <br/>in emergencies. All connected players receive the message, "Your objects <br/>have been globally halted by &lt;Wizard&gt;."<br/><br/>* * * * *<br/><br/>The syntax of @wait is simple:  @wait &lt;number of seconds&gt;=&lt;command list&gt;<br/>There is another, more complex, type of @wait which is timed on objects; <br/>this type of @wait involves a "semaphore" and will be described later.<br/>@wait is very useful for trying to get objects to execute commands in the<br/>correct order, as well as for doing time-delayed sequences - for example,<br/>descriptions on a room that change every few hours.<br/><br/>=============================<br/>[ Example 4.3:  Explosive<br/>[ This will create an object which explodes fifteen seconds after being<br/>  dropped. It gives a warning five seconds before it explodes. ]<br/>&gt; @create Explosive<br/>Explosive created as object #23083<br/>&gt; @drop explosive=You set down the explosive and ignite it.<br/>Set.<br/>&gt; @adrop explosive=@wait 10=:pulses dangerously. It'll explode in another five<br/>seconds!;@wait 15={:explodes!;@destroy me}<br/>Set.<br/>&gt; drop explosive<br/>Explosive has left.<br/>You set down the explosive and ignite it.<br/>[ 10 seconds pass ]<br/>Explosive pulses dangerously. It'll explode in another five seconds!<br/>[ another 5 seconds pass ]<br/>Explosive explodes!<br/>You get your 10 Marks deposit back for Explosive.<br/>Explosive has left.<br/>============================<br/><br/><br/>4.4   Decision making: @switch<br/><br/>@switch is the closest thing to IF-THEN-ELSE on a MUSH. It is similar to<br/>the CASE statement in many programming languages. Its syntax is<br/>@switch &lt;var&gt;=&lt;cond1&gt;,&lt;action1&gt;,&lt;cond2&gt;,&lt;action2&gt;,&lt;cond n&gt;,&lt;action n&gt;,&lt;default&gt;<br/>@switch statements may be nested. One must be very careful about using commas<br/>and semi-colons when using @switch - any statements which contain either commas<br/>or semi-colons should be surrounded by curly braces { }. A comma will signal<br/>a new case/action, and a semi-colon the end of the @switch statement, if not<br/>in the curly braces. This is a commonly made mistake - when programming<br/>objects whose @switches do not appear to work, always check for misplaced<br/>commas or semi-colons. <br/><br/>One thing to note is that the variable to switch on does not have to be<br/>evaluated within square brackets [ ]. Percent substitutions, like %va, are<br/>okay to switch on, as are functions simply stated, like words(v(va)).<br/><br/>After the variable name is ALWAYS an equals sign. @switch %va=&gt;1,:foo<br/>does NOT mean "if va is greater than or equal to one, :foo". It means "if va<br/>is strictly greater than one, :foo". The equals sign is simply part of the<br/>@switch syntax. If you want greater than or equal to, you will have to use<br/>the GTE() function.<br/><br/>There are two option switches to @switch, /first and /all. In 2.0, which<br/>one is the default will depend on the MUSH ("@list options" to see).<br/><br/>"@switch/all" performs the actions associated with all matching<br/>targets. In other words, if the targets are not mutually exclusive, more<br/>than one set of actions may be undertaken. Its 1.50 equivalent is the<br/>standard "@switch" command.<br/><br/>"@switch/first" matches the first target it can, and executes the<br/>statements associated with that. Even if the targets are not mutually<br/>exclusive, only the actions associated with the first target matched will<br/>be executed. The 1.50 equivalent of this is the "@select" command.<br/><br/>=============================<br/>[ Example 4.4:  Dog ]<br/>[ The dog will respond to simple commands that someone says ]<br/>&gt; @create Dog<br/>Dog created as object #23084<br/>&gt; @listen dog=*"Dog, *"<br/>Set.<br/>&gt; @ahear dog=@switch %1=sit,:sits down.,roll over,:rolls over obediently,play <br/>  dead,:flops onto the ground.<br/>Set.<br/>&gt; drop dog<br/>Dog has left.<br/>Dog has arrived.<br/>Dropped.<br/>&gt; "Dog, sit<br/>You say "Dog, sit"<br/>Dog sits down.<br/>&gt; "Dog, play dead"<br/>You say "Dog, play dead"<br/>Dog flops onto the ground.<br/>&gt; "Dog, roll over<br/>You say "Dog, roll over"<br/>Dog rolls over obediently.<br/>=============================<br/><br/><br/>4.5   Other ways of triggering<br/><br/>It is frequently useful to be able to trigger an object without having<br/>to pick it up, drop it, or have it listen for something. Therefore, MUSH<br/>provides for "using" objects. <br/><br/>The attributes @use, @ouse, and @ause are associated with the "use"<br/>command. "use &lt;object&gt;" triggers these three registers (note the absence of<br/>the @ sign in triggering). An object can only be used if there is something in<br/>the @ause register. The person who uses the object is shown the message in the<br/>@use; the other people in the room see the @ouse message. The @ause command<br/>list is executed. This, in essence, works just like "get" and "drop" - the<br/>command "use" has simply been added.<br/><br/>========================================<br/>[ Example 4.4:  Bubbly pie revisited ]<br/>[ @using the bubbly pie performs an "eating action" and destroy. ]<br/>&gt; @create Bubbly pie<br/>Bubbly pie created as object #30216<br/>&gt; @ause pie=@emit %N gobbles down the bubbly pie.;@destroy me<br/>Set.<br/>&gt; use pie<br/>You use Bubbly pie<br/>Elsa gobbles down the bubbly pie.<br/>You get your 10 Marks deposit back for Bubbly pie.<br/>Bubbly pie has left.<br/>========================================<br/><br/><br/>Another way to trigger an object is to set its @startup. The commands<br/>in the @startup attribute are executed whenever the MUSH is restarted.<br/>This is useful for objects that need to run continuously, such as clocks.<br/>Objects with a @startup attribute are automatically given the STARTUP flag,<br/>represented by "z". This flag is simply used for internal accounting and<br/>does not affect anything else.<br/><br/><br/>4.6   User-defined commands<br/><br/>Perhaps one of the most common ways of triggering an object, user-defined<br/>commands are the closest things to MUCK @action that MUSH provides. They allow<br/>other players to type "command &lt;arguments, if any&gt;" and have that execute just<br/>as if the command was part of the MUSH. Unlike MUCK, however, there are few<br/>global user-defined commands. One must be in the same room with, or carrying,<br/>the object on which the command is defined. The only exceptions to this are<br/>exits/commands defined on the "master room". See the wizard section of this<br/>manual for details.<br/><br/>These commands may be set on any register or non-standard attribute.<br/>The syntax is:  @&lt;attribute&gt; &lt;object&gt;=$&lt;command&gt;: &lt;action list&gt;<br/>The command may take arguments by using * or ?, etc., in a format similar to<br/>that use by @ahear/@listen.<br/><br/>User-defined commands are matched on every object in the room or in<br/>your inventory, so you may want to avoid command names that might be<br/>extremely common. Commands on the MUSH are parsed in the order: exit<br/>names, defined MUSH commands (like @desc, page, etc.), then<br/>user-defined commands, then Master Room commands. You should be<br/>extremely careful not to define commands on an object like $p<br/>*:&lt;action&gt;, since this will be parsed as "page" and it will be ignored<br/>by the object. Furthermore, note that many MUSHes have global commands<br/>which begin with '+' and mailers which use '-' as an editing<br/>indicator; thus, you should avoid starting your own commands with<br/>either of those characters.<br/><br/>In 2.0, there are config options which determine two things:<br/>The first is the ability of an object to trigger its own $commands. The<br/>second is the ability to trigger $commands on players. One can, however,<br/>always trigger $commands on an object one is carrying or is in the same room.<br/><br/><br/>===============================<br/>[ Example 4.6:  Tray of Food ]<br/>[ This object is a tray of food which you can "eat", "drink" and "discard" ]<br/>&gt; @create Tray of Food<br/>Tray of Food created as object #482<br/>&gt; @va food=$eat: @emit %N takes a slice of bread off the try and eats it.<br/>Set.<br/>&gt; @vb food=$drink: @emit %N takes a cup of water off the tray and drinks it.<br/>Set.<br/>&gt; @vc food=$discard: @emit %N discards %p tray of food;@destroy me<br/>Set.<br/>&gt; eat<br/>Elsa takes a slice of bread off the tray and eats it.<br/>&gt; drink<br/>Elsa takes a cup of water off the tray and drinks it.<br/>&gt; discard<br/>Elsa discards her tray of food.<br/>You get your 10 Marks deposit back for Tray of Food.<br/>Tray of Food has left.<br/>==============================<br/><br/><br/>Sometimes it's useful to be able to find out what $commands are<br/>triggered in a room. 1.50's @scan command allows you to check for a<br/>command match on objects that you control or that are set VISUAL.<br/>The syntax of this command is simply "@scan &lt;string&gt;". It checks for<br/>all possible matches on your location, its contents, yourself, your<br/>inventory, the zone or parent room of your location, your personal<br/>zone, and the master room. It will display the name of any objects<br/>which have commands which could match that string, followed by the<br/>number of commands matched in brackets.<br/>     <br/>MudCore provides for similar functionality, via its '+scan' command.<br/>It checks for matches, starting from a specific object, and lists<br/>the attributes and command wildcard patterns which match (if you<br/>can examine the object), or the object which matches the commands<br/>(if you can't examine it).<br/><br/>* * * * *<br/><br/>One interesting and quite flexible command is "@verb". This command<br/>essentially allows you to define your own @attr/@oattr/@aattr triplets,<br/>allowing you to define your own "standard" verbs. This command is most<br/>useful for someone who is a wizard.<br/><br/>This command is in the format:<br/>@verb &lt;obj to read attributes off (victim)&gt;=&lt;obj to be told messages (actor)&gt;,<br/>   &lt;attr name&gt;, &lt;default message for attr&gt;, <br/>   &lt;oattr name&gt;, &lt;default message for oattr&gt;,<br/>   &lt;aattr name&gt;, &lt;args&gt;<br/><br/>Most of those those fields should be self-explanatory; &lt;args&gt; are<br/>the values to be passed on the stack, as %0-%9.  For example, to simulate<br/>"drop" with a command like "put", you would use a user-defined command<br/>something like:   <br/><br/>$put *: @verb [v(0)]=[v(N)],DROP,Dropped.,ODROP,dropped [v(0)].,ADROP<br/><br/>Under 2.0, both the victim and actor must be controlled. Under<br/>1.50, either both victim and actor must be controlled, or the thing which <br/>triggered the verb must be &lt;actor&gt; AND the object which issued the @verb<br/>command must be able to read the attributes from &lt;victim&gt;.  Essentially,<br/>though, one needs to be a wizard in order to make this command generally<br/>useful. It is, however, a rather nifty thing to play with.<br/><br/><br/>4.7   An introduction to functions<br/><br/>Functions are generally used to manipulate strings and other input, or<br/>to generate or retrieve something. They are called using:<br/>&lt;function-name&gt;(&lt;arg1&gt;,&lt;arg2&gt;,&lt;etc&gt;)  and evaluation often requires square<br/>brackets [ ] to be put around the function. It is imperative that the right<br/>number of arguments be passed to the function, and that the parentheses are<br/>correctly matched. You should always use %-substitutions instead of functions<br/>where possible, i.e., %va instead of v(va). Functions may be nested. Only <br/>one pair of square brackets is required around a given function call.<br/>Certain functions, such as V() and GET(), have already been introduced.<br/><br/>Only a few functions require no arguments; TIME(), which simply<br/>returns the current time on the MUSH, is probably the most commonly<br/>used of these. All other functions require one or more arguments. The most <br/>commonly used, aside from the v, s, and get() functions, is the RAND() <br/>function. This generates a random integer between 0 and &lt;number - 1&gt;.<br/>There _is_ a limit to the number of arguments a function can take; you<br/>can find out what this is by asking a local wizard. This is generally 100.<br/>The limit is something to keep in mind if you are doing extremely large calls<br/>to a function like SWITCH(), which takes an arbitrary number of arguments.<br/><br/>Functions used to access basic db info include NUM(), FLAGS(), OWNER(),<br/>LOC(), and MONEY(). These are publicly accessible, and give an object's<br/>database reference number, flags, owner, location (for a player), and money<br/>(also for a player). These functions will be discussed in more detail<br/>later. Other publicly accessible attributes include DESC, and<br/>are gotten using the GET() function. All attributes on an object set VISUAL<br/>are publicly accessible.<br/><br/>Functions used to process lists will be covered later in this manual.<br/>The following functions are used for arithmetic: ADD(), SUB(), MUL(), DIV().<br/>Note that SUB() does not exist in many versions of MUSH code; instead, one<br/>must add the negative of the second number. Some of these functions, such<br/>as SUB(), take ONLY two arguments. Others, like ADD(), can take multiple<br/>arguments (just like LISP arithmetic operators). For example,<br/>"add(2,3,4)" is equivalent to (and more efficient than) "add(2,add(3,4))".<br/><br/>=============================<br/>[ Example 4.7a:  Abacus ]<br/>[ An object that performs arithmetic ]<br/>&gt; @create Abacus<br/>Abacus created as object #19831<br/>&gt; @va abacus=$*+*: @emit The sum of %0 and %1 is [add(%0,%1)].<br/>Set.<br/>&gt; @vb abacus=$*-*: @emit The difference of %0 and %1 is [sub(%0,%1)].<br/>Set.<br/>&gt; @vc abacus=$*x*: @emit The product of %0 and %1 is [mul(%0,%1)].<br/>Set.<br/>&gt; @vd abacus=$*/*: @emit The quotient of %0 and %1 is [div(%0,%1)].<br/>Set.<br/>&gt; 1+2<br/>The sum of 1 and 2 is 3.<br/>&gt; 2x6<br/>The product of 2 and 6 is 12.<br/>&gt; 8-5<br/>The difference of 8 and 5 is 3.<br/>&gt; 9/3<br/>The quotient of 9 and 3 is 3.<br/>==============================<br/><br/>Here's another example, demonstrating the combined use of @switch and RAND(),<br/>"use", and various %-substitutions.<br/><br/>======================================<br/>[ Example 4.7b:  Plush Shaav Doll ]<br/>[ To conserve space, 'Set.' messages after attribute sets have been omitted. ]<br/><br/>&gt; @create Life-size Plush Shaav Doll<br/>Life-size Plush Shaav Doll created as object #3895<br/>&gt; @desc doll=This is a plush doll nearly six feet in height. It's fuzzy and<br/>  and cute, featuring the Grand Hierarch Shaav wearing his usual calm<br/>  expression, although the effect is somewhat spoiled by the fluffy stuffing<br/>  and bright green-button eyes. The life-sized doll is clothed in the black<br/>  robes of the Grolims, and would probably seem to radiate evil if it didn't<br/>  look so snuggly. It's probably made by the same people who made Belzoinks.<br/>&gt; @succ doll=You prop up a life-sized plush doll of Shaav.<br/>&gt; @osucc doll=grins evilly as %s props up a life-sized plush doll of Shaav.<br/>&gt; @drop doll=You drop a life-sized plush doll of Shaav on its head.<br/>&gt; @odrop doll=drops a life-sized plush doll of Shaav on its head.<br/>&gt; @use doll=You pull a string on the doll's neck.<br/>&gt; @ouse doll=pulls on a string on the plush Shaav doll's neck.<br/>&gt; @ause doll=@switch rand(4)=<br/>    0, {:points a finger at %N and squeaks. "Die!"},<br/>    1, {:screams:%tDeath!%tDestruction!%tChaos!},<br/>    2, {:looks at %N for a moment, then booms to %o, "DOOM."},<br/>    3, {:squeaks. "Mama!%b%bMama!%b%bMama!"}<br/><br/>[ If Polgara (a female) types "use doll", she sees "You pull a string on the<br/>  doll's neck", plus one of the following messages: ]<br/><br/>Life-size Plush Shaav Doll points a finger at Polgara and squeaks. "Die!"<br/>Life-size Plush Shaav Doll screams:	Death!	Destruction!	Chaos!<br/>Life-size Plush Shaav Doll looks at Polgara for a moment, then booms to<br/>  her, "DOOM."<br/>Life-size Plush Shaav Doll squeaks. "Mama!  Mama!  Mama!"<br/><br/>Note the use of "%b" and "%t" substitutions for blank spaces and<br/>tabs. Because "%t" inserts a literal tab character, the spacing will<br/>vary depending on where tab stops are set by the player's terminal.<br/>Also note that the @switch action clauses had to be enclosed in braces,<br/>since the statements used inside contained commas.<br/><br/>==============================<br/><br/><br/>4.8   Do it! -- falcon control<br/><br/>This section assumes that you have created the falcon as per section<br/>2.9 of this manual. The object you will create in this example will be used<br/>to control it. &lt;#FL&gt; below refers to the dbref number of your falcon,<br/>and &lt;FL&gt; refers to the name of your falcon.<br/><br/>The controller will give you the ability to force your falcon<br/>remotely to pose and think messages, return to you on command, and go to a<br/>player on command, using: '&lt;message&gt;  to think a message, .&lt;pose&gt; to pose <br/>something, return to recall the falcon, and goto &lt;player&gt; to go to a<br/>player's location.<br/><br/>Issue the following commands:<br/><br/>@create &lt;FL&gt;'s controller<br/>[ Then lock it, desc it, etc. ]<br/><br/>@va controller=$'*: @fo &lt;#FL&gt;=:chirps &lt;&lt; %0 &gt;&gt;<br/>[ This is used for "speech" ]<br/><br/>@vb controller=$.*: @fo &lt;#FL&gt;=:%0<br/>[ This is used for forcing the falcon to pose ]<br/><br/>@vc controller=$fly *: @fo &lt;#FL&gt;={:soars into the air and flies off.; %0}<br/>[ This is used to have the falcon fly in a given direction ]<br/><br/>@vd controller=$return: @fo &lt;#FL&gt;={:returns to %N.; @set me=!puppet;<br/>    @tel me=owner(me); leave; :soars towards you!; @set me=puppet}<br/>[ This brings the falcon back to you, with appropriate messages. The<br/>  INHERIT flag must be set in order for this to work. ]<br/><br/>@ve controller=$goto *: @fo &lt;#FL&gt;={@switch loc(*%0)=#-1,{p &lt;your name&gt;=I can't<br/>    find %0}, {:goes to find %0.; @tel me=loc(*%0); :soars towards you!}}<br/>[ This is used to go to the location of a player. It first checks to see if <br/>  the player can be found - if the player does not exist or the player is set<br/>  UNFINDABLE, #-1 is returned and the falcon pages the player with the<br/>  fail message - and then, if the player exists, teleports to that player's<br/>  location, with appropriate messages. ]<br/>    <br/><br/>INDEX OF SECTION II EXAMPLES:<br/><br/>3.1   Living Room<br/>3.5   Home<br/>4.1   Percent demonstration<br/>4.2a  GET_EVAL() vs. U()<br/>4.2b  Sentence Reverser<br/>4.3   Explosive<br/>4.4   Dog<br/>4.5   Bubbly pie revisited<br/>4.6   Tray of food<br/>4.7a  Abacus<br/>4.7b  Plush Shaav Doll<br/>4.8   Falcon control<br/>
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>