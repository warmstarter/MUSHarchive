<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Color Object</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Color-Object.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Color-Object.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Color-Object.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Color-Object.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Color-Object.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Color-Object.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Globals.html">Globals</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Color-Object.html#">Color Object</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Color Object
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>Various color globals (+colors2, +colors2/hex, +colors2/xterm256, +colors2 &lt;name&gt;, +colors2/xterm256 &lt;name&gt;, +palette, +xcolors) based upon the new color features in PennMUSH.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/ChaosMageX@M-U-S-H.html">ChaosMageX</a>@<a href="../Source/M-U-S-H.html">M*U*S*H</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Globals.html">Globals</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="../Command/@assert.html" class="command">@assert</a>,
                    <a href="http://www.mushcode.com/Command/@create" class="command">@create</a>,
                    <a href="http://www.mushcode.com/Command/@dolist" class="command">@dolist</a>,
                    <a href="http://www.mushcode.com/Command/@link" class="command">@link</a>,
                    <a href="../Command/@nspemit.html" class="command">@nspemit</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/abs.html" class="function">abs&#40;&#41;</a>,
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/align.html" class="function">align&#40;&#41;</a>,
                        <a href="../Function/ansi.html" class="function">ansi&#40;&#41;</a>,
                        <a href="../Function/baseconv.html" class="function">baseconv&#40;&#41;</a>,
                        <a href="../Function/chr.html" class="function">chr&#40;&#41;</a>,
                        <a href="../Function/dec.html" class="function">dec&#40;&#41;</a>,
                        <a href="../Function/div.html" class="function">div&#40;&#41;</a>,
                        <a href="../Function/elements.html" class="function">elements&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/fdiv.html" class="function">fdiv&#40;&#41;</a>,
                        <a href="../Function/first.html" class="function">first&#40;&#41;</a>,
                        <a href="../Function/floordiv.html" class="function">floordiv&#40;&#41;</a>,
                        <a href="../Function/fmod.html" class="function">fmod&#40;&#41;</a>,
                        <a href="../Function/graball.html" class="function">graball&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/if.html" class="function">if&#40;&#41;</a>,
                        <a href="../Function/inc.html" class="function">inc&#40;&#41;</a>,
                        <a href="../Function/isint.html" class="function">isint&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/letq.html" class="function">letq&#40;&#41;</a>,
                        <a href="../Function/lmath.html" class="function">lmath&#40;&#41;</a>,
                        <a href="../Function/lnum.html" class="function">lnum&#40;&#41;</a>,
                        <a href="../Function/lpos.html" class="function">lpos&#40;&#41;</a>,
                        <a href="../Function/matchall.html" class="function">matchall&#40;&#41;</a>,
                        <a href="../Function/min.html" class="function">min&#40;&#41;</a>,
                        <a href="../Function/mul.html" class="function">mul&#40;&#41;</a>,
                        <a href="../Function/munge.html" class="function">munge&#40;&#41;</a>,
                        <a href="../Function/regeditall.html" class="function">regeditall&#40;&#41;</a>,
                        <a href="../Function/regmatch.html" class="function">regmatch&#40;&#41;</a>,
                        <a href="../Function/rjust.html" class="function">rjust&#40;&#41;</a>,
                        <a href="../Function/round.html" class="function">round&#40;&#41;</a>,
                        <a href="../Function/setinter.html" class="function">setinter&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/setr.html" class="function">setr&#40;&#41;</a>,
                        <a href="../Function/sort.html" class="function">sort&#40;&#41;</a>,
                        <a href="../Function/space.html" class="function">space&#40;&#41;</a>,
                        <a href="../Function/strinsert.html" class="function">strinsert&#40;&#41;</a>,
                        <a href="../Function/strlen.html" class="function">strlen&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/table.html" class="function">table&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/unique.html" class="function">unique&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/vmag.html" class="function">vmag&#40;&#41;</a>,
                        <a href="../Function/vsub.html" class="function">vsub&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Color Object
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Color-Object.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @create ColorObj<br/>@link ColorObj = #0<br/>@set ColorObj=!NO_COMMAND<br/>&amp;CMD ColorObj=<br/>&amp;CMD`PRINT_COLORS0 ColorObj=$+colors2:@dolist setq(a,u(Fun`Color_Alignment)) [lnum(97,122)]=@nspemit %#=u(Fun`Print_Colors,chr(%i0)*)<br/>&amp;CMD`PRINT_COLORS0_HEX ColorObj=$+colors2/hex:@dolist lnum(1,setr(w,words(setr(c,unique(sort(iter(colors(),colors(+%i0,hex)),a),a)))),%b,50)=@nspemit %#=iter(lnum(%i0,min(add(%i0,49),%qw),%b,2), align(8 29 8 29, ansi(setr(0,elements(%qc,%i0)),%q0):,colors(%q0,name), ansi(setr(0,elements(%qc,inc(%i0))),%q0):,colors(%q0,name)), %b,%r)<br/>&amp;CMD`PRINT_COLORS0_XTERM ColorObj=$+colors2/xterm256:@dolist lnum(1,words(setr(g,unique(sort(setr(c,iter(colors(),colors(+%i0,xterm256))),n),n))),%b,50)=@nspemit %#=iter(extract(%qg,%i0,50), align(&gt;3 1 72,ansi(+xterm%i0,%i0),:,sort(elements(colors(),matchall(%qc,%i0)),a)), %b,%r)<br/>&amp;CMD`PRINT_COLORS1 ColorObj=$+colors2 *:@assert strlen(colors(%0))={@nspemit %#=No Color Names Match [ansi(h,%0)]};think setq(a,u(Fun`Color_Alignment));@assert regmatch(%0,^\[\\?\\*\]*\\*\[\\?\\*\]*$)={@nspemit %#=u(Fun`Print_Colors,%0)};@dolist lnum(97,122)=@nspemit %#=u(Fun`Print_Colors,chr(%i0)*)<br/>&amp;CMD`PRINT_COLORS1_HEX ColorObj=$+colors2/hex *:@assert strlen(colors(%0))={@nspemit %#=No Color Names Match [ansi(h,%0)]};@dolist lnum(1,setr(w,words(setr(c,unique(sort(iter(colors(%0),colors(+%i0,hex)),a),a)))),%b,50)=@nspemit %#=iter(lnum(%i0,min(add(%i0,49),%qw),%b,2), align(8 29 8 29, ansi(setr(0,elements(%qc,%i0)),%q0):,graball(colors(%q0,name),%0), ansi(setr(0,elements(%qc,inc(%i0))),%q0):,graball(colors(%q0,name),%0)), %b,%r)<br/>&amp;CMD`PRINT_COLORS1_XTERM ColorObj=$+colors2/xterm256 *:@assert strlen(colors(%0))={@nspemit %#=No Color Names Match [ansi(h,%0)]};@dolist lnum(1,words(setr(g,unique(sort(setr(c,iter(colors(%0),colors(+%i0,xterm256))),n),n))),%b,50)=@nspemit %#=iter(extract(%qg,%i0,50), align(&gt;3 1 72,ansi(+xterm%i0,%i0),:,sort(elements(colors(%0),matchall(%qc,%i0)),a)), %b,%r)<br/>&amp;CMD`PRINT_COLOR_TABLE ColorObj=$+palette:@dolist setq(c,colors()) [setq(l,inc(lmath(max,vsub(lpos(%qc%b,%b),lpos(%b%qc,%b)))))] [setq(m,mul(div(8192,mul(div(78,%ql),add(%ql,16))),div(78,%ql)))] [lnum(1,words(%qc),%b,%qm)]=@pemit %#=[table(iter(extract(%qc,%i0,%qm),ansi(+%i0,%i0)),dec(%ql))]<br/>&amp;CMD`PRINT_XTERM_TABLE ColorObj=$+xcolors:@pemit %#=[table(iter(lnum(0,255),ansi(+xterm##,##:[colors(+xterm##,hex)])),&gt;14,61)]<br/>&amp;DAT ColorObj=<br/>&amp;DAT`C16_ANSI ColorObj=x r g y b m c w hx hr hg hy hb hm hc hw<br/>&amp;DAT`C16_HEX ColorObj=000000 cd2200 00cd22 cdcd00 2200cd cd00cd 00cdcd e5e5e5 7f7f7f ff0000 00ff00 ffff00 0000ff ff00ff 00ffff ffffff<br/>&amp;DAT`C16_HSV ColorObj=0 0 0|0 1 0.805|120 1 0.805|60 1 0.805|240 1 0.935|300 1 0.805|180 1 0.805|0 0 0.898|0 0 0.497|0 1 1|120 1 1|60 1 1|240 0.64 1|300 1 1|180 1 1|0 0 1<br/>&amp;DAT`C16_VEC ColorObj=0 0 0|205 34 0|0 205 34|205 205 0|34 0 205|205 0 205|0 205 205|229 229 229|127 127 127|255 0 0|0 255 0|255 255 0|0 0 255|255 0 255|0 255 255|255 255 255<br/>&amp;DESCRIBE ColorObj=Color Functions Object<br/>@set ColorObj/DESCRIBE=no_command visual prefixmatch public nearby<br/>&amp;FUN ColorObj=<br/>&amp;FUN`COLOR_ALIGNMENT ColorObj=letq(c,regeditall(colors(),\\d+\\b,), letq(l,lmath(max,vsub(lpos(%qc%b,%b),lpos(%b%qc,%b))), %ql 1 [sub(75,%ql)]))<br/>&amp;FUN`FIND_COLORS ColorObj=switch(%0, #*,colors(%0,name), +*,colors(%0,name), if(isint(%0), elements(colors(),matchall(iter(colors(),colors(+%i0,xterm256)),%0)), elements(colors(),matchall(iter(colors(),colors(+%i0,16color)),%0))))<br/>&amp;FUN`HCM_TO_RGB ColorObj=iter(extract(u(Fun`Hue_RGB_Table, %1, mul(%1,sub(1,abs(sub(fmod(fdiv(%0,60),2),1))))), add(1,floordiv(%0,60)), 1, |), add(%i0,%2))<br/>&amp;FUN`HCM_TO_VEC ColorObj=iter(extract(u(Fun`Hue_RGB_Table, %1, mul(%1,sub(1,abs(sub(fmod(fdiv(%0,60),2),1))))), add(1,floordiv(%0,60)), 1, |), round(mul(add(%i0,%2),255),0))<br/>&amp;FUN`HEX_DIST ColorObj=vmag(vsub(u(Fun`Hex_To_Vec,%0,%b),u(Fun`Hex_To_Vec,%1,%b)))<br/>&amp;FUN`HEX_TO_C16 ColorObj=setq(0,u(Fun`Hex_To_Vec,%0,%b))[first(munge(Fun`Sort_F, iter(v(Dat`C16_Vec),vmag(vsub(%q0,%i0)),|), v(Dat`C16_Ansi)))]<br/>&amp;FUN`HEX_TO_RGB ColorObj=iter(strinsert(strinsert(%0,4,%1),2,%1),fdiv(baseconv(%i0,16,10),255),%1)<br/>&amp;FUN`HEX_TO_VEC ColorObj=iter(strinsert(strinsert(%0,4,%1),2,%1),baseconv(%i0,16,10),%1)<br/>&amp;FUN`HEX_TO_XTERM ColorObj=setq(0,u(Fun`Hex_To_Vec,%0,%b))[first(munge(Fun`Sort_F, iter(v(Dat`CT`Xterm_Vec),vmag(vsub(%q0,%i0)),|), lnum(0,255)))]<br/>&amp;FUN`HSL_TO_HEX ColorObj=u(Fun`RGB_To_Hex,u(fun`HCM_To_RGB, %0, setq(C,mul(sub(1,abs(sub(mul(%2,2),1))),%1)), sub(%2,mul(0.5,%qC))),%b)<br/>&amp;FUN`HSL_TO_VEC ColorObj=u(fun`HCM_To_Vec, %0, setq(C,mul(sub(1,abs(sub(mul(%2,2),1))),%1)),sub(%2,mul(0.5,%qC)))<br/>&amp;FUN`HSV_TO_HEX ColorObj=u(Fun`RGB_To_Hex,u(Fun`HCM_To_RGB, %0, mul(%1,%2), sub(%2,mul(%1,%2))),%b)<br/>&amp;FUN`HSV_TO_VEC ColorObj=u(Fun`HCM_To_Vec, %0, mul(%1,%2), sub(%2,mul(%1,%2)))<br/>&amp;FUN`HUE_RGB_TABLE ColorObj=%0 %1 0|%1 %0 0|0 %0 %1|0 %1 %0|%1 0 %0|%0 0 %1<br/>&amp;FUN`HUE_X_VALUE ColorObj=mul(%1,sub(1,abs(sub(fmod(fdiv(%0,60),2),1))))<br/>&amp;FUN`MUX_ALIGN ColorObj=setq(L,%0)[iter(%2,if(gte(setr(L,add(%qL,inc(strlen(##)))),%1),setq(L,add(%0,inc(strlen(##))))%r[space(%0)])##%b,%b,@@)]<br/>&amp;FUN`PRINT_COLORS ColorObj=letq(c,colors(%0), letq(g,regeditall(%qc,\\d+\\b,), iter(setinter(%qg,%qg), align(%qa,%i0,:,iter(elements(%qc,matchall(%qg,%i0)),ansi(+%i0,%i0))), %b,%r)))<br/>&amp;FUN`RGB_TO_HEX ColorObj=iter(%0,rjust(baseconv(round(mul(%i0,255),0),10,16),2,0),%1,)<br/>&amp;FUN`SORT_F ColorObj=sort(%0,f)<br/>&amp;FUN`VEC_TO_HEX ColorObj=iter(%0,rjust(baseconv(%i0,10,16),2,0),%1,)<br/><br/>think Commands: +colors2, +colors2/hex, +colors2/xterm256, +colors2 &lt;name&gt;, +colors2/xterm256 &lt;name&gt;, +palette, +xcolors
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>