<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Parity&#39;s Code Class 101</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Paritys-Code-Class-101.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Paritys-Code-Class-101.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Paritys-Code-Class-101.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Paritys-Code-Class-101.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Paritys-Code-Class-101.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Paritys-Code-Class-101.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Softcode.html">Softcode</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Paritys-Code-Class-101.html#">Parity&#39;s Code Class 101</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Parity&#39;s Code Class 101
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>A MUSHCoding class, which discusses $-commands, functions, iter(), and more. Not for absolute beginners.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Parity@OGR.html">Parity</a>@<a href="../Source/OGR.html">OGR</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Softcode.html">Softcode</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="http://www.mushcode.com/Command/@emit" class="command">@emit</a>,
                    <a href="http://www.mushcode.com/Command/@wait" class="command">@wait</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/lnum.html" class="function">lnum&#40;&#41;</a>,
                        <a href="../Function/loc.html" class="function">loc&#40;&#41;</a>,
                        <a href="../Function/lwho.html" class="function">lwho&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/owner.html" class="function">owner&#40;&#41;</a>,
                        <a href="../Function/sort.html" class="function">sort&#40;&#41;</a>,
                        <a href="../Function/time.html" class="function">time&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/RhostMUSH.html" class="server">RhostMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>,
                        <a href="../Server/TinyMUSH.html" class="server">TinyMUSH</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>


<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Parity&#39;s Code Class 101
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Paritys-Code-Class-101.html#">
                    <i class="icon-resize-full"></i> Select Content
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        ©2000 Parity@OGR. You may copy and redistribute this document provided that it remains<br/>complete, with credits intact, and is used only for non-profit purposes.*<br/>***** <br/>Parity begins logging. "If anyone does not want to appear in the log, let me<br/>know now, and I'll edit you out before I turn it over to OGR staff."<br/>Gorgo has no problem with that.<br/>Parity bangs its gavel on the podium and calls the class to order. "First I want<br/>to get a feel for how 'beginning' we are. Does everyone know what an object, an<br/>attribute, and a lock are, or should we start there?"<br/>Parity means, also, really know what they are, not just have heard the terms. ;)<br/>Gorgo does.<br/>Parity is pretty sure Roswind does too. "Okee. So, to make sure everyone is<br/>clear, here, there are, essentially, two kinds of attributes. System attributes<br/>which have special meanings, and user attributes, which are just storage space.<br/>'desc' is a system attribute, and 'my-blue-ball-gown-desc' is a user attribute."<br/>Roswind says "Okay. When you say desc, you mean @desc and not the &amp;various descs<br/>for the @desc, yes?"<br/>You say "We probably all already knew that, but it's important because we're<br/>going to play with some system attributes. If everyone can type 'help<br/>commands2', you'll see a list of all the system attributes. Everything on the<br/>commands2 page is just a command to set an attribute, not a 'real' command like<br/>@emit and such.""<br/><br/>  Help available for MUSH Commands (continued):<br/><br/>  @aahear      @aclone      @aconnect    @adescribe   @adfail      @adisconnect<br/>  @adrop       @aefail      @aenter      @afail       @agfail      @ahear<br/>  @akill       @aleave      @alfail      @alias       @amhear      @amove<br/>  @apay        @arfail      @asuccess    @atfail      @atport      @aufail<br/>  @ause        @away        @charges     @conformat   @cost        @describe<br/>  @dfail       @drop        @ealias      @efail       @enter       @exitformat<br/>  @fail        @filter      @forwardlist @gfail       @idesc       @idle<br/>  @infilter    @inprefix    @kill        @lalias      @leave       @lfail<br/>  @listen      @move        @odescribe   @odfail      @odrop       @oefail<br/>  @oenter      @ofail       @ogfail      @okill       @oleave      @olfail<br/>  @omove       @opay        @orfail      @osuccess    @otfail      @otport<br/>  @oufail      @ouse        @oxenter     @oxleave     @oxtport     @pay<br/>  @prefix      @reject      @rfail       @runout      @sex         @startup<br/>  @success     @tfail       @tport       @ufail       @use<br/><br/>Parity nods to Roswind.<br/>You say "@desc, or &amp;desc... it doesn't matter."<br/>You say "The system attributes all have a 'command' (starting with an '@') to<br/>set the attribute, but the trick is... it's just an attribute."<br/>You say "So, you can '&amp;desc me=A fine figure of a bit' and it'll set your desc.<br/>Or you can '@desc me=A fine figure of a bit' and then exa me/desc and you'll see<br/>an attributee with a description in it."<br/>Roswind nods<br/>Gorgo nods.<br/>You say "Then, my-red-dress-desc is just an attribute too... but it doesn't have<br/>special meaning, so if you set '&amp;my-red-dress-desc me=A fine figure in a red<br/>dress.' people won't see the dress when they look at you, but exa<br/>me/my-red-dress-desc will show you the value of 'my-red-dress-desc' as an<br/>attribute on you."<br/>You say "So. To get things rolling, I want everyone to pick a simple noun, and<br/>we're each going to make an object to work with."<br/>You say "I am going to make a ball, for example, with '@create Rubber Ball'; I<br/>take it everyone has made an object before now?"<br/>Rubber Ball created as object #1039<br/>You say "Once you've created your object, Do, '@lock/uselock &lt;object&gt;=me' and<br/>'@set &lt;object&gt;=commands' (where you replace &lt;object&gt; with the name of your<br/>object.)"<br/>Roswind nods. "Got it."<br/>Gorgo nods.<br/>You say "Now, back to system attributes; There's bunches and bunches of them,<br/>and most of them work the same way. Type in '@drop &lt;object&gt;=You drop &lt;object&gt;'<br/>and '@odrop object=drops &lt;object&gt;' ... or some more complex message if you like,<br/>where @drop is what you'll see and @odrop is what everyone else sees."<br/>You say "Once you've done that, drop your object."<br/>You drop the ball, which bounces a few times before coming to a rest.<br/>Gorgo drops the chewtoy, making it SQUEAK as it hits the floor.<br/>Parity grins. "You might already have known about the drop attributes, but I<br/>wanted to make a point... MUSHcode has system attributes for all kinds of<br/>events. Always check help commands2 before coding some complex thing that can be<br/>made simple by just setting the right attribute.<br/>Parity checks if Roswind is with us still?<br/>Parity hmmms, and hopes she'll catch up. "Anyway. If you've done any building,<br/>the system attributes are all just like the ones that you use when building.<br/>Message for the actor, message for everyone else, message for actor on failure,<br/>message everyone else on failure. Make sense?<br/>Roswind :pats the dragon's shoulder and moves away from it.<br/>Gorgo nods.<br/>You say "Roswind, the ':' is unnecessary in @o___ attributes like @odrop."<br/>Roswind says "Fixed. And I understand. Force of habit. :)"<br/>Parity nods.<br/>You say "Okay, so odrop is kinda boring, though it'd be nice if everyone that<br/>made object toys set some of the basic get/drop/give messages, because otherwise<br/>people only see '&lt;object&gt; has arrived' and '&lt;object&gt; has left' and don't know<br/>who acted on the object."<br/>Gorgo says "Yah."<br/>You say "However, there's another set of attributes, the @a___ attributes, which<br/>are the action the object performs when something happens, like @adrop when you<br/>drop an object. THat's starting to look like actually -coding-, and not just<br/>building-with-objects. ;)"<br/>Taken.<br/>Chewtoy has left.<br/>Parity picks up its ball, and sets, '@adrop ball=@wait 10=@emit The rubber ball<br/>rolls across the floor.'<br/>You drop the ball, which bounces a few times before coming to a rest.<br/>The rubber ball rolls across the floor.<br/>You say "The @wait command, in its simple form, just waits a certain number of<br/>seconds before doing something."<br/>Gorgo drops the chewtoy, making it SQUEAK as it hits the floor.<br/>Dragon has left.<br/>The chewtoy starts to decompose.<br/>You say "@wait can also be used with 'semaphores', which are generally used to<br/>make sure some piece of code is only running once, but we won't get into<br/>semaphores today except to say that they exist and not to be confused that help<br/>@wait has a bunch of stuff besides seconds listed in it."<br/>Roswind pats the dragon's shoulder and moves away from it.<br/>The big inflated dragon starts drifting across the room.<br/>Roswind decides not to even look at it right now. ;)<br/>Parity grins. "help is a good thing. Really. :)"<br/>You say "Okay. So we have an object. It can do things when we drop it, and if we<br/>wanted we could repeat that for get and give and being looked at, and all sorts<br/>of things."<br/>You say "Instead, we're going to assume that we want the object to do something<br/>else, when we want it to, by issuing a command."<br/>You say "To make a command is really very simple; You just use a $ and a : in an<br/>attribute. '$&lt;command name&gt;:&lt;action&gt;' ... Like, '&amp;bounce-ball-cmd ball=$bounce<br/>ball:@emit %N bounces the rubber ball.'"<br/>Parity bounces the rubber ball.<br/>You say "Easy enough?"<br/>Chewtoy is kicked across the room in a nice arc. Wheeeee!<br/>Gorgo says "Gotcha."<br/>You say "Does everyone understand the % substitutions?"<br/>Gorgo does.<br/>Roswind grabs the dragons tail and pulls it back.<br/>Roswind nods. "Yes"<br/>You say "'kay."<br/>You say "Now, what I just showed you is the wrong way to do an emitting command.<br/>Or at least, the sloppy way."<br/>You say "We can put more than one action into a command, and then, @pemit will<br/>emit to one specific player, and @oemit will emit to everyone -except- that<br/>player."<br/>You say "&amp;bounce-ball-cmd ball=$bounce ball:@pemit %#=You bounce the rubber<br/>ball. ; @oemit %#=%N bounces the rubber ball."<br/>You bounce the rubber ball.<br/>You say "It looks the same to you, of course, but not to me, and it's much nicer<br/>to have commands act that way; people expect it, because of the way exits and<br/>such work."<br/>Roswind nods.<br/>Gorgo nod.s<br/>You say "Note that I use %# for the emit commands; %# uses the players dbref; %n<br/>will work, and beginning coders often use it, but it will break as soon as there<br/>is an object with a similar name in the room... You've all seen the 'I don't<br/>know which one you mean!' message, I'm sure, when you have an object like<br/>'Parity's Car' around?"<br/>Gorgo says "Yah."<br/>Parity nods.<br/>Roswind understands.<br/>You say "Are you all familiar with functions?"<br/>Roswind says "Such as"<br/>You say "time(), loc(), iter() ..."<br/>Gorgo is familliar with some of them. I know the basics behind them.<br/>You say "Functions are pieces of softcode, that when evaluated, are replaced<br/>with some string; like the % substitutions, except more general."<br/>You say "(This is no longer strictly true with the introduction of 'side-effect<br/>functions' but we'll pretend it's true for now.)"<br/>Roswind nods. "Yes, the time(), loc(), name(), owner() ... those are the ownly<br/>ones I know.<br/>You say "Okee."<br/>You say "If you type 'say time()' you should see yourself saying the current<br/>mush-time. ("time will not work.)"<br/>You say "Sun Aug 20 14:05:16 2000"<br/>Gorgo says "Sun Aug 20 14:05:32 2000"<br/>Roswind says "Sun Aug 20 14:06:04 2000"<br/>You say "Now if you try 'say lwho()' you should get a list of dbrefs."<br/>Roswind says "#-1"<br/>Roswind says "#552 #1038 #384"<br/>Roswind says "I see them"<br/>Parity nods.<br/>You say "Now if you say num(parity), you should see my dbref... which is one of<br/>the ones in the lwho() list. lwho() is a list of who's online."<br/>Roswind says "#384"<br/>Roswind nods<br/>Parity nods. "And of course, name(#384) would give my name, ... but name(#552<br/>#1038 #384) won't give much of anything."<br/>You say "This is where 'iter' comes in."<br/>You say "iter() does some function evaluation repeatedly for different values."<br/>You say "If you say iter(1 2 3,##), it's the same as saying '1 2 3' ; if you say<br/>'iter(1 2 3,Number ##)' the same as saying 'Number 1 Number 2 Number 3'"<br/>You say "'Number' of course, is a boring thing to evaluate, because it's just a<br/>string, it's not a function."<br/>You say "But, 'iter(1 2 3,add(##,1))' will add 1 to each element, so it's the<br/>same as saying '2 3 4'."<br/>You say "Is this making sense?"<br/>Roswind nods. "Actually it is." :)<br/>You say "Okee. Now, the first part of iter can be a function, too. Try 'say<br/>lnum(3)' for example. This will give you a list of numbers."<br/>Gorgo says "Why the ##? What are their function in the string?"<br/>0 1 2<br/>Gorgo says "0 1 2"<br/>You say "The first argument to iter is a list of elements separated by a space."<br/>You say "The second argument of iter is a string that gets evaluated like any<br/>other string in mush, with the special exception that '##' is replaced by each<br/>element of the first argument in turn."<br/>Roswind says "0 1 2 3 4"<br/>You say "So, when I 'say iter(1 2 3,##)' iter (which is short for 'iterate' by<br/>the by) will evaluate ## as '1' and then as '2' and then as '3', take each of<br/>those results and stuff them together in one long string."<br/>Gorgo hmms. ok<br/>You say "Okay. So. 'iter(lnum(3),## ...)' will go through 0, 1, and 2 and put '<br/>...' after each number. Everybody try iterating an lnum (of a -small- number,<br/>please!) with some other text added around the ##."<br/>Gorgo says "0 Feh 1 Feh 2 Feh"<br/>Parity hopes it makes sense now that you've tried a concrete example?<br/>Roswind says "0 thousand 1 thousand 2 thousand"<br/>Roswind nods. "Yeppers"<br/>You say "Cool. Now, you've probably noticed that lnum starts with 0..."<br/>Gorgo nods.<br/>You say "One thing we often want is to start with 1. Easy enough. Whatever our<br/>code is, we just replace '##' with 'add(##,1)'."<br/>You say "Like, 'iter(lnum(3),add(##,1))'"<br/>You say "1 2 3"<br/>You say "Time to mention a tricky part of evaluations; this is not just for<br/>iter, but for any time your code is evaluating a string, from just when you're<br/>saying some line of code to the most complicated command you've ever written."<br/>You say "When mush evaluates, if the first thing it sees is not a function, it<br/>'decides' that what you're saying is just text. That's why I can 'say For<br/>example, iter(), ' and not get an error."<br/>You say "For example, iter()"<br/>You say "#-1 FUNCTION (ITER) EXPECTS BETWEEN 2 AND 4 ARGUMENTS"<br/>You say "If I start with 'say iter()' I get a really obnoxious error message.<br/>;o"<br/>Gorgo says "Yah. Whoever made those, were really offensive. :)"<br/>You say "Now. If I -want- my iter to run, so I can do, 'For example, iter(1 2<br/>3,##) shows you iter(1 2 3,##)' and get '...shows you 1 2 3', I just wrap my<br/>function in [] square brackets."<br/>You say "The [] square brackets tell the mush, '-this- part is not plain text.'"<br/>You say "If I say, 'For example, iter(1 2 3,##) shows you [iter(1 2 3)]', I<br/>get..."<br/>You say "For example, iter(1 2 3,##) shows you #-1 FUNCTION (ITER) EXPECTS<br/>BETWEEN 2 AND 4 ARGUMENTS"<br/>You say "Err."<br/>You say "If I say, 'For example, iter(1 2 3,##) shows you [iter(1 2 3,##)]', I<br/>get..."<br/>You say "For example, iter(1 2 3,##) shows you 1 2 3"<br/>Parity notes that it helps to write your code correctly. ;)<br/>Gorgo grins. Yeah. Typoes in code = hours of extra work. :)<br/>Roswind grins and nods.<br/>You say "Now, for us this matters, because when we do 'iter(1 2 3,Number<br/>add(##,1))' mush is going to see 'Number' ... which isn't a function... and<br/>decide the whole thing is text; it'll still do ## and % substitutions, but it<br/>won't evaluate functions."<br/>You say "Number add(1,1) Number add(2,1) Number add(3,1)"<br/>You say "So, I put in some [] square brackets, and use 'iter(1 2 3,Number<br/>[add(##,1)])'"<br/>You say "Number [add(1,1)] Number [add(2,1)] Number [add(3,1)]"<br/>You say "Number 2 Number 3 Number 4"<br/>Parity notes that it has been allowing you to see the square brackets by putting<br/>a % in front of the square brackets, which just like % in front of a % stops the<br/>mush from evaluating it specially.<br/>You say "Of course it makes me look silly when I forget to remove the % before<br/>running the code. ;o"<br/>Gorgo grins.<br/>You say "Anyway, to bring it back around to our original problem,"<br/>You say "We wanted someting like, 'say iter(lnum(3),Number [add(##,1)])"<br/>You say "Number 1 Number 2 Number 3"<br/>Parity invites everybody to try their lnum example again with an add() in it.<br/>Roswind says "Number 1 Number 2 Number 3 Number 4"<br/>Gorgo says "Number 1 Number 2 Number 3 Number 4 Number 5"<br/>You say "Okee."<br/>You say "Now that we all understand how functions work, and how iter works... we<br/>can try something almost useful."<br/>You say "Try, 'say iter(lwho(),name(##))'"<br/>Gorgo says "Gorgo Roswind Parity"<br/>You say "If you look at the WHO list, you'll see an uncanny similarity to what<br/>you just said. ;)"<br/>Player Name        On For Idle  Doing<br/>Gorgo               01:12   3m  Formerly Capricorn<br/>Roswind             02:07   4m<br/>Parity           2d 02:18   0s  CodeClass: 2PM EST<br/>3 Players logged in.<br/>Gorgo nods.<br/>You say "If we were writing a +who command, we'd want it to appear on separate<br/>lines. This comes up a lot."<br/>Roswind says "Gorgo Roswind Parity"<br/>You say "We'll want to switch to @pemit now, so the 'You say' text isn't<br/>confusing the issue. Try, '@pemit me=iter(lwho(),name(##)<br/>'"<br/>You say "Err."<br/>You say "Try, '@pemit me=iter(lwho(),name(##)<br/>)'"<br/>You say "Try, '@pemit me=iter(lwho(),name(##)%r)'"<br/>Gorgo says "Gorgo<br/> Roswind<br/> Parity<br/>"<br/>Parity finally escapes everything and includes -all- the () parentheses.<br/>Gorgo<br/> Roswind<br/> Parity<br/><br/>Gorgo mumbles and is fighting with a new clietn.<br/>Parity nods.<br/>Gorgo says "Gorgo<br/> Roswind<br/> Parity<br/>"<br/>You say "Let me know when you've tried it with @pemit; assuming your client<br/>doesn't pretty it up for you, you should find that you see 'Gorgo' at the<br/>beginning of the line, and 'Roswind' and 'Parity' are each indented one space."<br/>Gorgo nods.<br/>You say "This is because, by default, iter() puts a space -between- each entry."<br/>You say "That's why our lnum() examples didn't run together as '012345'"<br/>You say "But when doing a +who type command it's frustrating."<br/>You say "There's two ways around it. 1) Use TinyMUSH 3.0 or PennMUSH which each<br/>allows a 'null' separator. or 2) Write our iter differently."<br/>You say "Since the space appears between entries, by putting our '%r' at the<br/>-beginning- of the entry, the extra spaces appear at the end of the line where<br/>they don't hurt anything."<br/>You say "Now, try: @pemit me=iter(lwho(),%r[name(##)])"<br/><br/>Gorgo<br/>Roswind<br/>Parity<br/>Parity can't see what you're doing with @pemit, so please let it know when<br/>you're caught up.<br/>Roswind says "Got it. Why are they in that order? Time connected?"<br/>Parity nods to Roswind. "Yes."<br/>You say "SInce that's the default order that MUSH puts the lwho() in, that's why<br/>almost every +who puts people in that order."<br/>You say "Try, @pemit me=iter(sort(lwho()),%r[name(##)])"<br/><br/>Parity<br/>Gorgo<br/>Roswind<br/>You say "sort(), when given a list of dbrefs, will sort them in numerical<br/>order."<br/>You say "Try saying lwho() and sort(lwho()) if you're not clear on what's going<br/>on with this."<br/>Parity is a big advocater of experimenting to learn. :)<br/>Roswind says "That's the only way I do learn. Reading the mush manual does<br/>nothing for me. As long as someone can explain in plain english, and I fiddle<br/>with it, I'll learn. :)"<br/>Parity nods, "Yes, I don't feel that I really understand something until I've<br/>had some 'hands on' experience.<br/>Gorgo nods.<br/>You say "Okay. Now, to tie everything back together, let's try an exercise. Take<br/>what I've explained about commands and about functions, and make a 'mywho'<br/>command on your object that will tell you who's online. Please set your object<br/>visual with @set &lt;object&gt;=visual ; that will let me see the attributes you're<br/>working on."<br/>Gorgo says "Tadah."<br/><br/>CMD.MYWHO:$mywho:@pemit %#=%r*** Gorgo's Private WHO<br/>***%r[iter(sort(lwho()),%r[name(##)])]%r%r*** Gorgo's Private WHO ***<br/><br/>Parity nods. "If everyone can look at Gorgo's mywho with 'exa chewtoy/cmd.mywho'<br/>...."<br/>You say "One of the little nuisances of that preceding %r is that it gives us a<br/>leading, extra return that we don't -really- want. When we bracket our who list,<br/>we can take care of that easily."<br/>You say "If we do something like, '@pemit<br/>me=-Header-[iter(lwho(),%r[name(##)])]%r-Footer-' everything lines up nice and<br/>snug. (In Gorgo's case, that means just removing the '%r' at the end of her<br/>header line.)"<br/>-Header-<br/>Gorgo<br/>Roswind<br/>Parity<br/>-Footer-<br/>Roswind says "Got it... finally"<br/>You say "This is, I think, the real reason that +who lists and the like are<br/>always bracketed by border designs... to hide the extra %r :)"<br/>LWHO:$lwho:@pemit me=iter(sort(lwho()),%r[name(##)])<br/>DWHO:$dwho:@pemit %#=%rYour private who<br/>list%r[iter(sort(lwho()),%r[name(##)])]%r<br/>Parity nods, "Looks good, Roswind! :)"<br/>You say "So does yours, Gorgo. ;) I just got distracted giving more tips. ;o"<br/>Parity whews.<br/>You say "Anyway."<br/>You say "That's 2 hours, and you've learned how to write your own +who command.<br/>So, let me just close by saying that you'll find more math functions like add()<br/>under 'help math functions' and more useful information-source functions in<br/>places like 'help database functions' and 'help misc functions'."<br/>Parity opens the floor to questions.<br/>Roswind raises a hand. "When's the next class?" and ducks. ;)<br/>Parity grins. "In two weeks, probably?"<br/>Gorgo says "Sounds good. :)"<br/>Parity may move the day if lots of people can't make this time.<br/>You say "Personally, I thought sunday afternoon was a nice lazy do-nothing time<br/>for a code-class..."<br/>Parity obviously doesn't want to have it friday or saturday evening. ;)<br/>Gorgo says "People are usually very hard to plan for."<br/>You say "Oh, a comment about naming conventions."<br/>You say "I like to name my attributes 'blah-cmd', 'blah-fn', 'blah-data' etc."<br/>You say "Gorgo apparently prefers 'cmd.blah' 'fn.blah' etc."<br/>You say "Either way is fine, but you do want -some- prefix or suffix, so you can<br/>quickly exa your object with '*' and find particular groups of attributes. Just<br/>be consistent, and you'll be fine."<br/>Parity discourages people from using '_' though.<br/>You say "_ requires a shift-key to type, which makes typos more frequent, and is<br/>harder on the wrists of people that are constantly typing attribute names. '.'<br/>and '-' are both good separators."<br/>Parity thinks that's all for today, then, and will close the log unless there's<br/>any more questions.<br/>Gorgo doesn't have more. Thanks for your time. :)<br/>Roswind says "Nope. None now. Thanks. :)"<br/>You say "Thank you!"
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>