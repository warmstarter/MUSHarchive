<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Golden Ducat Casino</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Golden-Ducat-Casino.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Golden-Ducat-Casino.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Golden-Ducat-Casino.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Golden-Ducat-Casino.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Golden-Ducat-Casino.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Golden-Ducat-Casino.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Games.html">Games</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Golden-Ducat-Casino.html#">Golden Ducat Casino</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Golden Ducat Casino
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>Javelin&#39;s Golden Ducat Casino, including Baccarat, Craps and Roulette.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Walker@M-U-S-H.html">Walker</a>@<a href="../Source/M-U-S-H.html">M*U*S*H</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Games.html">Games</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="../Command/@assert.html" class="command">@assert</a>,
                    <a href="../Command/@break.html" class="command">@break</a>,
                    <a href="../Command/@chzone.html" class="command">@chzone</a>,
                    <a href="http://www.mushcode.com/Command/@dolist" class="command">@dolist</a>,
                    <a href="http://www.mushcode.com/Command/@drain" class="command">@drain</a>,
                    <a href="http://www.mushcode.com/Command/@edit" class="command">@edit</a>,
                    <a href="http://www.mushcode.com/Command/@emit" class="command">@emit</a>,
                    <a href="http://www.mushcode.com/Command/@force" class="command">@force</a>,
                    <a href="http://www.mushcode.com/Command/@link" class="command">@link</a>,
                    <a href="http://www.mushcode.com/Command/@name" class="command">@name</a>,
                    <a href="../Command/@notify.html" class="command">@notify</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="../Command/@select.html" class="command">@select</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="http://www.mushcode.com/Command/@switch" class="command">@switch</a>,
                    <a href="http://www.mushcode.com/Command/@teleport" class="command">@teleport</a>,
                    <a href="http://www.mushcode.com/Command/@trigger" class="command">@trigger</a>,
                    <a href="http://www.mushcode.com/Command/@wait" class="command">@wait</a>,
                    <a href="http://www.mushcode.com/Command/@wipe" class="command">@wipe</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/and.html" class="function">and&#40;&#41;</a>,
                        <a href="../Function/ansi.html" class="function">ansi&#40;&#41;</a>,
                        <a href="../Function/cand.html" class="function">cand&#40;&#41;</a>,
                        <a href="../Function/capstr.html" class="function">capstr&#40;&#41;</a>,
                        <a href="../Function/center.html" class="function">center&#40;&#41;</a>,
                        <a href="../Function/comp.html" class="function">comp&#40;&#41;</a>,
                        <a href="../Function/cor.html" class="function">cor&#40;&#41;</a>,
                        <a href="../Function/create.html" class="function">create&#40;&#41;</a>,
                        <a href="../Function/dec.html" class="function">dec&#40;&#41;</a>,
                        <a href="../Function/default.html" class="function">default&#40;&#41;</a>,
                        <a href="../Function/die.html" class="function">die&#40;&#41;</a>,
                        <a href="../Function/dig.html" class="function">dig&#40;&#41;</a>,
                        <a href="../Function/div.html" class="function">div&#40;&#41;</a>,
                        <a href="../Function/edit.html" class="function">edit&#40;&#41;</a>,
                        <a href="../Function/emit.html" class="function">emit&#40;&#41;</a>,
                        <a href="../Function/eq.html" class="function">eq&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/filter.html" class="function">filter&#40;&#41;</a>,
                        <a href="../Function/first.html" class="function">first&#40;&#41;</a>,
                        <a href="../Function/gt.html" class="function">gt&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/hasattr.html" class="function">hasattr&#40;&#41;</a>,
                        <a href="../Function/hasflag.html" class="function">hasflag&#40;&#41;</a>,
                        <a href="../Function/haspower.html" class="function">haspower&#40;&#41;</a>,
                        <a href="../Function/hastype.html" class="function">hastype&#40;&#41;</a>,
                        <a href="../Function/if.html" class="function">if&#40;&#41;</a>,
                        <a href="../Function/inc.html" class="function">inc&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/itext.html" class="function">itext&#40;&#41;</a>,
                        <a href="../Function/last.html" class="function">last&#40;&#41;</a>,
                        <a href="../Function/lattr.html" class="function">lattr&#40;&#41;</a>,
                        <a href="../Function/lcstr.html" class="function">lcstr&#40;&#41;</a>,
                        <a href="../Function/lflags.html" class="function">lflags&#40;&#41;</a>,
                        <a href="../Function/ljust.html" class="function">ljust&#40;&#41;</a>,
                        <a href="../Function/lmath.html" class="function">lmath&#40;&#41;</a>,
                        <a href="../Function/lnum.html" class="function">lnum&#40;&#41;</a>,
                        <a href="../Function/lt.html" class="function">lt&#40;&#41;</a>,
                        <a href="../Function/lte.html" class="function">lte&#40;&#41;</a>,
                        <a href="../Function/max.html" class="function">max&#40;&#41;</a>,
                        <a href="../Function/member.html" class="function">member&#40;&#41;</a>,
                        <a href="../Function/mid.html" class="function">mid&#40;&#41;</a>,
                        <a href="../Function/min.html" class="function">min&#40;&#41;</a>,
                        <a href="../Function/mod.html" class="function">mod&#40;&#41;</a>,
                        <a href="../Function/money.html" class="function">money&#40;&#41;</a>,
                        <a href="../Function/mul.html" class="function">mul&#40;&#41;</a>,
                        <a href="../Function/munge.html" class="function">munge&#40;&#41;</a>,
                        <a href="../Function/mwho.html" class="function">mwho&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/nearby.html" class="function">nearby&#40;&#41;</a>,
                        <a href="../Function/not.html" class="function">not&#40;&#41;</a>,
                        <a href="../Function/null.html" class="function">null&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/obj.html" class="function">obj&#40;&#41;</a>,
                        <a href="../Function/open.html" class="function">open&#40;&#41;</a>,
                        <a href="../Function/or.html" class="function">or&#40;&#41;</a>,
                        <a href="../Function/orflags.html" class="function">orflags&#40;&#41;</a>,
                        <a href="../Function/owner.html" class="function">owner&#40;&#41;</a>,
                        <a href="../Function/pemit.html" class="function">pemit&#40;&#41;</a>,
                        <a href="../Function/rand.html" class="function">rand&#40;&#41;</a>,
                        <a href="../Function/regedit.html" class="function">regedit&#40;&#41;</a>,
                        <a href="../Function/regediti.html" class="function">regediti&#40;&#41;</a>,
                        <a href="../Function/regmatch.html" class="function">regmatch&#40;&#41;</a>,
                        <a href="../Function/regraball.html" class="function">regraball&#40;&#41;</a>,
                        <a href="../Function/regrep.html" class="function">regrep&#40;&#41;</a>,
                        <a href="../Function/remove.html" class="function">remove&#40;&#41;</a>,
                        <a href="../Function/repeat.html" class="function">repeat&#40;&#41;</a>,
                        <a href="../Function/rest.html" class="function">rest&#40;&#41;</a>,
                        <a href="../Function/revwords.html" class="function">revwords&#40;&#41;</a>,
                        <a href="../Function/round.html" class="function">round&#40;&#41;</a>,
                        <a href="../Function/s.html" class="function">s&#40;&#41;</a>,
                        <a href="../Function/set.html" class="function">set&#40;&#41;</a>,
                        <a href="../Function/setdiff.html" class="function">setdiff&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/setr.html" class="function">setr&#40;&#41;</a>,
                        <a href="../Function/setunion.html" class="function">setunion&#40;&#41;</a>,
                        <a href="../Function/shuffle.html" class="function">shuffle&#40;&#41;</a>,
                        <a href="../Function/sort.html" class="function">sort&#40;&#41;</a>,
                        <a href="../Function/sortby.html" class="function">sortby&#40;&#41;</a>,
                        <a href="../Function/space.html" class="function">space&#40;&#41;</a>,
                        <a href="../Function/stripaccents.html" class="function">stripaccents&#40;&#41;</a>,
                        <a href="../Function/strmatch.html" class="function">strmatch&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/t.html" class="function">t&#40;&#41;</a>,
                        <a href="../Function/trim.html" class="function">trim&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/ulocal.html" class="function">ulocal&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>,
                        <a href="../Function/wrap.html" class="function">wrap&#40;&#41;</a>,
                        <a href="../Function/xget.html" class="function">xget&#40;&#41;</a>.
            </div>

            <div class="features">
                <strong>Features:</strong>
                        <a href="../Feature/regexp-commands.html" class="feature">regexp commands</a>.
            </div>

            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Golden Ducat Casino
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Golden-Ducat-Casino.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @@ Project javGoldenDucat<br/>@@ Version 18<br/>@@<br/>@@ Description:<br/>@@     Javelin's Golden Ducat Casino, including Baccarat, Craps and<br/>@@     Roulette.<br/>@@<br/>@@ Version log:<br/>@@     Author: Walker &lt;Mush&gt;<br/>@@     Date:   Tue Jul 27 21:04:18 2010 -0700<br/>@@         v18v<br/>@@         <br/>@@         Lock changes in svc recognize "changes" :D.<br/>@@<br/>@@ Readme:<br/>@@     This uses listen patterns, and has been known to break on<br/>@@     some @hook'd say commands. null_eq_zero needs to be set to<br/>@@     "yes" for Golden Ducat.<br/>@@<br/>@@ Language: MushCode<br/>@@ Installer file created by RubySVC (Softcode Version Control)<br/>@@<br/>@@<br/>@@<br/>@@ Creating Rooms, Things and Exits.<br/>@@<br/>@@<br/>@set me=SVC`Rf32175928c437fc65afe:[default(SVC`Rf32175928c437fc65afe,dig(Rf32175928c437fc65afe))]<br/>@set me=SVC`Rb45f2571a5f61ff1ff17:[default(SVC`Rb45f2571a5f61ff1ff17,dig(Rb45f2571a5f61ff1ff17))]<br/>@set me=SVC`R49a17f78a873806adbd2:[default(SVC`R49a17f78a873806adbd2,dig(R49a17f78a873806adbd2))]<br/>@set me=SVC`R5ecd4f8f12f9dbd63587:[default(SVC`R5ecd4f8f12f9dbd63587,dig(R5ecd4f8f12f9dbd63587))]<br/>@set me=SVC`T3c763130274d176cd116:[default(SVC`T3c763130274d176cd116,create(T3c763130274d176cd116))]<br/>@set me=SVC`Te8c003561ba7f45b57ab:[default(SVC`Te8c003561ba7f45b57ab,create(Te8c003561ba7f45b57ab))]<br/>@set me=SVC`T7d1c9a0b66f718acf350:[default(SVC`T7d1c9a0b66f718acf350,create(T7d1c9a0b66f718acf350))]<br/>@set me=SVC`Te39a2b653594afcd9d6c:[default(SVC`Te39a2b653594afcd9d6c,create(Te39a2b653594afcd9d6c))]<br/>@set me=SVC`T5c94cea68131e6d41e19:[default(SVC`T5c94cea68131e6d41e19,create(T5c94cea68131e6d41e19))]<br/>@set me=SVC`Tf48885245b94665626fd:[default(SVC`Tf48885245b94665626fd,create(Tf48885245b94665626fd))]<br/>@set me=SVC`Tf9e5b23fc74a8983baab:[default(SVC`Tf9e5b23fc74a8983baab,create(Tf9e5b23fc74a8983baab))]<br/>@tel v(SVC`Rf32175928c437fc65afe)<br/>@set me=SVC`Ec3a2491940c92070eba7:[default(SVC`Ec3a2491940c92070eba7,open(Ec3a2491940c92070eba7,R5ecd4f8f12f9dbd63587))]<br/>@tel v(SVC`R5ecd4f8f12f9dbd63587)<br/>@set me=SVC`E770b34b26e3ae276c915:[default(SVC`E770b34b26e3ae276c915,open(E770b34b26e3ae276c915,Rf32175928c437fc65afe))]<br/>@tel v(SVC`R49a17f78a873806adbd2)<br/>@set me=SVC`Ea642e1931111475a8a09:[default(SVC`Ea642e1931111475a8a09,open(Ea642e1931111475a8a09,Rb45f2571a5f61ff1ff17))]<br/>@tel v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set me=SVC`E59272e58ec62a4881bf0:[default(SVC`E59272e58ec62a4881bf0,open(E59272e58ec62a4881bf0,R49a17f78a873806adbd2))]<br/>@tel v(SVC`R5ecd4f8f12f9dbd63587)<br/>@set me=SVC`E592c7eaffb85b23299e0:[default(SVC`E592c7eaffb85b23299e0,open(E592c7eaffb85b23299e0,Rb45f2571a5f61ff1ff17))]<br/>@tel v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set me=SVC`Efd3767dd926934d25bb7:[default(SVC`Efd3767dd926934d25bb7,open(Efd3767dd926934d25bb7,R5ecd4f8f12f9dbd63587))]<br/>@tel v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set me=SVC`E69ea522b635f59fded38:[default(SVC`E69ea522b635f59fded38,open(E69ea522b635f59fded38,Rf32175928c437fc65afe))]<br/>@tel v(SVC`Rf32175928c437fc65afe)<br/>@set me=SVC`E4f11cb844f4b875b2a89:[default(SVC`E4f11cb844f4b875b2a89,open(E4f11cb844f4b875b2a89,Rb45f2571a5f61ff1ff17))]<br/>@@<br/>@@<br/>@@ Objects created, now setting attributes, locks, etc.<br/>@@<br/>@@<br/>@@<br/>@@ Filling out Craps Pit &lt;CP&gt;\;craps\;cp\;pit<br/>@@<br/>@name [v(SVC`Ec3a2491940c92070eba7)]=Craps Pit &lt;CP&gt;;craps;cp;pit<br/>@link [v(SVC`Ec3a2491940c92070eba7)]=v(SVC`R5ecd4f8f12f9dbd63587)<br/>@tel [v(SVC`Ec3a2491940c92070eba7)]=v(SVC`Rf32175928c437fc65afe)<br/>@set [v(SVC`Ec3a2491940c92070eba7)]=iter(setdiff(lflags([v(SVC`Ec3a2491940c92070eba7)]),),!##) [setdiff(,lflags([v(SVC`Ec3a2491940c92070eba7)]))]<br/>&amp;SUCCESS [v(SVC`Ec3a2491940c92070eba7)]=You wander into the craps pit.<br/>&amp;OSUCCESS [v(SVC`Ec3a2491940c92070eba7)]=wanders into the craps pit.<br/>&amp;ODROP [v(SVC`Ec3a2491940c92070eba7)]=wanders in from the roulette parlor.<br/>@set [v(SVC`Ec3a2491940c92070eba7)]/SUCCESS=no_command<br/>@set [v(SVC`Ec3a2491940c92070eba7)]/OSUCCESS=no_command<br/>@set [v(SVC`Ec3a2491940c92070eba7)]/ODROP=no_command<br/>@@<br/>@@ Filling out Roulette Parlor &lt;RP&gt;\;rp\;roulette\;parlor<br/>@@<br/>@name [v(SVC`E770b34b26e3ae276c915)]=Roulette Parlor &lt;RP&gt;;rp;roulette;parlor<br/>@link [v(SVC`E770b34b26e3ae276c915)]=v(SVC`Rf32175928c437fc65afe)<br/>@tel [v(SVC`E770b34b26e3ae276c915)]=v(SVC`R5ecd4f8f12f9dbd63587)<br/>@set [v(SVC`E770b34b26e3ae276c915)]=iter(setdiff(lflags([v(SVC`E770b34b26e3ae276c915)]),),!##) [setdiff(,lflags([v(SVC`E770b34b26e3ae276c915)]))]<br/>&amp;SUCCESS [v(SVC`E770b34b26e3ae276c915)]=You wander into the roulette parlor.<br/>&amp;OSUCCESS [v(SVC`E770b34b26e3ae276c915)]=wanders into the roulette parlor.<br/>&amp;ODROP [v(SVC`E770b34b26e3ae276c915)]=wanders in from the craps pit.<br/>@set [v(SVC`E770b34b26e3ae276c915)]/SUCCESS=no_command<br/>@set [v(SVC`E770b34b26e3ae276c915)]/OSUCCESS=no_command<br/>@set [v(SVC`E770b34b26e3ae276c915)]/ODROP=no_command<br/>@@<br/>@@ Filling out Roulette Parlor<br/>@@<br/>@chzone [v(SVC`Rf32175928c437fc65afe)]=v(SVC`T3c763130274d176cd116)<br/>@name [v(SVC`Rf32175928c437fc65afe)]=Roulette Parlor<br/>@set [v(SVC`Rf32175928c437fc65afe)]=iter(setdiff(lflags([v(SVC`Rf32175928c437fc65afe)]),NO_COMMAND),!##) [setdiff(NO_COMMAND,lflags([v(SVC`Rf32175928c437fc65afe)]))]<br/>&amp;DESCRIBE [v(SVC`Rf32175928c437fc65afe)]=The roulette parlor of the Golden Ducat is decorated in vibrant colors. The sound of the spinning wheel and bouncing ball are clearly audible. Guests line the tables, placing their wagers and hoping to win big.<br/>@set [v(SVC`Rf32175928c437fc65afe)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Filling out Lobby of the Golden Ducat<br/>@@<br/>@chzone [v(SVC`Rb45f2571a5f61ff1ff17)]=v(SVC`T3c763130274d176cd116)<br/>@name [v(SVC`Rb45f2571a5f61ff1ff17)]=Lobby of the Golden Ducat<br/>@set [v(SVC`Rb45f2571a5f61ff1ff17)]=iter(setdiff(lflags([v(SVC`Rb45f2571a5f61ff1ff17)]),NO_COMMAND),!##) [setdiff(NO_COMMAND,lflags([v(SVC`Rb45f2571a5f61ff1ff17)]))]<br/>&amp;FIL_SEX [v(SVC`Rb45f2571a5f61ff1ff17)]=[regmatch(xget(%0,sex),^\[WwMmFf\])]<br/>&amp;DESCRIBE [v(SVC`Rb45f2571a5f61ff1ff17)]=The lobby of the Golden Ducat Casino is opulently furnished with massive glass chandeliers, plush carpet, and paintings of famous visitors, including [name(first(shuffle(filter(FIL_SEX,mwho()))))]. The cashier's desk is the primary feature here, and the casino stretches away from the entrance doors.<br/>@set [v(SVC`Rb45f2571a5f61ff1ff17)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Filling out Lobby &lt;O&gt;\;lobby\;lo\;lob\;o\;out\;back\;leave<br/>@@<br/>@name [v(SVC`Ea642e1931111475a8a09)]=Lobby &lt;O&gt;;lobby;lo;lob;o;out;back;leave<br/>@link [v(SVC`Ea642e1931111475a8a09)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@tel [v(SVC`Ea642e1931111475a8a09)]=v(SVC`R49a17f78a873806adbd2)<br/>@set [v(SVC`Ea642e1931111475a8a09)]=iter(setdiff(lflags([v(SVC`Ea642e1931111475a8a09)]),),!##) [setdiff(,lflags([v(SVC`Ea642e1931111475a8a09)]))]<br/>&amp;SUCCESS [v(SVC`Ea642e1931111475a8a09)]=You pass through the rope and return to the lobby.<br/>&amp;OSUCCESS [v(SVC`Ea642e1931111475a8a09)]=returns to the lobby.<br/>&amp;ODROP [v(SVC`Ea642e1931111475a8a09)]=enters from the baccarat area.<br/>@set [v(SVC`Ea642e1931111475a8a09)]/SUCCESS=no_command<br/>@set [v(SVC`Ea642e1931111475a8a09)]/OSUCCESS=no_command<br/>@set [v(SVC`Ea642e1931111475a8a09)]/ODROP=no_command<br/>@@<br/>@@ Filling out Baccarat Area<br/>@@<br/>@chzone [v(SVC`R49a17f78a873806adbd2)]=v(SVC`T3c763130274d176cd116)<br/>@name [v(SVC`R49a17f78a873806adbd2)]=Baccarat Area<br/>@lock/Zone [v(SVC`R49a17f78a873806adbd2)]==[v(SVC`R49a17f78a873806adbd2)]<br/>@lock/USER:Zone [v(SVC`R49a17f78a873806adbd2)]==[v(SVC`R49a17f78a873806adbd2)]<br/>@set [v(SVC`R49a17f78a873806adbd2)]=iter(setdiff(lflags([v(SVC`R49a17f78a873806adbd2)]),NO_COMMAND),!##) [setdiff(NO_COMMAND,lflags([v(SVC`R49a17f78a873806adbd2)]))]<br/>&amp;DESCRIBE [v(SVC`R49a17f78a873806adbd2)]=The baccarat area is separated from the rest of the casino by a thick velvet rope. The atmosphere here is more hushed, and more elegant.<br/>@set [v(SVC`R49a17f78a873806adbd2)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Filling out Casino ZMO<br/>@@<br/>@name [v(SVC`T3c763130274d176cd116)]=Casino ZMO<br/>@lock/USER:Zone [v(SVC`T3c763130274d176cd116)]==%!|=#3817<br/>@link [v(SVC`T3c763130274d176cd116)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set [v(SVC`T3c763130274d176cd116)]=iter(setdiff(lflags([v(SVC`T3c763130274d176cd116)]),),!##) [setdiff(,lflags([v(SVC`T3c763130274d176cd116)]))]<br/>&amp;CMD_CHIPS [v(SVC`T3c763130274d176cd116)]=$chips: @pemit %#=[switch(setr(0,default([v(bank)]/%#,0)),0,You have no chips.,1,You have one chip.,You have %q0 chips.)]<br/>@set [v(SVC`T3c763130274d176cd116)]=BANK:[v(SVC`T7d1c9a0b66f718acf350)]<br/>@@<br/>@@ Filling out Craps Pit<br/>@@<br/>@chzone [v(SVC`R5ecd4f8f12f9dbd63587)]=v(SVC`T3c763130274d176cd116)<br/>@name [v(SVC`R5ecd4f8f12f9dbd63587)]=Craps Pit<br/>@set [v(SVC`R5ecd4f8f12f9dbd63587)]=iter(setdiff(lflags([v(SVC`R5ecd4f8f12f9dbd63587)]),NO_COMMAND),!##) [setdiff(NO_COMMAND,lflags([v(SVC`R5ecd4f8f12f9dbd63587)]))]<br/>&amp;DESCRIBE [v(SVC`R5ecd4f8f12f9dbd63587)]=The craps pit is a noisy, even frantic, place. The sounds of the croupiers mingle with the excited exclamations from the players as the dice are thrown again and again.<br/>@set [v(SVC`R5ecd4f8f12f9dbd63587)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Filling out Baccarat Area &lt;BA&gt;\;baccarat\;ba<br/>@@<br/>@name [v(SVC`E59272e58ec62a4881bf0)]=Baccarat Area &lt;BA&gt;;baccarat;ba<br/>@lock/Basic [v(SVC`E59272e58ec62a4881bf0)]=HASCHIPS/1<br/>@link [v(SVC`E59272e58ec62a4881bf0)]=v(SVC`R49a17f78a873806adbd2)<br/>@tel [v(SVC`E59272e58ec62a4881bf0)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set [v(SVC`E59272e58ec62a4881bf0)]=iter(setdiff(lflags([v(SVC`E59272e58ec62a4881bf0)]),),!##) [setdiff(,lflags([v(SVC`E59272e58ec62a4881bf0)]))]<br/>&amp;SUCCESS [v(SVC`E59272e58ec62a4881bf0)]=You pass through the velvet rope and into the baccarat area.<br/>&amp;OSUCCESS [v(SVC`E59272e58ec62a4881bf0)]=passes through the the velvet rope and into the baccarat area.<br/>&amp;OFAILURE [v(SVC`E59272e58ec62a4881bf0)]=attempts to pass through the velvet rope to the baccarat area but is turned away by a casino manager.<br/>&amp;ODROP [v(SVC`E59272e58ec62a4881bf0)]=enters from the lobby.<br/>&amp;HASCHIPS [v(SVC`E59272e58ec62a4881bf0)]=[gt(xget(v(bank),%#),249)]<br/>&amp;FAILURE [v(SVC`E59272e58ec62a4881bf0)]=You are stopped by the manager of the area. "I'm sorry, but you must have more chips to play here."<br/>&amp;DESCRIBE [v(SVC`E59272e58ec62a4881bf0)]=The baccarat area is cordoned off with a velvet rope.<br/>@set [v(SVC`E59272e58ec62a4881bf0)]=BANK:[v(SVC`T7d1c9a0b66f718acf350)]<br/>@set [v(SVC`E59272e58ec62a4881bf0)]/SUCCESS=no_command<br/>@set [v(SVC`E59272e58ec62a4881bf0)]/OSUCCESS=no_command<br/>@set [v(SVC`E59272e58ec62a4881bf0)]/OFAILURE=no_command<br/>@set [v(SVC`E59272e58ec62a4881bf0)]/ODROP=no_command<br/>@set [v(SVC`E59272e58ec62a4881bf0)]/FAILURE=no_command<br/>@set [v(SVC`E59272e58ec62a4881bf0)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Filling out Roulette table<br/>@@<br/>@name [v(SVC`Te8c003561ba7f45b57ab)]=Roulette table<br/>@lock/USER:Basic [v(SVC`Te8c003561ba7f45b57ab)]=%!<br/>@lock/Basic [v(SVC`Te8c003561ba7f45b57ab)]=%!<br/>@tel [v(SVC`Te8c003561ba7f45b57ab)]=v(SVC`Rf32175928c437fc65afe)<br/>@link [v(SVC`Te8c003561ba7f45b57ab)]=v(SVC`Rf32175928c437fc65afe)<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]=iter(setdiff(lflags([v(SVC`Te8c003561ba7f45b57ab)]),),!##) [setdiff(,lflags([v(SVC`Te8c003561ba7f45b57ab)]))]<br/>&amp;WINNERS [v(SVC`Te8c003561ba7f45b57ab)]=[iter(lattr(me/bet_*),if(u(fil_winners,[v(##)] %0),##))]<br/>&amp;WHEEL [v(SVC`Te8c003561ba7f45b57ab)]=0 32 15 19 4 21 2 25 17 34 6 27 13 36 11 30 8 23 10 5 24 16 33 1 20 14 31 9 22 18 29 7 28 12 35 3 26<br/>&amp;USE [v(SVC`Te8c003561ba7f45b57ab)]=ROULETTE by Javelin%r[wrap([space(2)]Roulette is played by laying a bet on one or more numbers. If the wheel lands on a number you've bet on\, you win. The amount you win depends on the bet (betting more numbers at once results in smaller winnings).,72,72,%r[space(2)])]%rBET COMMAND:%r%b%bbet &lt;amount&gt; on &lt;type of bet&gt;%rTYPES OF BET:%r%b%b"Straight up": A single number, pays 35:1 (bet 10 on 3)%r%b%b"Split bet": Two adjacent (horiz or vert) numbers, pays 17:1 (bet 10 on 1-4)%r%b%b"Street bet": Three numbers in a vertical row, pays 11:1 (bet 10 on 1-2-3)%r%b%b"Corner bet": Four numbers in a square, pays 8:1 (bet 10 on 1-2-4-5)%r%b%b"Line bet": Six numbers (two adjacent streets), pays 5:1  (bet 10 on 1-2-3-4-5-6)%r%b%b"Column bet": Twelve numbers in a horiz column, pays 2:1 (bet 10 on col1)%r%b%b"Dozen bet": Twelve numbers in a group, pays 2:1 (bet 10 on 1st)%r%b%b"Even money bets": (bet 10 on \[high|low|red|black|even|odd\]%rNote: 0 loses on all bets except a bet specifically on 0.<br/>&amp;TABLE [v(SVC`Te8c003561ba7f45b57ab)]=[space(4)][iter(lnum(12),[center(u(betmark,[setr(9,add(1,mul(##,3)))]-[inc(%q9)]-[add(2,%q9)],%#,%b),4)][u(betmark,lnum(%q9,add(5,%q9),-),%#,%b)],%b,)]%r[space(4)][iter(lnum(12),[ljust(u(blank,add(1,mul(##,3))),4)])] \\%r[space(4)][iter(lnum(12),[ljust(u(number,setr(9,add(1,mul(##,3)))),4)][u(betmark,%q9-[add(%q9,3)],%#,%b)],%b,)] |-col1 [u(betmark,col1,%#)]%r[space(4)][iter(lnum(12),ljust(u(blank,add(1,mul(##,3))),4))] /%r[space(4)][iter(lnum(12),[center(%b[u(betmark,[setr(9,add(1,mul(##,3)))]-[inc(%q9)],%#)],4)][u(betmark,%q9-[inc(%q9)]-[add(%q9,3)]-[add(%q9,4)],%#,%b)],%b,)]%r[u(blank,0)]%b[iter(lnum(12),[ljust(u(blank,add(2,mul(##,3))),4)])] \\%r[u(number,0)]%b[iter(lnum(12),[ljust(u(number,setr(9,add(2,mul(##,3)))),4)][u(betmark,%q9-[add(%q9,3)],%#,%b)],%b,)] |-col2 [u(betmark,col2,%#)]%r[u(blank,0)]%b[iter(lnum(12),[ljust(u(blank,add(2,mul(##,3))),4)])] /%r[space(4)][iter(lnum(12),[center(%b[u(betmark,[setr(9,add(2,mul(##,3)))]-[inc(%q9)],%#)],4)][u(betmark,%q9-[inc(%q9)]-[add(%q9,3)]-[add(%q9,4)],%#,%b)],%b,)]%r[space(4)][iter(lnum(12),[ljust(u(blank,add(3,mul(##,3))),4)])] \\%r[space(4)][iter(lnum(12),[ljust(u(number,setr(9,add(3,mul(##,3)))),4)][u(betmark,%q9-[add(%q9,3)],%#,%b)],%b,)] |-col3 [u(betmark,col3,%#)]%r[space(4)][iter(lnum(12),[ljust(u(blank,add(3,mul(##,3))),4)])] /%r%b%b%b|--[center(1st 12,15,-)][u(betmark,1st,%#,-)]-|--[center(2nd 12,15,-)][u(betmark,2nd,%#,-)]-|--[center(3rd 12,15,-)][u(betmark,3rd,%#,-)]-|%r%b%b%b|---Low-[u(betmark,low,%#,-)]-|--Even-[u(betmark,even,%#,-)]-|---[ansi(r,Red)]-[u(betmark,red,%#,-)]-|--Black[u(betmark,black,%#,-)]-|---Odd-[u(betmark,odd,%#,-)]-|--High-[u(betmark,high,%#,-)]-|<br/>&amp;SUBJ [v(SVC`Te8c003561ba7f45b57ab)]=She<br/>&amp;STARTUP [v(SVC`Te8c003561ba7f45b57ab)]=@drain me; @wipe me/bet_*; &amp;nextbet me=1<br/>&amp;SPIN [v(SVC`Te8c003561ba7f45b57ab)]=@drain me; @wait 1 = { @emit [v(subj)] spins the roulette wheel and drops the ball onto the wheel.;@wait 2 = { @emit The wheel slows.;@wait me = { @wipe me/bet_*; @emit The croupier says, "Place your bets."; &amp;ok_to_bet me = 1 };@tr me/result2 }}<br/>&amp;SORT_RESULT_ONCE [v(SVC`Te8c003561ba7f45b57ab)]=[switch(1,cand(regmatch(%0,\[a-z\]),not(regmatch(%1,\[a-z\]))),1,regmatch(%0,\[a-z\]),comp(%0,%1),not(regmatch(%1,\[a-z\])),comp(%0,%1),-1)]<br/>&amp;SORT_RESULT [v(SVC`Te8c003561ba7f45b57ab)]=[sortby(SORT_RESULT_ONCE,%0)]<br/>&amp;RESULT2 [v(SVC`Te8c003561ba7f45b57ab)]=@emit The ball bounces into a slot: [setq(0,first(shuffle(v(wheel))))][u(plainnum,%q0)], [u(colname,%q0)]; @dol/notify [setr(3,u(winners,%q0))] = { @emit The croupier looks at [name(setr(1,extract(v(##),4,1)))]. "[ulocal(fullname,first(v(##)))], winner." [v(subj)] passes [obj(%q1)] [u(count,setr(2,ulocal(compute_result,%q0,v(##))))].;&amp;%q1 [v(bank)] = [add(xget(v(bank),%q1),%q2)]};@emit [setq(5,u(listformat,setunion(iter(munge(sort_result,iter(setr(4,setdiff(lattr(me/bet_*),%q3)),first(v(itext(0)))),%q4),ulocal(fullname,first(v(itext(0)))), ,|),,|),and,|))][switch(%q5,,,"%q5\, no good\," the croupier announces.)]<br/>&amp;PLAINNUM [v(SVC`Te8c003561ba7f45b57ab)]=[ansi(u(colattr,%0),[switch(%0,0,,&lt;10,%b)]%b%0%b)]<br/>&amp;OK_TO_BET [v(SVC`Te8c003561ba7f45b57ab)]=1<br/>&amp;OKGROUP [v(SVC`Te8c003561ba7f45b57ab)]=[iter(%0,setq(#@,##),-,)][switch(words(%0,-),1,cand(gte(%0,0),lte(%0,36)),2,cor(cand(gte(%q1,1),lte(%q1,33),eq(%q2,add(%q1,3))),cand(gte(%q1,1),lte(%q1,35),gt(mod(%q1,3),0),eq(%q2,inc(%q1)))),3,cand(gte(%q1,1),lte(%q1,34),eq(mod(%q1,3),1),eq(%q2,inc(%q1)),eq(%q3,inc(%q2))),4,cand(gte(%q1,1),lte(%q1,32),gt(mod(%q1,3),0),eq(%q2,inc(%q1)),eq(%q3,add(%q1,3)),eq(%q4,inc(%q3))),6,cand(gte(%q1,1),lte(%q1,31),eq(mod(%q1,3),1),eq(%q2,inc(%q1)),eq(%q3,inc(%q2)),eq(%q4,inc(%q3)),eq(%q5,inc(%q4)),eq(%q6,inc(%q5))),0)]<br/>&amp;NUMBER [v(SVC`Te8c003561ba7f45b57ab)]=[ansi(u(colattr,%0),[switch(%0,0,,&lt;10,%b)][switch(u(isbet,%0),&gt;1,$,%b)]%0[switch(u(isbet,%0),&gt;0,$,%b)])]<br/>&amp;NEXTBET [v(SVC`Te8c003561ba7f45b57ab)]=1<br/>&amp;MONEY [v(SVC`Te8c003561ba7f45b57ab)]=[default([v(bank)]/%0,0)]<br/>&amp;MINIMUM [v(SVC`Te8c003561ba7f45b57ab)]=1<br/>&amp;LISTFORMAT [v(SVC`Te8c003561ba7f45b57ab)]=switch(words(%0,%2),0,,1,,2,first(%0,%2) %1%b,edit(extract(%0,1,dec(#$),%2),%2,\,%b)\, %1%b)[last(%0,%2)]<br/>&amp;ISYOURBET [v(SVC`Te8c003561ba7f45b57ab)]=[words(regrep(me,BET_*,^%0\\s+\\d+\\s+\\d+\\s+%1$))]<br/>&amp;ISBET [v(SVC`Te8c003561ba7f45b57ab)]=[words(regrep(me,BET_*,^%0\\s))]<br/>&amp;FULLNAME [v(SVC`Te8c003561ba7f45b57ab)]=[switch(%0,col*,edit(%0,col,Column%b),1st,1st dozen,2nd,2nd dozen,3rd,3rd dozen,capstr(%0))]<br/>&amp;FIL_WINNERS [v(SVC`Te8c003561ba7f45b57ab)]=[gt(ulocal(compute_result2,%0),0)]<br/>&amp;DESCRIBE [v(SVC`Te8c003561ba7f45b57ab)]=You glance from the well-coiffed croupier down to the felt of the table.%r[u(table)]%rType 'use table' for play instructions.<br/>&amp;COUNT [v(SVC`Te8c003561ba7f45b57ab)]=[switch(%0,1,a chip,%0 chips)]<br/>&amp;COMPUTE_RESULT2 [v(SVC`Te8c003561ba7f45b57ab)]=[setq(1,last(%0))][setq(0,first(%0))][setq(9,extract(%0,3,1))][switch(1,eq(%q0,%q1),%q9,eq(%q1,0),0,regmatch(%q0,^%q1-|-%q1-|-%q1$),%q9,cand(regmatch(%q0,col(\\d),-1 2),eq(mod(%q1,3),mod(%q2,3))),%q9,cand(regmatch(%q0,(\\d)\[snr\],-1 2),gt(%q1,mul(dec(%q2),12)),lte(%q1,mul(%q2,12))),%q9,cand(strmatch(%q0,odd),eq(mod(%q1,2),1)),%q9,cand(strmatch(%q0,even),eq(mod(%q1,2),0)),%q9,cand(strmatch(%q0,high),gt(%q1,18)),%q9,cand(strmatch(%q0,low),lte(%q1,18)),%q9,cand(strmatch(%q0,red),strmatch(u(colname,%q1),red)),%q9,cand(strmatch(%q0,black),strmatch(u(colname,%q1),black)),%q9,0)]<br/>&amp;COMPUTE_RESULT [v(SVC`Te8c003561ba7f45b57ab)]=[setq(0,first(%1))][setq(9,extract(%1,3,1))][switch(1,eq(%q0,%0),%q9,eq(%0,0),0,regmatch(%q0,^%0-|-%0-|-%0$),%q9,cand(regmatch(%q0,col(\\d),-1 1),eq(mod(%0,3),mod(%q1,3))),%q9,cand(regmatch(%q0,(\\d)\[snr\],-1 1),gt(%0,mul(dec(%q1),12)),lte(%0,mul(%q1,12))),%q9,cand(strmatch(%q0,odd),eq(mod(%0,2),1)),%q9,cand(strmatch(%q0,even),eq(mod(%0,2),0)),%q9,cand(strmatch(%q0,high),gt(%0,18)),%q9,cand(strmatch(%q0,low),lte(%0,18)),%q9,cand(strmatch(%q0,red),strmatch(u(colname,%0),red)),%q9,cand(strmatch(%q0,black),strmatch(u(colname,%0),black)),%q9,0)]<br/>&amp;COLORS [v(SVC`Te8c003561ba7f45b57ab)]=GRXRXRXRXRXXRXRXRXRRXRXRXRXRXXRXRXRXR<br/>&amp;COLNAME [v(SVC`Te8c003561ba7f45b57ab)]=[switch(mid(v(colors),%0,1),G,green,R,red,X,black)]<br/>&amp;COLATTR [v(SVC`Te8c003561ba7f45b57ab)]=[switch(%0,0,G,[mid(v(colors),%0,1)]w)]<br/>&amp;CMD_BET_NUMS [v(SVC`Te8c003561ba7f45b57ab)]=$^bet (\d+) on ((\d+)(-\d+)*)$:@break [switch(0,lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)], [setq(0,sort(%2,n,-,-))][ulocal(okgroup,%q0)],1[pemit(%#,You can't bet on that.)], v(ok_to_bet),1[pemit(%#,Your bet is too late for this spin.)],gte(u(money,%#),%1),1[pemit(%#,You can not afford that bet.)],0)]; @emit %N places [u(count,%1)] on %q0.;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet_[v(nextbet)] me = %q0 %1 [mul(div(36,words(%q0,-)),%1)] %#;&amp;nextbet me = [inc(v(nextbet))];@drain me;@wait me/10={@emit "No more bets, please," says the croupier. "Les joues sont fait."; &amp;ok_to_bet me=0; @tr me/spin}<br/>&amp;CMD_BET_HALF [v(SVC`Te8c003561ba7f45b57ab)]=$^bet (\d+) on (red|black|odd|even|high|low):@break [switch(0,lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)], v(ok_to_bet),1[pemit(%#,Your bet is too late for this spin.)],gte(u(money,%#),%1),1[pemit(%#,You can not afford that bet.)],0)];@emit %N places [u(count,%1)] on %2.;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet_[v(nextbet)] me = %2 %1 [mul(2,%1)] %#;&amp;nextbet me = [inc(v(nextbet))];@drain me;@wait me/10={@emit "No more bets, please," says the croupier. "Les joues sont fait."; &amp;ok_to_bet me=0; @tr me/spin}<br/>&amp;CMD_BET_DOZEN [v(SVC`Te8c003561ba7f45b57ab)]=$^bet (\d+) on (1st|2nd|3rd):@break [switch(0,lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)], v(ok_to_bet),1[pemit(%#,Your bet is too late for this spin.)],gte(u(money,%#),%1),1[pemit(%#,You can not afford that bet.)],0)];@emit %N places [u(count,%1)] on the %2 dozen.;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet_[v(nextbet)] me = %2 %1 [mul(3,%1)] %#;&amp;nextbet me = [inc(v(nextbet))];@drain me;@wait me/10={@emit "No more bets, please," says the croupier. "Les joues sont fait."; &amp;ok_to_bet me=0; @tr me/spin}<br/>&amp;CMD_BET_COLS [v(SVC`Te8c003561ba7f45b57ab)]=$^bet (\d+) on col([123]):@break [switch(0,lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)], v(ok_to_bet),1[pemit(%#,Your bet is too late for this spin.)],gte(u(money,%#),%1),1[pemit(%#,You can not afford that bet.)],0)];@emit %N places [u(count,%1)] on column %2.;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet_[v(nextbet)] me = col%2 %1 [mul(3,%1)] %#;&amp;nextbet me = [inc(v(nextbet))];@drain me;@wait me/10={@emit "No more bets, please," says the croupier. "Les joues sont fait."; &amp;ok_to_bet me=0; @tr me/spin}<br/>&amp;BLANK [v(SVC`Te8c003561ba7f45b57ab)]=[ansi(u(colattr,%0),[switch(%0,0,,&lt;10,%b)]%b%b[switch(%0,&gt;9,%b)]%b)]<br/>&amp;BETMARK [v(SVC`Te8c003561ba7f45b57ab)]=[switch(0,u(isbet,%0),%2,u(isyourbet,%0,%1),$,ansi(hg,$))]<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]=BANK:[v(SVC`T7d1c9a0b66f718acf350)]<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]/USE=no_command<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]/STARTUP=no_command<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]/DESCRIBE=no_command visual public nearby<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]/CMD_BET_NUMS=regexp<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]/CMD_BET_HALF=regexp<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]/CMD_BET_DOZEN=regexp<br/>@set [v(SVC`Te8c003561ba7f45b57ab)]/CMD_BET_COLS=regexp<br/>@@<br/>@@ Filling out Lobby &lt;O&gt;\;out\;lobby\;o\;back<br/>@@<br/>@name [v(SVC`E592c7eaffb85b23299e0)]=Lobby &lt;O&gt;;out;lobby;o;back<br/>@link [v(SVC`E592c7eaffb85b23299e0)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@tel [v(SVC`E592c7eaffb85b23299e0)]=v(SVC`R5ecd4f8f12f9dbd63587)<br/>@set [v(SVC`E592c7eaffb85b23299e0)]=iter(setdiff(lflags([v(SVC`E592c7eaffb85b23299e0)]),),!##) [setdiff(,lflags([v(SVC`E592c7eaffb85b23299e0)]))]<br/>&amp;SUCCESS [v(SVC`E592c7eaffb85b23299e0)]=You leave the craps pit and return to the lobby.<br/>&amp;OSUCCESS [v(SVC`E592c7eaffb85b23299e0)]=returns to the lobby.<br/>&amp;ODROP [v(SVC`E592c7eaffb85b23299e0)]=enters from the craps pit.<br/>@set [v(SVC`E592c7eaffb85b23299e0)]/SUCCESS=no_command<br/>@set [v(SVC`E592c7eaffb85b23299e0)]/OSUCCESS=no_command<br/>@set [v(SVC`E592c7eaffb85b23299e0)]/ODROP=no_command<br/>@@<br/>@@ Filling out bank<br/>@@<br/>@chzone [v(SVC`T7d1c9a0b66f718acf350)]=v(SVC`T3c763130274d176cd116)<br/>@name [v(SVC`T7d1c9a0b66f718acf350)]=bank<br/>@lock/USER:Basic [v(SVC`T7d1c9a0b66f718acf350)]=[v(SVC`Te39a2b653594afcd9d6c)]<br/>@lock/Basic [v(SVC`T7d1c9a0b66f718acf350)]=[v(SVC`Te39a2b653594afcd9d6c)]<br/>@tel [v(SVC`T7d1c9a0b66f718acf350)]=v(SVC`Te39a2b653594afcd9d6c)<br/>@link [v(SVC`T7d1c9a0b66f718acf350)]=v(SVC`Te39a2b653594afcd9d6c)<br/>@set [v(SVC`T7d1c9a0b66f718acf350)]=iter(setdiff(lflags([v(SVC`T7d1c9a0b66f718acf350)]),NO_COMMAND),!##) [setdiff(NO_COMMAND,lflags([v(SVC`T7d1c9a0b66f718acf350)]))]<br/>&amp;SVC`IGNORE [v(SVC`T7d1c9a0b66f718acf350)]=#* INFLOW OUTFLOW<br/>&amp;SVC [v(SVC`T7d1c9a0b66f718acf350)]=<br/>&amp;FV_SET_CREDITS [v(SVC`T7d1c9a0b66f718acf350)]=[set(me,%0:%1)]<br/>&amp;FV_REMOVE_CREDITS [v(SVC`T7d1c9a0b66f718acf350)]=[set(me,%0:[sub(v(%0),%1)])]<br/>&amp;FV_HAS_CREDITS [v(SVC`T7d1c9a0b66f718acf350)]=[gte(v(%0),%1)]<br/>&amp;FV_CLEAR_CREDITS [v(SVC`T7d1c9a0b66f718acf350)]=[set(me,%0:0)]<br/>&amp;FV_ADD_CREDITS [v(SVC`T7d1c9a0b66f718acf350)]=[set(me,%0:[add(v(%0),%1)])]<br/>&amp;FN_CREDITS [v(SVC`T7d1c9a0b66f718acf350)]=[default(%0,0)]<br/>&amp;2D [v(SVC`T7d1c9a0b66f718acf350)]=2<br/>@set [v(SVC`T7d1c9a0b66f718acf350)]/2D=no_command<br/>@@<br/>@@ Filling out Cashier<br/>@@<br/>@name [v(SVC`Te39a2b653594afcd9d6c)]=Cashier<br/>@lock/USER:Basic [v(SVC`Te39a2b653594afcd9d6c)]=%!<br/>@lock/Basic [v(SVC`Te39a2b653594afcd9d6c)]=%!<br/>@tel [v(SVC`Te39a2b653594afcd9d6c)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@link [v(SVC`Te39a2b653594afcd9d6c)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]=iter(setdiff(lflags([v(SVC`Te39a2b653594afcd9d6c)]),MONITOR NO_COMMAND OPAQUE),!##) [setdiff(MONITOR NO_COMMAND OPAQUE,lflags([v(SVC`Te39a2b653594afcd9d6c)]))]<br/>&amp;TOURNAMENT [v(SVC`Te39a2b653594afcd9d6c)]=^^(.*) says, "I'm in[.!]?": @select 0=[hastype(%#,player)],  {@emit The cashier looks sternly at %N. "Players only, bub." }, [strmatch(%1,%N)], {@emit The cashier looks sternly at %N. "Nice try." }, [hasattr(#7377,%#)], {@emit The cashier nods to %N and hands %o a stack of tournament chips. "Good luck!"; &amp;%# #7377=250 }, {@emit The cashier shakes %p head at %N. "You've already entered."}<br/>&amp;SVC`ONUPDATE [v(SVC`Te39a2b653594afcd9d6c)]=@force me=@edit me/chips2ducs=Ducat|Ducats,[money(1)]|[money(2)]<br/>&amp;SVC`NOTE [v(SVC`Te39a2b653594afcd9d6c)]=if(not(cor(haspower(me,debit),hasflag(me,wizard))), needs debit power.)<br/>&amp;SVC [v(SVC`Te39a2b653594afcd9d6c)]=<br/>&amp;STATUS [v(SVC`Te39a2b653594afcd9d6c)]=^* says, "How we doing?": @assert strmatch(owner(%#),owner(%!)) ; "Well, we've taken in [setr(1,xget(v(bank),inflow))] ducats and paid out [setr(2,xget(V(bank),outflow))] ducats, and there's [setr(0,lmath(add,iter(lattr([v(bank)]/#*),switch(1,orflags(%i0,Wr),0,haspower(%i0,no_pay),0,xget(v(bank),%i0)))))] out in chips. So we're at [sub(%q1,add(%q0,%q2))].<br/>&amp;STARTUP [v(SVC`Te39a2b653594afcd9d6c)]=@drain me; @notify me<br/>&amp;DUCS2CHIPS [v(SVC`Te39a2b653594afcd9d6c)]=^^(.*) says, "(\d+) chips?,? please[.!?]?": @wait me=@select/notify 0=[hastype(%#,player)], {@emit The cashier looks sternly at %N. "Only players may buy chips." }, [strmatch(stripaccents(%1),%N)], {@emit The cashier looks sternly at %N. "What are you trying to pull?" She motions to the guards, and %N is ejected from the casino.; @tel %#=out }, [gt(%2,0)], {@emit The cashier frowns at %N. "Maybe where you come from, but not here."}, [lte(%2,dec(money(%#)))], { @emit The cashier smirks at %N. "Come back when you've got a bigger roll." }, { @emit The cashier nods to %N. "Changing %2."; give %#=-%2; &amp;%# [v(bank)]=[add(default([v(bank)]/%#,0),%2)]; wh %N=Type 'chips' to see your current number of chips.; &amp;inflow [switch(1,orflags(%#,Wr),#-1,haspower(%#,no_pay),#-1,v(bank))]=[add(xget(v(bank),inflow),%2)] }<br/>&amp;DESCRIBE [v(SVC`Te39a2b653594afcd9d6c)]=The woman behind the desk looks up at you from beneath a green visor.%r"[switch(0,default([v(bank)]/%#,0),I see you don't have any chips. You can purchase them here for ducats by saying '20 chips\, please' (or however many you'd like),You can purchase chips by saying '20 chips\, please'\, or cash out by saying '20 ducats\, please')]," she says.<br/>&amp;CHIPS2DUCS [v(SVC`Te39a2b653594afcd9d6c)]=^^(.*) says, "(\d+) (Ducat|Ducats),? please[.?!]?": @wait me=@select/notify 0=[strmatch(stripaccents(%1),%N)], {@emit The cashier looks sternly at %N and motions to the guards. %N is ejected from the casino.; @tel %#=out }, [gt(%2,0)], {@emit The cashier frowns at %N. "Maybe where you come from, but not here."}, [lte(%2,default([v(bank)]/%#,0))], { @emit The cashier laughs at %N. "What is this, a holdup?" }, { @emit The cashier nods to %N. "Cashing out %2."; give %#=%2; &amp;%# [v(bank)]=[sub(xget(v(bank),%#),%2)]; &amp;outflow [switch(1,orflags(%#,Wr),#-1,haspower(%#,no_pay),#-1,v(bank))]=[add(xget(v(bank),outflow),%2)] }<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]=BANK:[v(SVC`T7d1c9a0b66f718acf350)]<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]/TOURNAMENT=regexp<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]/STARTUP=no_command<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]/SEMAPHORE=no_inherit no_clone locked<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]/DUCS2CHIPS=regexp<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]/DESCRIBE=no_command visual public nearby<br/>@set [v(SVC`Te39a2b653594afcd9d6c)]/CHIPS2DUCS=regexp<br/>@@<br/>@@ Filling out Craps Pit &lt;CP&gt;\;cp\;craps\;pit<br/>@@<br/>@name [v(SVC`Efd3767dd926934d25bb7)]=Craps Pit &lt;CP&gt;;cp;craps;pit<br/>@link [v(SVC`Efd3767dd926934d25bb7)]=v(SVC`R5ecd4f8f12f9dbd63587)<br/>@tel [v(SVC`Efd3767dd926934d25bb7)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set [v(SVC`Efd3767dd926934d25bb7)]=iter(setdiff(lflags([v(SVC`Efd3767dd926934d25bb7)]),),!##) [setdiff(,lflags([v(SVC`Efd3767dd926934d25bb7)]))]<br/>&amp;SUCCESS [v(SVC`Efd3767dd926934d25bb7)]=You wander toward the craps pit.<br/>&amp;OSUCCESS [v(SVC`Efd3767dd926934d25bb7)]=wanders toward the craps pit.<br/>&amp;ODROP [v(SVC`Efd3767dd926934d25bb7)]=comes in from the lobby.<br/>&amp;DESCRIBE [v(SVC`Efd3767dd926934d25bb7)]=The craps pit is loud, almost frantic.<br/>@set [v(SVC`Efd3767dd926934d25bb7)]/SUCCESS=no_command<br/>@set [v(SVC`Efd3767dd926934d25bb7)]/OSUCCESS=no_command<br/>@set [v(SVC`Efd3767dd926934d25bb7)]/ODROP=no_command<br/>@set [v(SVC`Efd3767dd926934d25bb7)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Filling out Craps table<br/>@@<br/>@name [v(SVC`T5c94cea68131e6d41e19)]=Craps table<br/>@lock/USER:Basic [v(SVC`T5c94cea68131e6d41e19)]==%!<br/>@lock/Basic [v(SVC`T5c94cea68131e6d41e19)]==%!<br/>@tel [v(SVC`T5c94cea68131e6d41e19)]=v(SVC`R5ecd4f8f12f9dbd63587)<br/>@link [v(SVC`T5c94cea68131e6d41e19)]=v(SVC`R5ecd4f8f12f9dbd63587)<br/>@set [v(SVC`T5c94cea68131e6d41e19)]=iter(setdiff(lflags([v(SVC`T5c94cea68131e6d41e19)]),MONITOR),!##) [setdiff(MONITOR,lflags([v(SVC`T5c94cea68131e6d41e19)]))]<br/>&amp;WINNINGS [v(SVC`T5c94cea68131e6d41e19)]=[round(mul(ulocal(getodds,extract(%0,3,1,-),%1),first(v(%0))),0)]<br/>&amp;USE [v(SVC`T5c94cea68131e6d41e19)]=CRAPS by Javelin%r[wrap([space(2)]Craps is a game of dice that takes place in rounds.The first roll of the round is the "come out". If the come outroll is a 2\, 3\, 7\, 11\, or 12\, the round is over. Otherwise\,the number rolls is the "point" and the player continues toroll the dice until the point is rolled again or a 7 is rolled.,76,76,%r[space(2)])]%rCOMMANDS:%r* bet &lt;amount&gt; on &lt;type of bet&gt;%r* bet odds on \[pass, dontpass, come&lt;#&gt;, or dontcome&lt;#&gt;\]%r* roll dice%r* pass dice%r* pick up dice%rBET TYPES: (type 'what is &lt;betname&gt;' for an explanation)%r* On a comeout roll: pass, dontpass%r* After comeout: come, dontcome, 4, 5, 6, 8, 9, 10, big6, big8, hard4, hard6, hard 8, hard10%r* Any time: field, crap2, crap3, crap12, anycraps, seven, eleven, horn<br/>&amp;TABLE [v(SVC`T5c94cea68131e6d41e19)]=%b/--+---+[repeat(-,6)][iter(4 5 6 8 9 10,+-----, ,)]+%b%b.-----.[space(4)]____%b%b%b%r| %b | D | DONT [iter(4 5 6 8 9 10,|[center(u(betmarks,dontcome##,4,%0),5)], ,)]|%b/%b%bo%b%b/|%b%b%b/\\%b%b%b\\%b%b%r| P | O | COME |[iter(4 5 6 8 9 10,center(u(pointon,##),5), ,|)]|/_____/o|%b%b/o%b\\%bo%b\\%b%r| A | N | [u(betmarks,dontcome,4,%0)] |[iter(4 5 6 8 9 10,center(## [u(betmark,##,%0)],5), , |)]||%bo%b%b%b|%b|%b/o%bo%b\\___\\%r| S | T | %b[u(oddsmark,dontcome,%0)] %b |[iter(4 5 6 8 9 10,center(u(betmarks,come##,4,%0),5), ,|)]||%b%bo%b%b|o/%b\\%bo%b%b/o%b%b/%r| S | P |[repeat(_,6)][iter(4 5 6 8 9 10,|[center(u(oddsmarks,come##,4,%0,_),5,_)], ,)]||%b%b%bo%b|/%b%b%b\\%b%b/%bo%b/%b%r| %b | A |[space(40)]|%b%b'-----'%bjgs%b\\/__o/%b%b%r| L | S |[space(14)]C O M E[space(19)]+-------+-------+[space(6)]%r| I | S |[center(trim(u(betmarks,come,30,%0)),40)]|%b%b%b[center(Seven,9)]%b[u(betmark,seven,%0)]%b|[space(6)]%r| N |___|[repeat(_,40)]+-------+-------+[space(6)]%r| E | %b%b \\[space(4)][iter(2 3 4 9 10 11 12,center(##,4), ,*)] | 3-3 [u(betmark,hard6,%0)] | 5-5 [u(betmark,hard10,%0)] |[space(6)]%r| %b | %b[u(betmark,big6,%0)]%b \\[space(3)][center(FIELD,34)] | 4-4 [u(betmark,hard8,%0)] | 2-2 [u(betmark,hard4,%0)] |[space(6)]%r| %b | %b6%bB \\[space(3)][center(trim(u(betmarks,field,20,%0)),33)] | 1-1 [u(betmark,crap2,%0)] | 6-6 [u(betmark,crap12,%0)] |[space(6)]%r| %b | %b%bI%b%b \\[repeat(_,36)]|[center(\[[u(betmark,horn,%0)]\],15)]|[space(6)]%r| %b \\ %bG%b8%b[u(betmark,big8,%0)] |[space(10)]Don't Pass Box%b%b[u(betmarks,dontpass,7,%0)][space(2)]| 1-2 [u(betmark,crap3,%0)] | 6-5 [u(betmark,eleven,%0)] |[space(6)]%r\\ %b%b \\[repeat(_,7)]|[repeat(_,26)][u(oddsmarks,dontpass,7,%0,_)][repeat(_,2)]+-------+-------+[space(6)]%r%b\\[space(18)]PASS LINE%b%b[u(betmarks,pass,12,%0)][space(6)]|%b%b%b[center(Any Craps,9)]%b[u(betmark,anycraps,%0)]%b|[space(6)]%r%b%b\\[repeat(_,28)][u(oddsmarks,pass,12,%0,_)][repeat(_,6)]|_______________|[space(6)]<br/>&amp;SVC`IGNORE [v(SVC`T5c94cea68131e6d41e19)]=BET-#* POINT STATUS WINPAT<br/>&amp;SVC [v(SVC`T5c94cea68131e6d41e19)]=<br/>&amp;SUBJ [v(SVC`T5c94cea68131e6d41e19)]=He<br/>&amp;STARTUP [v(SVC`T5c94cea68131e6d41e19)]=@drain me; @notify me; @drain me/RESOLVE; @tr me/reset<br/>&amp;ROLL [v(SVC`T5c94cea68131e6d41e19)]=[die(1,6)] [die(1,6)]<br/>&amp;RESOLVE [v(SVC`T5c94cea68131e6d41e19)]=<br/>&amp;RESET [v(SVC`T5c94cea68131e6d41e19)]=$+clear: @wipe me/bet-*; &amp;status me=comeout; &amp;point me<br/>&amp;PRETTYNAME [v(SVC`T5c94cea68131e6d41e19)]=[switch(%0,ANYCRAPS,any craps,lcstr(regedit(edit(%0,DONT,don't%b,ODDS,%bODDS),(\\D)(\\d),$1 $2)))]<br/>&amp;POINTON [v(SVC`T5c94cea68131e6d41e19)]=[switch(v(point),%0,ON)]<br/>&amp;OLDPOINT [v(SVC`T5c94cea68131e6d41e19)]=4<br/>&amp;OK_TO_BET [v(SVC`T5c94cea68131e6d41e19)]=1<br/>&amp;ODDSMARKS [v(SVC`T5c94cea68131e6d41e19)]=[u(betmarks,%0ODDS,%1,%2,%3)]<br/>&amp;ODDSMARK [v(SVC`T5c94cea68131e6d41e19)]=[u(betmark,%0ODDS,%1,%2)]<br/>&amp;ODDS-SEVEN [v(SVC`T5c94cea68131e6d41e19)]=5<br/>&amp;ODDS-PASSODDS-9 [v(SVC`T5c94cea68131e6d41e19)]=2.5<br/>&amp;ODDS-PASSODDS-8 [v(SVC`T5c94cea68131e6d41e19)]=2.2<br/>&amp;ODDS-PASSODDS-6 [v(SVC`T5c94cea68131e6d41e19)]=2.2<br/>&amp;ODDS-PASSODDS-5 [v(SVC`T5c94cea68131e6d41e19)]=2.5<br/>&amp;ODDS-PASSODDS-4 [v(SVC`T5c94cea68131e6d41e19)]=3<br/>&amp;ODDS-PASSODDS-10 [v(SVC`T5c94cea68131e6d41e19)]=3<br/>&amp;ODDS-PASS [v(SVC`T5c94cea68131e6d41e19)]=2<br/>&amp;ODDS-HORN-2 [v(SVC`T5c94cea68131e6d41e19)]=7.75<br/>&amp;ODDS-HORN-12 [v(SVC`T5c94cea68131e6d41e19)]=7.75<br/>&amp;ODDS-HORN [v(SVC`T5c94cea68131e6d41e19)]=4<br/>&amp;ODDS-HARD8 [v(SVC`T5c94cea68131e6d41e19)]=10<br/>&amp;ODDS-HARD6 [v(SVC`T5c94cea68131e6d41e19)]=10<br/>&amp;ODDS-HARD4 [v(SVC`T5c94cea68131e6d41e19)]=8<br/>&amp;ODDS-HARD10 [v(SVC`T5c94cea68131e6d41e19)]=8<br/>&amp;ODDS-FIELD-2 [v(SVC`T5c94cea68131e6d41e19)]=3<br/>&amp;ODDS-FIELD-12 [v(SVC`T5c94cea68131e6d41e19)]=3<br/>&amp;ODDS-FIELD [v(SVC`T5c94cea68131e6d41e19)]=2<br/>&amp;ODDS-ELEVEN [v(SVC`T5c94cea68131e6d41e19)]=16<br/>&amp;ODDS-DONTPASSODDS-9 [v(SVC`T5c94cea68131e6d41e19)]=1.6667<br/>&amp;ODDS-DONTPASSODDS-8 [v(SVC`T5c94cea68131e6d41e19)]=1.8333<br/>&amp;ODDS-DONTPASSODDS-6 [v(SVC`T5c94cea68131e6d41e19)]=1.8333<br/>&amp;ODDS-DONTPASSODDS-5 [v(SVC`T5c94cea68131e6d41e19)]=1.6667<br/>&amp;ODDS-DONTPASSODDS-4 [v(SVC`T5c94cea68131e6d41e19)]=1.5<br/>&amp;ODDS-DONTPASSODDS-10 [v(SVC`T5c94cea68131e6d41e19)]=1.5<br/>&amp;ODDS-DONTPASS-12 [v(SVC`T5c94cea68131e6d41e19)]=1<br/>&amp;ODDS-DONTPASS [v(SVC`T5c94cea68131e6d41e19)]=2<br/>&amp;ODDS-DONTCOMEODDS-9 [v(SVC`T5c94cea68131e6d41e19)]=1.6667<br/>&amp;ODDS-DONTCOMEODDS-8 [v(SVC`T5c94cea68131e6d41e19)]=1.8333<br/>&amp;ODDS-DONTCOMEODDS-6 [v(SVC`T5c94cea68131e6d41e19)]=1.8333<br/>&amp;ODDS-DONTCOMEODDS-5 [v(SVC`T5c94cea68131e6d41e19)]=1.6667<br/>&amp;ODDS-DONTCOMEODDS-4 [v(SVC`T5c94cea68131e6d41e19)]=1.5<br/>&amp;ODDS-DONTCOMEODDS-10 [v(SVC`T5c94cea68131e6d41e19)]=1.5<br/>&amp;ODDS-DONTCOME-12 [v(SVC`T5c94cea68131e6d41e19)]=1<br/>&amp;ODDS-DONTCOME [v(SVC`T5c94cea68131e6d41e19)]=2<br/>&amp;ODDS-CRAP3 [v(SVC`T5c94cea68131e6d41e19)]=16<br/>&amp;ODDS-CRAP2 [v(SVC`T5c94cea68131e6d41e19)]=31<br/>&amp;ODDS-CRAP12 [v(SVC`T5c94cea68131e6d41e19)]=31<br/>&amp;ODDS-COMEODDS-9 [v(SVC`T5c94cea68131e6d41e19)]=2.5<br/>&amp;ODDS-COMEODDS-8 [v(SVC`T5c94cea68131e6d41e19)]=2.2<br/>&amp;ODDS-COMEODDS-6 [v(SVC`T5c94cea68131e6d41e19)]=2.2<br/>&amp;ODDS-COMEODDS-5 [v(SVC`T5c94cea68131e6d41e19)]=2.5<br/>&amp;ODDS-COMEODDS-4 [v(SVC`T5c94cea68131e6d41e19)]=3<br/>&amp;ODDS-COMEODDS-10 [v(SVC`T5c94cea68131e6d41e19)]=3<br/>&amp;ODDS-COME [v(SVC`T5c94cea68131e6d41e19)]=2<br/>&amp;ODDS-BIG6 [v(SVC`T5c94cea68131e6d41e19)]=2<br/>&amp;ODDS-ANYCRAPS [v(SVC`T5c94cea68131e6d41e19)]=8<br/>&amp;ODDS-9 [v(SVC`T5c94cea68131e6d41e19)]=2.4<br/>&amp;ODDS-8 [v(SVC`T5c94cea68131e6d41e19)]=2.16667<br/>&amp;ODDS-6 [v(SVC`T5c94cea68131e6d41e19)]=2.16667<br/>&amp;ODDS-5 [v(SVC`T5c94cea68131e6d41e19)]=2.4<br/>&amp;ODDS-4 [v(SVC`T5c94cea68131e6d41e19)]=2.8<br/>&amp;ODDS-10 [v(SVC`T5c94cea68131e6d41e19)]=2.8<br/>&amp;NAME-6-6 [v(SVC`T5c94cea68131e6d41e19)]=a hobo's delight on a cold and rainy night|boxcars|midnight|atomic craps|all the spots we got|outstanding in your field|triple dipple, in the lucky ducky|double saw on boxcars<br/>&amp;NAME-5-6 [v(SVC`T5c94cea68131e6d41e19)]=Yo|Yo 'leven|Yo Levine the dancing queen|six five, no jive<br/>&amp;NAME-5-5 [v(SVC`T5c94cea68131e6d41e19)]=the hard way|puppy paws|pair o'roses|pair of sunflowers<br/>&amp;NAME-4-6 [v(SVC`T5c94cea68131e6d41e19)]=big one on the end<br/>&amp;NAME-4-5 [v(SVC`T5c94cea68131e6d41e19)]=Jesse James|ocean liner niner<br/>&amp;NAME-4-4 [v(SVC`T5c94cea68131e6d41e19)]=the hard way|square pair|a square pair, like mother and dad|the windows<br/>&amp;NAME-3-6 [v(SVC`T5c94cea68131e6d41e19)]=Nina from Pasadena|Nina at the Marina|center field<br/>&amp;NAME-3-5 [v(SVC`T5c94cea68131e6d41e19)]=eighter from decatur<br/>&amp;NAME-3-4 [v(SVC`T5c94cea68131e6d41e19)]=seven's a bruiser, the front line's a loser<br/>&amp;NAME-3-3 [v(SVC`T5c94cea68131e6d41e19)]=the hard way|a Brooklyn forest|pair o'treys, waiter's roll<br/>&amp;NAME-2-6 [v(SVC`T5c94cea68131e6d41e19)]=catching eight and feeling great<br/>&amp;NAME-2-5 [v(SVC`T5c94cea68131e6d41e19)]=five two, you're all through|up pops the devil<br/>&amp;NAME-2-4 [v(SVC`T5c94cea68131e6d41e19)]=Jimmie Hicks<br/>&amp;NAME-2-3 [v(SVC`T5c94cea68131e6d41e19)]=after five, the field's alive|fiver, fiver, racetrack driver<br/>&amp;NAME-2-2 [v(SVC`T5c94cea68131e6d41e19)]=a ballerina special|the hard way<br/>&amp;NAME-1-6 [v(SVC`T5c94cea68131e6d41e19)]=six ace, end of the race|front line winner, back line skinner|six one, you're all done<br/>&amp;NAME-1-5 [v(SVC`T5c94cea68131e6d41e19)]=sixie from Dixie<br/>&amp;NAME-1-4 [v(SVC`T5c94cea68131e6d41e19)]=little Phoebe|we got the fever|handy Andy<br/>&amp;NAME-1-3 [v(SVC`T5c94cea68131e6d41e19)]=Little Joe|ace trey, the country way<br/>&amp;NAME-1-2 [v(SVC`T5c94cea68131e6d41e19)]=an ace caught a loose deuce|craps|ace-deuce|small ace deuce, can't produce<br/>&amp;NAME-1-1 [v(SVC`T5c94cea68131e6d41e19)]=a pair of aces in the wrong places|snake eyes|craps|double in the bubble|twice in the rice|eleven in a shoe store|two bad boys from Illinois|aces|to me, they look like mice<br/>&amp;MONEY [v(SVC`T5c94cea68131e6d41e19)]=[default([v(bank)]/%0,0)]<br/>&amp;MINIMUM [v(SVC`T5c94cea68131e6d41e19)]=4<br/>&amp;ISYOURBET [v(SVC`T5c94cea68131e6d41e19)]=[words(lattr(me/BET-%1-%0))]<br/>&amp;ISBET [v(SVC`T5c94cea68131e6d41e19)]=[words(lattr(me/BET-*-%0))]<br/>&amp;GETODDS [v(SVC`T5c94cea68131e6d41e19)]=[setq(0,regediti(%0,come\\d+,come))][switch(%q0,dont*odds,v(ODDS-%q0-[v(oldpoint)]),first([v(ODDS-%q0-%1)] [v(ODDS-%q0)]))]<br/>&amp;DESCRIBE [v(SVC`T5c94cea68131e6d41e19)]=You glance from the well-coiffed croupier down to the felt of the table.%r[u(table,%#)]%r[switch(v(shooter),,No one has the dice. Type 'pick up dice' to pick them up.%r,[name(v(shooter))] has the dice.%b)]Type 'bet &lt;amount&gt; on &lt;type of bet&gt;' to bet.%rType 'use table' for full instructions.<br/>&amp;COUNT [v(SVC`T5c94cea68131e6d41e19)]=[switch(%0,1,a chip,%0 chips)]<br/>&amp;CMD_WHATIS [v(SVC`T5c94cea68131e6d41e19)]=$what is *:@pemit %#=[setq(0,lcstr(%0))][switch(1,t(member(pass dontpass,%q0)),A pass bet is made before a comeout roll. It pays 1:1 if the comeout is a 7 or 11\, or if shooter makes the point later.%rA dontpass bet is the opposite. It pays 1:1 if the comeout is a 2 or 3\, or if a 7 is rolled before a point is made. If the comeout is a 12\, your money is returned.,t(member(come dontcome,%q0)),A come bet is the same as a pass bet\, but is made after a comeout roll. It either pays off on a 7 or 11\, loses on a 2\, 3\, or 12\, or establishes a "come-point" that must be made before the next 7is rolled.%rA dontcome bet is the "come" version of a dontpass bet.,t(member(4 5 6 8 9 10,%q0)),A "place bet" is a bet on a number (4\, 5\, 6\, 8\, 9\, or 10) made after a comeout roll. It wins if the number is rolled before a 7. It pays 9:5 if the bet is on 4 or 10\, 7:5 if it's on 5 or 9\, and7:6 if it's on 6 or 8.,strmatch(%q0,big*),The big6 pays 1:1 if a 6 is rolled before a 7.%rThe big8 pays 1:1 if an 8 is rolled before a 7.,strmatch(%q0,hard*),The "hard ways" bets (hard4, hard6, hard8, and hard10) win when the given number is rolled as a pair of dice of equal value (i.e.\, a hard6 is a roll of two 3's) before either a 7 is rolledor the given number is rolled any other way. It pays 7:1 if the bet is on hard4 or hard10\, and 9:1 on hard6 or hard8.,not(comp(%q0,field)),The field bet wins if a 2\, 3\, 4\, 9\, 10\, 11\, or 12 is rolled on the next roll. It pays 2:1 if a 2 or 12 is rolled on the next roll\, and 1:1 if one of the other field numbers is rolled.,strmatch(%q0,*crap*),The crap2\, crap3\, and crap12 bets win if a 2\, 3\, or 12\, respectively\, is rolled on the next roll. It pays 30:1 for bets on crap2 and crap12\, and 15:1 for bets on crap3.%rThe anycraps bet wins if any of those numbers are rolled on the next roll\, and pays 7:1.,strmatch(%q0,*even),The seven bet wins if a 7 is rolled on the next roll\, and pays4:1.%rThe eleven bet wins if an 11 is rolled on the next roll\, and pays 15:1.,not(comp(%q0,horn)),The horn bet wins if 2\, 3\, 11\, or 12 is rolled on the next roll. If the roll is a 2 or 12\, this bet pays 6:1. If it's a 3 or 11\, this bet pays 3:1.,not(comp(%q0,odds)),An odds bet is an additional wager of the same amount as an existing pass\, dontpass\, come\, or dontcome bet\, made once a point (or come-point) has been established. They win or lose with their corresponding bet. Pass and come odds bets pay 6:5 if the  point is 6 or 8\, 3:2 if the point is 5 or 9\, and 2:1 if the point is 4 or 10.%rDontpass and dontcome odds bets pay 5:6 if the point is 6 or 8\, 2:3 if the point is 5 or 9\, and 1:2 if the point is 4 or 10.,I'm sorry but I've never heard of that bet.)]<br/>&amp;CMD_SHOOTERLEFT [v(SVC`T5c94cea68131e6d41e19)]=^^.* has (left|disconnected)\.$:@switch %#=[v(shooter)], {&amp;SHOOTER me;@emit The croupier notes %N's departure and waits for someone else to pick up the dice.}<br/>&amp;CMD_ROLL [v(SVC`T5c94cea68131e6d41e19)]=$roll dice:@break [switch(0,not(comp(%#,v(SHOOTER))),1[pemit(%#,You don't have the dice now.)],hasattr(me,BET-%#-PASS), 1[pemit(%#,You must bet on the pass line before you can roll the dice.)],0)];@wait me={@emit %N rolls the dice: [setr(0,die(1,6))] [setr(1,die(1,6))];@emit The croupier announces, "[setr(2,add(%q0,%q1))], [first(shuffle(v(NAME-[min(%q0,%q1)]-[max(%q0,%q1)]),|),|)].";@switch/first [v(status)]:%q2=comeout:2, {&amp;WINPAT me=DONTPASS|CRAP2|FIELD|ANYCRAPS|HORN;@emit The croupier collects the dice and waits for someone else to pick them up.;&amp;shooter me},comeout:3, {&amp;WINPAT me=DONTPASS|CRAP3|FIELD|ANYCRAPS|HORN;@emit The croupier collects the dice and waits for someone else to pick them up.;&amp;shooter me},comeout:7, {&amp;WINPAT me=PASS|SEVEN|DONTCOME\\\\d+},comeout:11, {&amp;WINPAT me=PASS|ELEVEN|HORN|FIELD},comeout:12, {&amp;WINPAT me=DONTPASS|CRAP12|ANYCRAPS|HORN|FIELD;@emit The croupier collects the dice and waits for someone else to pick them up.;&amp;shooter me},comeout:*, {&amp;WINPAT me=[switch(member(4 9 10,%q2),0,,FIELD|)]COME%q2;@emit The croupier flips the puck onto the %q2 point.;&amp;point craps table=%q2;&amp;status craps table=point},point:7, { &amp;WINPAT me=DONTPASS(ODDS)?|SEVEN|DONTCOME\\\d+|COME;@wipe me/BET-*-DONTCOME;@wipe me/BET-*-COME4*;@wipe me/BET-*-COME5*;@wipe me/BET-*-COME6*;@wipe me/BET-*-COME8*;@wipe me/BET-*-COME9*;@wipe me/BET-*-COME10*;&amp;OLDPOINT me=[v(point)];@emit The croupier says, "Seven out, line in." [v(subj)] collects the dice and waits for someone else to pick them up.;&amp;status me=comeout;&amp;shooter me;&amp;point me},point:11, { &amp;WINPAT me=COME|ELEVEN|HORN|FIELD;@wipe me/BET-*-DONTCOME},point:2, { &amp;WINPAT me=DONTCOME|CRAP2|HORN|FIELD|ANYCRAPS;@wipe me/BET-*-COME},point:3, { &amp;WINPAT me=DONTCOME|CRAP3|HORN|FIELD|ANYCRAPS;@wipe me/BET-*-COME},point:12, { &amp;WINPAT me=DONTCOME|CRAP12|HORN|FIELD|ANYCRAPS;@wipe me/BET-*-COME},point:*, {@emit [switch(%q2,v(point),The croupier says\, "Point made.")];&amp;status [switch(%q2,v(point),me,#-1)]=comeout;&amp;WINPAT me=%q2|COME%q2[switch(member(4 9 10,%q2),0,,|FIELD)][switch(%q2,v(point),|PASS|PASSODDS)][if(eq(%q0,%q1),|HARD%q2|BIG%q2)][switch(%q2,2,|ANYCRAPS|CRAP2|HORN,3,|ANYCRAPS|CRAP3|HORN,11,|ELEVEN|HORN,12,|ANYCRAPS|CRAP12|HORN)];&amp;point [switch(%q2,v(point),me,#-1)];@wipe [if(eq(%q0,%q1),#-1,me)]/BET-*-HARD%q2;@wipe me/BET-*-DONTCOME*%q2};@wait 0={@dol [regraball(sortby(BETNAME,lattr(me/BET-*)),-([s(\[v(WINPAT)\])])(ODDS)?$)]= { @emit [v(subj)] glances at [name(setr(4,extract(##,2,1,-)))], and slides over [u(count,u(winnings,##,%q2))]. "[capstr(u(prettyname,extract(##,3,1,-)))] wins.";&amp;%q4 [v(bank)] = [add(u(money,%q4),u(winnings,##,%q2))];&amp;## me};@dol [lattr(me/BET-*-COME)]={&amp;##%q2 [switch(member(4 5 6 8 9 10,%q2),0,#-1,me)]=[add(default(me/##%q2,0),v(##))]; &amp;## me};@dol [lattr(me/BET-*-DONTCOME)]={&amp;##%q2 me=[add(default(me/##%q2,0),v(##))]; &amp;## me};@wait 0={@switch [v(status)]=comeout, {@wipe me/BET-*-HORN; @wipe me/BET-*-FIELD; @wipe me/BET-*-*CRAP*; @wipe me/BET-*-*EVEN; @wipe me/BET-*-PASS*; @wipe me/BET-*-DONTPASS*; @wipe me/BET-*-BIG*; @wipe me/BET-*-HARD*; @wipe me/BET-*-4; @wipe me/BET-*-5; @wipe me/BET-*-6; @wipe me/BET-*-8; @wipe me/BET-*-9; @wipe me/BET-*-10},{@wipe me/BET-*-HORN; @wipe me/BET-*-FIELD; @wipe me/BET-*-*CRAP*; @wipe me/BET-*-*EVEN};@notify me}}}<br/>&amp;CMD_PICK_UP [v(SVC`T5c94cea68131e6d41e19)]=$pick up dice:@break [switch(1,nearby(me,v(SHOOTER)),1[pemit(%#,Someone else has the dice.)],0)];&amp;SHOOTER me=%#;@emit %N picks up the dice. "New shooter," announces the croupier.<br/>&amp;CMD_PASS [v(SVC`T5c94cea68131e6d41e19)]=$pass dice:@break [switch(0,not(comp(%#,v(SHOOTER))),1[pemit(%#,You don't have the dice now.)],not(comp(v(status),comeout)),1[pemit(%#,Don't pass the dice until the end of a round.)],0)];&amp;SHOOTER me;@emit %N puts down the dice. The croupier waits for someone to pick them up.<br/>&amp;CMD_BET_ODDS [v(SVC`T5c94cea68131e6d41e19)]=$^bet odds on (pass|dontpass|come\d+|dontcome\d+):@break [switch(0,not(and(strmatch(%1,*pass),not(comp(v(status),comeout)))),1[pemit(%#,That bet can only be made after a come-out roll.)],hasattr(me,BET-%#-%1),1[pemit(%#,You must have a bet on %1 before you can bet odds.)],[setq(1,sub(v(BET-%#-%1),v(BET-%#-%1ODDS)))][gt(%q1,0)],1[pemit(%#,You've already placed odds on that bet.)],gte(u(money,%#),%q1), 1[pemit(%#,You can not afford that bet.)],lte(v(minimum),%q1),1[pemit(%#,The table minimum is [v(minimum)].)],0)];@emit %N places [u(count,%q1)] as an odds bet on [switch(%1,pass,the pass line,dontpass,the don't pass box,u(prettyname,%1))].;&amp;%# [v(bank)] = [sub(u(money,%#),%q1)];&amp;bet-%#-%1ODDS me=[v(BET-%#-%1)]<br/>&amp;CMD_BET_NOTCOMEOUT [v(SVC`T5c94cea68131e6d41e19)]=$^bet (\d+) on ([45689]|10|big[68]|hard[468]|hard10):@break [null(regmatch(%2,\\d+,1))][switch(0,comp(v(status),comeout),1[pemit(%#,That bet can only be made after a come-out roll.)],gte(u(money,%#),%1), 1[pemit(%#,You can not afford that bet.)],lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)],0)]; @emit %N places [u(count,%1)] on [switch(%2,big*,the big %q1,hard*,%q1 the hard way,%q1)].;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet-%#-%2 me=[add(default(me/bet-%#-%2,0),%1)]<br/>&amp;CMD_BET_COMEOUT [v(SVC`T5c94cea68131e6d41e19)]=$^bet (\d+) on (pass|dontpass):@break [switch(0,not(comp(v(status),comeout)),1[pemit(%#,That bet can only be made on a come-out roll.)],gte(u(money,%#),%1), 1[pemit(%#,You can not afford that bet.)],lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)],0)]; @emit %N places [u(count,%1)] on [switch(%2,pass,the pass line,the don't pass box)].;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet-%#-%2 me=[add(default(me/bet-%#-%2,0),%1)]<br/>&amp;CMD_BET_COME [v(SVC`T5c94cea68131e6d41e19)]=$^bet (\d+) on (come|dontcome):@break [switch(0,comp(v(status),comeout),1[pemit(%#,That bet can only be made after a come-out roll.)],gte(u(money,%#),%1), 1[pemit(%#,You can not afford that bet.)],lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)],0)]; @emit %N places [u(count,%1)] on [switch(%2,come,come,dontcome,don't come)].;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet-%#-%2 me=[add(default(me/bet-%#-%2,0),%1)]<br/>&amp;CMD_BET_ANY [v(SVC`T5c94cea68131e6d41e19)]=$^bet (\d+) on (field|crap[23]|crap12|anycraps|seven|eleven|horn):@break [null(regmatch(%2,\\d+,1))][switch(0,gte(u(money,%#),%1), 1[pemit(%#,You can not afford that bet.)],lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)],0)]; @emit %N places [u(count,%1)] on [switch(%2,field,the field,crap*,craps %q1,anycraps,any craps,seven,seven,eleven,eleven,horn,the horn)];&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet-%#-%2 me=[add(default(me/bet-%#-%2,0),%1)]<br/>&amp;BETNAME [v(SVC`T5c94cea68131e6d41e19)]=[comp(last(%0,-),last(%1,-))]<br/>&amp;BETMARKS [v(SVC`T5c94cea68131e6d41e19)]=[ljust([switch(1,t(u(isyourbet,%0,%2)),ansi(hg,$),t(u(isbet,%0)),$)][repeat($,min(dec(%1),max(0,dec(u(isbet,%0)))))],%1,mid(%3%b,0,1))]<br/>&amp;BETMARK [v(SVC`T5c94cea68131e6d41e19)]=[switch(1,t(u(isyourbet,%0,%1)),ansi(hg,$),t(u(isbet,%0)),$,mid(%2%b,0,1))]<br/>@set [v(SVC`T5c94cea68131e6d41e19)]=BANK:[v(SVC`T7d1c9a0b66f718acf350)]<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/WINPAT=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/WINNINGS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/USE=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/TABLE=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/SUBJ=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/STATUS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/STARTUP=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/SEMAPHORE=no_inherit no_clone locked<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ROLL=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/RESET=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/PRETTYNAME=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/POINTON=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/OLDPOINT=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/OK_TO_BET=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDSMARKS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDSMARK=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-SEVEN=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-PASSODDS-9=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-PASSODDS-8=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-PASSODDS-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-PASSODDS-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-PASSODDS-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-PASSODDS-10=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-PASS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-HORN-2=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-HORN-12=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-HORN=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-HARD8=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-HARD6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-HARD4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-HARD10=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-FIELD-2=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-FIELD-12=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-FIELD=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-ELEVEN=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASSODDS-9=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASSODDS-8=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASSODDS-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASSODDS-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASSODDS-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASSODDS-10=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASS-12=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTPASS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOMEODDS-9=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOMEODDS-8=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOMEODDS-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOMEODDS-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOMEODDS-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOMEODDS-10=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOME-12=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-DONTCOME=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-CRAP3=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-CRAP2=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-CRAP12=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-COMEODDS-9=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-COMEODDS-8=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-COMEODDS-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-COMEODDS-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-COMEODDS-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-COMEODDS-10=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-COME=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-BIG6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-ANYCRAPS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-9=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-8=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ODDS-10=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-6-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-5-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-5-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-4-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-4-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-4-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-3-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-3-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-3-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-3-3=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-2-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-2-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-2-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-2-3=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-2-2=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-1-6=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-1-5=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-1-4=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-1-3=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-1-2=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/NAME-1-1=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/MONEY=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/MINIMUM=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ISYOURBET=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/ISBET=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/GETODDS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/DESCRIBE=no_command visual public nearby<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/COUNT=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/CMD_SHOOTERLEFT=regexp<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/CMD_BET_ODDS=regexp<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/CMD_BET_NOTCOMEOUT=regexp<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/CMD_BET_COMEOUT=regexp<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/CMD_BET_COME=regexp<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/CMD_BET_ANY=regexp<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/BETNAME=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/BETMARKS=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/BETMARK=no_command<br/>@set [v(SVC`T5c94cea68131e6d41e19)]/BANK=no_command<br/>@@<br/>@@ Filling out Roulette Parlor &lt;RP&gt;\;rp\;roulette\;parlor<br/>@@<br/>@name [v(SVC`E69ea522b635f59fded38)]=Roulette Parlor &lt;RP&gt;;rp;roulette;parlor<br/>@link [v(SVC`E69ea522b635f59fded38)]=v(SVC`Rf32175928c437fc65afe)<br/>@tel [v(SVC`E69ea522b635f59fded38)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@set [v(SVC`E69ea522b635f59fded38)]=iter(setdiff(lflags([v(SVC`E69ea522b635f59fded38)]),),!##) [setdiff(,lflags([v(SVC`E69ea522b635f59fded38)]))]<br/>&amp;SUCCESS [v(SVC`E69ea522b635f59fded38)]=You enter the roulette parlor<br/>&amp;OSUCCESS [v(SVC`E69ea522b635f59fded38)]=enters the roulette parlor.<br/>&amp;ODROP [v(SVC`E69ea522b635f59fded38)]=comes in from the lobby.<br/>&amp;DESCRIBE [v(SVC`E69ea522b635f59fded38)]=In that direction, you can see players huddled over roulette tables.<br/>@set [v(SVC`E69ea522b635f59fded38)]/SUCCESS=no_command<br/>@set [v(SVC`E69ea522b635f59fded38)]/OSUCCESS=no_command<br/>@set [v(SVC`E69ea522b635f59fded38)]/ODROP=no_command<br/>@set [v(SVC`E69ea522b635f59fded38)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Filling out Baccarat table<br/>@@<br/>@name [v(SVC`Tf48885245b94665626fd)]=Baccarat table<br/>@lock/USER:Basic [v(SVC`Tf48885245b94665626fd)]=%!<br/>@lock/Basic [v(SVC`Tf48885245b94665626fd)]=%!<br/>@tel [v(SVC`Tf48885245b94665626fd)]=v(SVC`R49a17f78a873806adbd2)<br/>@link [v(SVC`Tf48885245b94665626fd)]=v(SVC`R49a17f78a873806adbd2)<br/>@set [v(SVC`Tf48885245b94665626fd)]=iter(setdiff(lflags([v(SVC`Tf48885245b94665626fd)]),MONITOR),!##) [setdiff(MONITOR,lflags([v(SVC`Tf48885245b94665626fd)]))]<br/>&amp;WINNINGS [v(SVC`Tf48885245b94665626fd)]=[round(mul(v(ODDS-[extract(%0,3,1,-)]),v(%0)),0)]<br/>&amp;USE [v(SVC`Tf48885245b94665626fd)]=BACCARAT by Javelin%r[wrap([space(2)]Baccarat is a card game played with 8 decks. Everyone bets on either "player"\, "banker"\, or "tie". The player with the highest bet on "player" represents the player; another player represents the banker and deals the cards (until banker loses). Each gets two cards\, and the score is the last digit of the sum of the cards (so from 0-9). Face cards and tens count as 0; aces count as 1. Sometimes the croupier will instruct a third card to be dealt to player or banker. The higher-scoring hand wins for all those who have bet on that hand; in the event of a tie\, tie bettors win. Bets on "player" pay 1:1\, on "banker" pay 19:20\, and on "tie" pay 8:1.,76,76,%r[space(2)])]%rCOMMANDS:%r* bet &lt;amount&gt; on \[banker, player, or tie\]%r* deal cards%r* pass deck%r* pick up deck%rTHIRD CARD RULES:%r1. If either player or banker are dealt 8 or 9, no third cards are dealt.%r2. If player has 5 or less, player receives a third card.%r3. If player didn't get a third card, banker receives a third card if banker's total is 5 or less.%r4. If player received a third card, banker receives a third  card based on banker's total and what player's third card was.%rThe croupier will instruct the dealer when to deal third cards.<br/>&amp;TABLE [v(SVC`Tf48885245b94665626fd)]=[setq(0,min(12,max(7,words(lattr(me/BET-*)))))][setq(1,center(BANKERS,%q0))][setq(2,center(PLAYERS,%q0))][setq(3,iter(filter(NOTYOURBET,lattr(me/BET-*)),extract(##,3,1,-)))][setq(5,words(lattr(me/BET-*-TIE)))][center(TIE%b%b8 for 1%b%b%b[u(betmarks,TIE,%#,12)],mul(6,%q0))]%r[iter(lnum(1,%q0),center(##,6), ,)]%r[repeat(+-----,%q0)]+%r[iter(lnum(%q0),|%b[ljust([mid(%q1,##,1)] [u(betmark,BANKER,%#,##,%q3)],4)], ,)]|%r[repeat(+-----,%q0)]+%r[iter(lnum(%q0),|%b[ljust([mid(%q2,##,1)] [u(betmark,PLAYER,%#,##,%q3)],4)], ,)]|%r[repeat(+-----,%q0)]+%r[repeat(|[space(5)],%q0)]|%r[repeat(|[space(5)],%q0)]|%r[repeat(|[space(5)],%q0)]|<br/>&amp;SVC`IGNORE [v(SVC`Tf48885245b94665626fd)]=deck<br/>&amp;SVC [v(SVC`Tf48885245b94665626fd)]=<br/>&amp;SUBJ [v(SVC`Tf48885245b94665626fd)]=He<br/>&amp;STATUS [v(SVC`Tf48885245b94665626fd)]=bet<br/>&amp;STARTUP [v(SVC`Tf48885245b94665626fd)]=@wipe me/bet-*; &amp;status me=bet; &amp;fulldecks me=[iter(lnum(8),iter([lnum(2,10)] J Q K A,iter(h c d s,[itext(1)][itext(0)])))]; &amp;deck me=[shuffle(v(fulldecks))]; @drain me; @notify me<br/>&amp;PLAYER_THIRD [v(SVC`Tf48885245b94665626fd)]=@emit At the croupier's nod, %2 deals %0 another card: [setr(0,u(draw))].;&amp;PCARDS me=[v(PCARDS)] %q0;@emit The croupier looks at %0's cards, and announces, "Player, [setr(1,u(handvalue,v(PCARDS)))].";@tr me/[switch(u(bankerhit,%3,%q0),H,banker_third,finish)]=%0,%q1,%2,%3<br/>&amp;PLAYER [v(SVC`Tf48885245b94665626fd)]=[setq(0,lattr(me/BET-*-PLAYER))][setq(1,lattr(me/BET-*-TIE))][setq(2,lattr(me/BET-*-BANKER))][extract(first([munge(mng_player, iter(%q0,v(##)), %q0)] [munge(mng_player, iter(%q1,v(##)), %q1)] [munge(mng_player, iter(%q2,v(##)), %q2)]),2,1,-)]<br/>&amp;PCARDS [v(SVC`Tf48885245b94665626fd)]=9h 7s<br/>&amp;ODDS-TIE [v(SVC`Tf48885245b94665626fd)]=9<br/>&amp;ODDS-PLAYER [v(SVC`Tf48885245b94665626fd)]=2<br/>&amp;ODDS-BANKER [v(SVC`Tf48885245b94665626fd)]=1.95<br/>&amp;NOTYOURBET [v(SVC`Tf48885245b94665626fd)]=[switch(%0,*-TIE,0,*-%#-*,0,1)]<br/>&amp;MONEY [v(SVC`Tf48885245b94665626fd)]=[default([v(bank)]/%0,0)]<br/>&amp;MNG_PLAYER [v(SVC`Tf48885245b94665626fd)]=[revwords(sort(%0,n))]<br/>&amp;MINIMUM [v(SVC`Tf48885245b94665626fd)]=50<br/>&amp;ISYOURBET [v(SVC`Tf48885245b94665626fd)]=[words(lattr(me/BET-%1-%0))]<br/>&amp;ISBET [v(SVC`Tf48885245b94665626fd)]=[words(lattr(me/BET-*-%0))]<br/>&amp;HITTABLE [v(SVC`Tf48885245b94665626fd)]=H H H H H H H H S H S S H H H H H H S S S S S S H H H H S S S S S S S S H H S S<br/>&amp;HANDVALUE [v(SVC`Tf48885245b94665626fd)]=[mod(lmath(add,edit(iter(%0,mid(##,0,1)),1,0,J,0,Q,0,K,0,A,1)),10)]<br/>&amp;FULLDECKS [v(SVC`Tf48885245b94665626fd)]=2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As 2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As 2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As 2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As 2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As 2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As 2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As 2h 2c 2d 2s 3h 3c 3d 3s 4h 4c 4d 4s 5h 5c 5d 5s 6h 6c 6d 6s 7h 7c 7d 7s 8h 8c 8d 8s 9h 9c 9d 9s 10h 10c 10d 10s Jh Jc Jd Js Qh Qc Qd Qs Kh Kc Kd Ks Ah Ac Ad As<br/>&amp;FINISH [v(SVC`Tf48885245b94665626fd)]=@switch 1= [gt(%1,%3)],{ @emit The croupier says, "Player wins," and retrieves the deck.;&amp;dealer me;@dol [lattr(me/BET-*-PLAYER)] = {@emit [capstr(v(subj))] hands [name(extract(##,2,1,-))] [u(count,u(winnings,##))].; &amp;[extract(##,2,1,-)] [v(bank)] = [add(u(money,extract(##,2,1,-)),u(winnings,##))];&amp;## me};@wait 0 = { @wipe me/BET-*-BANKER; @wipe me/BET-*-TIE;@wait 0 = @notify me }},[gt(%3,%1)],{ @emit The croupier says, "Banker wins.";@dol [lattr(me/BET-*-BANKER)] = {@emit [capstr(v(subj))] hands [name(extract(##,2,1,-))] [u(count,u(winnings,##))].; &amp;[extract(##,2,1,-)] [v(bank)] = [add(u(money,extract(##,2,1,-)),u(winnings,##))];&amp;## me};@wait 0 = { @wipe me/BET-*-PLAYER; @wipe me/BET-*-TIE;@wait 0 = @notify me }},[eq(%3,%1)],{ @emit The croupier says, "Tie bettors win.";@dol [lattr(me/BET-*-TIE)] = {@emit [capstr(v(subj))] hands [name(extract(##,2,1,-))] [u(count,u(winnings,##))].; &amp;[extract(##,2,1,-)] [v(bank)] = [add(u(money,extract(##,2,1,-)),u(winnings,##))];&amp;## me};@wait 0 = { @wipe me/BET-*-PLAYER; @wipe me/BET-*-BANKER;@wait 0 = @notify me }},[lt(words(v(deck)),10)],{ @emit The croupier looks at the shoe. "New shuffle." [capstr(v(subj))] shuffles the cards before returning them.;&amp;deck me = [shuffle(v(fulldecks))]}<br/>&amp;DRAW [v(SVC`Tf48885245b94665626fd)]=[first(v(deck))][set(me,DECK:[rest(v(deck))])]<br/>&amp;DESCRIBE [v(SVC`Tf48885245b94665626fd)]=You glance from the well-coiffed croupier down to the felt of the table.%r[u(table,%#)]%r[switch(v(dealer),,No one is dealing. Type 'pick up deck' to be the dealer.%r,[name(v(dealer))] is dealing.%b)]Type 'bet &lt;amount&gt; on &lt;type of bet&gt;' to bet.%rType 'use table' for full instructions.<br/>&amp;COUNT [v(SVC`Tf48885245b94665626fd)]=[switch(%0,1,a chip,%0 chips)]<br/>&amp;CMD_PICK_UP [v(SVC`Tf48885245b94665626fd)]=$pick up deck:@break [switch(1,nearby(me,v(dealer)),1[pemit(%#,Someone else has the deck.)],0)];&amp;dealer me=%#;@emit %N picks up the deck. "New dealer," announces the croupier.<br/>&amp;CMD_PASS [v(SVC`Tf48885245b94665626fd)]=$pass deck:@break [switch(0,not(comp(%#,v(dealer))),1[pemit(%#,You don't have the deck now.)],0)];&amp;dealer me;@emit %N puts down the deck. The croupier waits for someone to pick them up.<br/>&amp;CMD_DEALERLEFT [v(SVC`Tf48885245b94665626fd)]=^^.* has (left|disconnected)\.$:@wipe me/bet-%#-*; @break [comp(%#,v(dealer))];&amp;dealer me; @select 0=[words(lattr(me/BET-*))],{ @emit The croupier notes %N's departure and waits for someone else to pick up the cards.;&amp;dealer me},{ @emit The croupier notes %N's departure and takes over the deal.;@emit [capstr(v(subj))] deals two cards to [setr(0,name(ulocal(player)))]: [set(me,PCARDS:[u(draw)] [u(draw)])][v(PCARDS)];@emit [capstr(v(subj))] deals two cards to [switch(v(subj),he,him,her)]self: [set(me,BCARDS:[u(draw)] [u(draw)])][v(BCARDS)];@emit The croupier looks at %q0's cards, and announces, "Player, [setr(1,u(handvalue,v(PCARDS)))][switch(%q1,&gt;7,\, natural)]."%r[capstr(v(subj))] looks at [switch(v(subj),he,his,hers)], and announces, "Banker, [setr(2,u(handvalue,v(BCARDS)))][switch(%q2,&gt;7,\, natural)].";@wait me={@tr me/[switch(1,or(gt(%q1,7),gt(%q2,7)),finish,lt(%q1,6),player_third,lt(%q2,6),banker_third,finish)] = %q0,%q1,The croupier,%q2}}<br/>&amp;CMD_DEAL [v(SVC`Tf48885245b94665626fd)]=$deal cards:@break [switch(0,not(comp(%#,v(dealer))),1[pemit(%#,You don't have the deck now.)],words(lattr(me/BET-%#-*)),1[pemit(%#,You must bet before you deal.)], words(remove(ulocal(player),%#)),1[pemit(%#,Someone else must bet first.)],0)];@emit %N deals two cards to [setr(0,name(ulocal(player)))]: [set(me,PCARDS:[u(draw)] [u(draw)])][v(PCARDS)];@emit %N deals two cards to %oself: [set(me,BCARDS:[u(draw)] [u(draw)])][v(BCARDS)];@emit The croupier looks at %q0's cards, and announces, "Player, [setr(1,u(handvalue,v(PCARDS)))][switch(%q1,&gt;7,\, natural)]."%r[capstr(v(subj))] looks at %N's, and announces, "Banker, [setr(2,u(handvalue,v(BCARDS)))][switch(%q2,&gt;7,\, natural)].";@wait me={@tr me/[switch(1,or(gt(%q1,7),gt(%q2,7)),finish,lt(%q1,6),player_third,lt(%q2,6),banker_third,finish)] = %q0,%q1,%N,%q2}}<br/>&amp;CMD_BET [v(SVC`Tf48885245b94665626fd)]=$^bet (\d+) on (banker|banco|punto|player|tie|standoff):@break [setq(0,switch(%2,banco,banker,punto,player,standoff,tie,%2))][switch(0,or(comp(%#,v(dealer)),not(comp(%q0,banker))),1[pemit(%#,As dealer, you must bet on 'banker'.)],gte(u(money,%#),%1), 1[pemit(%#,You can not afford that bet.)], lte(v(minimum),%1),1[pemit(%#,The table minimum is [v(minimum)].)], not(words(setdiff(lattr(me/BET-%#-*),lattr(me/BET-%#-%q0)))),1[pemit(%#,You've already made a different bet for this round.)], 0)];@wait me = {@emit %N bets [u(count,%1)] on %q0;&amp;%# [v(bank)] = [sub(u(money,%#),%1)];&amp;bet-%#-%q0 me=[add(default(me/bet-%#-%q0,0),%1)];@notify me}<br/>&amp;BETMARKS [v(SVC`Tf48885245b94665626fd)]=[switch(1,t(u(isyourbet,%0,%1)),ansi(hg,$),t(u(isbet,%0)),$)][repeat($,min(dec(%2),max(0,dec(u(isbet,%0)))))]<br/>&amp;BETMARK [v(SVC`Tf48885245b94665626fd)]=[switch(1,and(eq(%2,0),u(isyourbet,%0,%1)),ansi(hg,$),eq(%2,0),%b,not(comp(%0,extract(%3,%2,1))),$,%b)]<br/>&amp;BCARDS [v(SVC`Tf48885245b94665626fd)]=10d Kc 6h<br/>&amp;BANKER_THIRD [v(SVC`Tf48885245b94665626fd)]=@emit At the croupier's nod, %2 deals another card: [setr(0,u(draw))].;&amp;BCARDS me=[v(BCARDS)] %q0;@emit The croupier looks at %0's cards, and announces, "Banker, [setr(1,u(handvalue,v(BCARDS)))].";@tr me/finish=%0,%1,%2,%q1<br/>&amp;BANKERHIT [v(SVC`Tf48885245b94665626fd)]=[switch(%0,&lt;3,H,&gt;6,S,extract(v(hittable),add(mul(sub(%0,3),10),%1,1),1))]<br/>@set [v(SVC`Tf48885245b94665626fd)]=BANK:[v(SVC`T7d1c9a0b66f718acf350)]<br/>@set [v(SVC`Tf48885245b94665626fd)]/USE=no_command<br/>@set [v(SVC`Tf48885245b94665626fd)]/STATUS=no_command<br/>@set [v(SVC`Tf48885245b94665626fd)]/STARTUP=no_command<br/>@set [v(SVC`Tf48885245b94665626fd)]/SEMAPHORE=no_inherit no_clone locked<br/>@set [v(SVC`Tf48885245b94665626fd)]/FULLDECKS=no_command<br/>@set [v(SVC`Tf48885245b94665626fd)]/DESCRIBE=no_command visual public nearby<br/>@set [v(SVC`Tf48885245b94665626fd)]/DECK=no_command<br/>@set [v(SVC`Tf48885245b94665626fd)]/CMD_DEALERLEFT=regexp<br/>@set [v(SVC`Tf48885245b94665626fd)]/CMD_BET=regexp<br/>@@<br/>@@ Filling out Bond<br/>@@<br/>@name [v(SVC`Tf9e5b23fc74a8983baab)]=Bond<br/>@lock/USER:Basic [v(SVC`Tf9e5b23fc74a8983baab)]=%!<br/>@lock/Basic [v(SVC`Tf9e5b23fc74a8983baab)]=%!<br/>@tel [v(SVC`Tf9e5b23fc74a8983baab)]=v(SVC`R49a17f78a873806adbd2)<br/>@link [v(SVC`Tf9e5b23fc74a8983baab)]=v(SVC`R49a17f78a873806adbd2)<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]=iter(setdiff(lflags([v(SVC`Tf9e5b23fc74a8983baab)]),MONITOR NO_COMMAND),!##) [setdiff(MONITOR NO_COMMAND,lflags([v(SVC`Tf9e5b23fc74a8983baab)]))]<br/>&amp;WIN [v(SVC`Tf9e5b23fc74a8983baab)]=^He hands Bond * chips.: @switch %#=[v(table)], {:chuckles and winks.}<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]=TABLE:[v(SVC`Tf48885245b94665626fd)]<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]=STARTUP:&amp;\[num\(me\)\] [v(SVC`T7d1c9a0b66f718acf350)]=10000<br/>&amp;SEX [v(SVC`Tf9e5b23fc74a8983baab)]=male<br/>&amp;PASS [v(SVC`Tf9e5b23fc74a8983baab)]=^The croupier says, "*win*"*: @switch %#=[v(table)], { pass deck }<br/>&amp;NEEDED [v(SVC`Tf9e5b23fc74a8983baab)]=[setdiff(PLAYER BANKER,iter(lattr([v(TABLE)]/BET-*),extract(##,3,1,-)))]<br/>&amp;JOIN [v(SVC`Tf9e5b23fc74a8983baab)]=^.* says, "Fancy a game,? Mr\.? Bond\??": @break [switch(1,words(lattr([v(table)]/BET-[num(me)]-*)),1[emit(Bond shakes his head. "It appears I'm already playing one.")],0)]; :looks up at %N, and replies, "Very well."; bet [mul(50,inc(rand(10)))] on [lcstr(setr(0,u(needed)))]; @break [not(comp(%q0,PLAYER))]; pick up deck; @wait 2=deal cards<br/>&amp;DESCRIBE [v(SVC`Tf9e5b23fc74a8983baab)]=A sauve-looking Englishman dressed in a dapper dinner jacket and black tie. If you're in need of someone to play baccarat with, make your bet [ansi(h,first)] and then say, "Fancy a game, Mr. Bond?" and he'll join in. If he's holding the deck but hasn't dealt (usually because you asked him to join before you made your bet), and you want him to, say "Your deal, Mr. Bond."<br/>&amp;DEAL [v(SVC`Tf9e5b23fc74a8983baab)]=^.* says, "Your deal,? Mr\.? Bond.?": deal cards<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]/STARTUP=no_command<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]/SEX=no_command visual<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]/JOIN=regexp<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]/DESCRIBE=no_command visual public nearby<br/>@set [v(SVC`Tf9e5b23fc74a8983baab)]/DEAL=regexp<br/>@@<br/>@@ Filling out Lobby &lt;O&gt;\;lobby\;out\;o\;back\;leave<br/>@@<br/>@name [v(SVC`E4f11cb844f4b875b2a89)]=Lobby &lt;O&gt;;lobby;out;o;back;leave<br/>@link [v(SVC`E4f11cb844f4b875b2a89)]=v(SVC`Rb45f2571a5f61ff1ff17)<br/>@tel [v(SVC`E4f11cb844f4b875b2a89)]=v(SVC`Rf32175928c437fc65afe)<br/>@set [v(SVC`E4f11cb844f4b875b2a89)]=iter(setdiff(lflags([v(SVC`E4f11cb844f4b875b2a89)]),),!##) [setdiff(,lflags([v(SVC`E4f11cb844f4b875b2a89)]))]<br/>&amp;SUCCESS [v(SVC`E4f11cb844f4b875b2a89)]=You return to the lobby.<br/>&amp;OSUCCESS [v(SVC`E4f11cb844f4b875b2a89)]=returns to the lobby.<br/>&amp;ODROP [v(SVC`E4f11cb844f4b875b2a89)]=enters from the roulette parlor.<br/>@set [v(SVC`E4f11cb844f4b875b2a89)]/SUCCESS=no_command<br/>@set [v(SVC`E4f11cb844f4b875b2a89)]/OSUCCESS=no_command<br/>@set [v(SVC`E4f11cb844f4b875b2a89)]/ODROP=no_command<br/>@@<br/>@@ Triggering all startups, oncreates, onupdates.<br/>@@<br/>@trigger [v(SVC`Te8c003561ba7f45b57ab)]/STARTUP<br/>@trigger [v(SVC`Te39a2b653594afcd9d6c)]/SVC`ONUPDATE<br/>@trigger [v(SVC`Te39a2b653594afcd9d6c)]/STARTUP<br/>@trigger [v(SVC`T5c94cea68131e6d41e19)]/STARTUP<br/>@trigger [v(SVC`Tf48885245b94665626fd)]/STARTUP<br/>@trigger [v(SVC`Tf9e5b23fc74a8983baab)]/STARTUP
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>