<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: +who how-to</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Pluswho-how-to.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Pluswho-how-to.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Pluswho-how-to.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Pluswho-how-to.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Pluswho-how-to.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Pluswho-how-to.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Softcode.html">Softcode</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Pluswho-how-to.html#">+who how-to</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            +who how-to
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>Kyieren walks through the process of creating a basic +who global.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <a href="../Author/Kyieren.html">Kyieren</a>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Softcode.html">Softcode</a>
        </div>


            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/conn.html" class="function">conn&#40;&#41;</a>,
                        <a href="../Function/elements.html" class="function">elements&#40;&#41;</a>,
                        <a href="../Function/hasflag.html" class="function">hasflag&#40;&#41;</a>,
                        <a href="../Function/idle.html" class="function">idle&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/ljust.html" class="function">ljust&#40;&#41;</a>,
                        <a href="../Function/loc.html" class="function">loc&#40;&#41;</a>,
                        <a href="../Function/lwho.html" class="function">lwho&#40;&#41;</a>,
                        <a href="../Function/mudname.html" class="function">mudname&#40;&#41;</a>,
                        <a href="../Function/mwho.html" class="function">mwho&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/repeat.html" class="function">repeat&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/timestring.html" class="function">timestring&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>.
            </div>

    </div>
</div>


<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for +who how-to
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Pluswho-how-to.html#">
                    <i class="icon-resize-full"></i> Select Content
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        Topic: +who How-To<br/>Author: Kyieren<br/>Summary: Kyieren walks through the process of creating a basic +who global.<br/><br/>HOW TO MAKE A BASIC +WHO GLOBAL<br/><br/><br/>&lt;101&gt; Kyieren says, "Alright, what we're going to be doing is making a +who<br/>global."<br/><br/>&lt;101&gt; Tyran says, "Ok."<br/>&lt;101&gt; Tyran says, "Do I need to make a special Room?"<br/><br/>&lt;101&gt; Kyieren says, "Since this is a global, we'll want to put our +who code<br/>on an object, and place the object in #2, so that people can use it."<br/>&lt;101&gt; Kyieren says, "Since we don't have access to #2, the master room, on<br/>M*U*S*H, we'll just make our own little objects for our own use."<br/><br/>&lt;101&gt; Tyran says, "I may have access to room #2"<br/><br/>&lt;101&gt; Kyieren says, "Okay, had to do some filtering for the log I'm making."<br/>&lt;101&gt; Kyieren says, "Yes, on your MUSH, but not here."<br/><br/>&lt;101&gt; Tyran says, "ok I am there."<br/><br/>&lt;101&gt; Kyieren says, "Okay, let's get started. First, we want to create an<br/>Object. @create +Who Global"<br/><br/>&lt;101&gt; Tyran says, "Ok."<br/><br/>&lt;101&gt; Kyieren says, "Let's unset the NO_COMMAND flag, so we can use commands<br/>on the object. @set +Who Global=!NO_COMMAND"<br/>&lt;101&gt; Kyieren says, "See 'help NO_COMMAND' for help on the NO_COMMAND flag."<br/><br/>&lt;101&gt; Tyran says, "k"<br/><br/>&lt;101&gt; Kyieren says, "Okay, let's first sit down and examine what we want our<br/>+who global to look like. What fields do we want? Well, in +who on a lot of<br/>places, you usually get the Player's Name, Location, Online Time, and Idle<br/>Time."<br/>&lt;101&gt; Kyieren says, "That sound cool for now?"<br/><br/>&lt;101&gt; Tyran says, "I want a Players Name, Online Time and Idle"<br/><br/>&lt;101&gt; Kyieren says, "That's fine."<br/><br/>&lt;101&gt; Tyran says, "K"<br/><br/>&lt;101&gt; Kyieren says, "Okay, so what we're going to do is get a list of<br/>currently connected players, and for each player, we will list the person's<br/>name, online time, and idle time."<br/>&lt;101&gt; Kyieren says, "The way we do that is through a function called iter()."<br/><br/>&lt;101&gt; Tyran says, "K."<br/><br/>&lt;101&gt; Kyieren says, "Short for, iterate."<br/>&lt;101&gt; Kyieren says, "So the syntax for the iter() function is: iter(list,what<br/>you want to do for wach item in the list)"<br/>&lt;101&gt; Kyieren says, "wach=each"<br/>&lt;101&gt; Kyieren says, "Take a look at 'help iter()'"<br/>&lt;101&gt; Kyieren says, "You see that we can call each item in the list using ##."<br/>&lt;101&gt; Kyieren says, "Now, let's think about the list we're going to use."<br/><br/>&lt;101&gt; Tyran says, "Let me read this."<br/><br/>&lt;101&gt; Kyieren says, "We need a list of currently connected players, excluding<br/>wizards/royalty set DARK."<br/>&lt;101&gt; Kyieren says, "Okay, let me know when you're done and understand iter()<br/>fully."<br/><br/>&lt;101&gt; Tyran says, "Ok, i'll brb, gotta get off for a sec."<br/><br/>&lt;101&gt; Kyieren says, "Okay, we'll pause."<br/><br/>&lt;101&gt; Tyran has disconnected.<br/><br/>&lt;101&gt; Kyieren takes a break to run downstairs for a soda. BRB.<br/><br/>&lt;101&gt; David says, "If we pause for five minutes though, the VCR will<br/>automatically stop to avoid damaging the tape."<br/><br/>&lt;101&gt; Carbon-Based Landus says, "That's why it does it?"<br/><br/>&lt;101&gt; Kyieren says, "That's true. We can always hit record again though."<br/><br/>&lt;101&gt; David nods.<br/>&lt;101&gt; David says, "Because, when it is paused, it has the tape in 'play'<br/>position, over the heads."<br/><br/>&lt;101&gt; Kyieren taptaps foot. Where is he?<br/><br/>&lt;101&gt; Tyran has connected.<br/>&lt;101&gt; Tyran says, "Ok"<br/><br/>&lt;101&gt; Kyieren says, "All stable now?"<br/><br/>&lt;101&gt; Tyran says, "Yep"<br/><br/>&lt;101&gt; Kyieren says, "Okay then. Back to the list. iter() needs a list, and for<br/>+who, we use the list of currently connected players."<br/><br/>&lt;101&gt; Tyran says, "K."<br/><br/>&lt;101&gt; Kyieren says, "PennMUSH has that list for us, it's called lwho(). See<br/>'help lwho()'."<br/><br/>&lt;101&gt; Tyran says, "K."<br/><br/>&lt;101&gt; Kyieren says, "mwho() also works, it's basically a synonym."<br/><br/>&lt;101&gt; Tyran says, "k."<br/><br/>&lt;101&gt; Kyieren says, "So let's start our code, basic algorithm."<br/>&lt;101&gt; Kyieren says, "Actually, no."<br/>&lt;101&gt; Kyieren says, "Let's start with the header."<br/>&lt;101&gt; Kyieren says, "The header doesn't need to be anything fancy, just some<br/>little frilly things to make the +who pretty."<br/>&lt;101&gt; Kyieren says, "Let's set a &amp;HEADER attribute on our global object."<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;header global=[repeat(=,78)]%r[mudname()]%r[repeat(=,78)]%r<br/><br/>"<br/>&lt;101&gt; Kyieren says, "&amp;header: we're storing this information in the HEADER<br/>attribute."<br/><br/>&lt;101&gt; Tyran says, "Is that exactly what I type?"<br/><br/>&lt;101&gt; Kyieren says, "Yes"<br/>&lt;101&gt; Kyieren says, "global is the abbreviated name of our object."<br/>&lt;101&gt; Kyieren says, "The repeat(blah,number) function just prints blah number<br/>times. So this will print '=' 78 times."<br/><br/>&lt;101&gt; Tyran says, "Ok, that is done."<br/><br/>&lt;101&gt; Kyieren says, "All next to each other"<br/>&lt;101&gt; Kyieren says, "See 'help repeat()' for more on that."<br/>&lt;101&gt; Kyieren says, "The mudname() function prints out the name of your MUSH<br/>as defined in mush.cnf, I believe."<br/>&lt;101&gt; Kyieren says, "See 'help mudname()"<br/>&lt;101&gt; Kyieren says, "Again the repeat() function"<br/><br/>&lt;101&gt; Tyran says, "How do i set mudname?"<br/><br/>&lt;101&gt; Kyieren says, "That's in mush.cnf in your penn directory, I think."<br/><br/>&lt;101&gt; Tyran says, "k."<br/><br/>&lt;101&gt; Kyieren says, "And at the end, a %r. %r means new line. Like hitting<br/>'Return' in a word processor, or \n for those of you familiar with C."<br/>&lt;101&gt; Kyieren says, "So we'll get something like this:<br/><br/>==============================================================================<br/>M*U*S*H<br/>==============================================================================<br/>"<br/><br/>&lt;101&gt; Tyran says, "K."<br/><br/>&lt;101&gt; Kyieren says, "Now, let's move on to the fields."<br/>&lt;101&gt; Kyieren says, "We're going to put those in the +who attribute along with<br/>the command."<br/>&lt;101&gt; Kyieren says, "To print this +who to a specific person, we use @pemit"<br/>&lt;101&gt; Kyieren says, "see help @pemit"<br/>&lt;101&gt; Kyieren says, "@pemit, without the silent switch, will print whatever<br/>it's given to the person specified, and will also print a confirmation message<br/>to the object's owner."<br/>&lt;101&gt; Kyieren says, "To avoid spam for the owner, we'll add the /silent<br/>switch."<br/>&lt;101&gt; Kyieren says, "Usage of @pemit is like this: @pemit &lt;person&gt;=&lt;message"<br/>&lt;101&gt; Kyieren says, "&lt;message&gt; will be seen only by &lt;person&gt;"<br/>&lt;101&gt; Kyieren says, "Since we're using the /silent switch, it will be<br/>@pemit/silent &lt;person&gt;=&lt;message&gt;"<br/>&lt;101&gt; Kyieren says, "In our case, &lt;person&gt; is the person typing +who"<br/>&lt;101&gt; Kyieren says, "&lt;message&gt; is the +who information"<br/>&lt;101&gt; Kyieren says, "Go ahead, test out @pemit. First do: @pemit *Ky=test"<br/><br/>You pemit "test" to Kyieren.<br/>test<br/><br/>&lt;101&gt; Kyieren says, "See?"<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "Now the reason you had to use a * in front of my name is<br/>because you a) don't own or control me, and b) I'm not in the same room as<br/>you."<br/>&lt;101&gt; Kyieren says, "Let's try with the silent switch. @pemit/silent *ky=test"<br/><br/>test<br/><br/>&lt;101&gt; Kyieren says, "Very good."<br/>&lt;101&gt; Kyieren says, "See the difference? With /silent, you don't get that<br/>confirmation message. As you can see, had I asked you to send a longer<br/>message, it would have been very spammy for you."<br/>&lt;101&gt; Kyieren says, "So, we all clear on @pemit?"<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "Alright then. Let's talk about something related."<br/>&lt;101&gt; Kyieren says, "Since we don't know the exact name of the person who will<br/>be typing +who, we'll need to have some kind of substitution for &lt;person&gt; that<br/>will work for anyone who types the command."<br/>&lt;101&gt; Kyieren says, "That subsititution is: %#."<br/>&lt;101&gt; Kyieren says, "%# returns the dbref (see help dbref for more) of the<br/>ENACTOR, that is, the person who types the command."<br/>&lt;101&gt; Kyieren says, "With me so far? So what we'll want to do is @pemit/silent<br/>%#=&lt;who information goes here&gt;"<br/><br/>&lt;101&gt; Tyran says, "K"<br/><br/>&lt;101&gt; Kyieren says, "There are many more substitutions, see 'help<br/>substitutions' for more."<br/>&lt;101&gt; Kyieren says, "So, we're going to set a WHO attribute on our global<br/>object."<br/><br/>&lt;101&gt; Tyran says, "So type @pemit/silent %#=Online"<br/><br/>&lt;101&gt; Kyieren says, "Well, no, +who is going to consist of much more than<br/>that."<br/><br/>&lt;101&gt; Tyran says, "Ok."<br/><br/>&lt;101&gt; Kyieren says, "It's going to give each connected player's name, online<br/>time, and idle time."<br/>&lt;101&gt; Kyieren says, "So let's do it."<br/><br/>&lt;101&gt; Tyran says, "k."<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=&lt;header goes here&gt;&lt;field names&gt;%r&lt;player<br/>name [spaces] online time [spaces] idle time&gt;%r&lt;footer goes here&gt;<br/><br/>"<br/>&lt;101&gt; Kyieren says, "That's not working code yet."<br/>&lt;101&gt; Kyieren says, "Just a general algorithm."<br/>&lt;101&gt; Kyieren says, "The footer will be like our header, except for it's the<br/>bottom."<br/>&lt;101&gt; Kyieren says, "Let's set a footer now."<br/>&lt;101&gt; Kyieren says, "&amp;footer global=[repeat(=,78)]"<br/>&lt;101&gt; Kyieren says, "Just a line of = signs."<br/><br/>&lt;101&gt; Tyran says, "so don't copy the above yet?"<br/>&lt;101&gt; Tyran says, "What do I type at the header?"<br/><br/>&lt;101&gt; Kyieren says, "That's just a general algorithm for our +who code. You<br/>can copy it, but it won't work."<br/><br/>&lt;101&gt; Tyran says, "K."<br/>&lt;101&gt; Tyran says, "Are we gonna do mine, instead of the algoritm?"<br/><br/>&lt;101&gt; Kyieren says, "We already set a header attribute. When the person types<br/>'who', we're going to print the header, print the field names, print the who<br/>information, then print the footer."<br/><br/>&lt;101&gt; Tyran says, "K."<br/><br/>&lt;101&gt; Kyieren says, "Yes, but I'm not going to just code it to let you<br/>cut/paste, I'm going to go through it while we code it. We'll modify the<br/>algorithm to be the real code."<br/><br/>&lt;101&gt; Tyran smiles "ok"<br/><br/>&lt;101&gt; Kyieren says, "Okay, note how I don't have a %r beterrn the header and<br/>field names. That's because we have a %r at the end of our header already."<br/>&lt;101&gt; Kyieren says, "By field names, I mean, Player Name, Online Time, Idle<br/>Time"<br/>&lt;101&gt; Kyieren says, "beterrn=between"<br/>&lt;101&gt; Kyieren says, "So let's modify our code with what we know so far."<br/>&lt;101&gt; Kyieren says, "We're going to call the information in the HEADER and<br/>FOOTER attributes with the v() function."<br/>&lt;101&gt; Kyieren says, "see help v()"<br/>&lt;101&gt; Kyieren says, "v(&lt;attribute name&gt;) returns whatever is stored in the<br/>&lt;attribute name&gt; attribute"<br/>&lt;101&gt; Kyieren says, "So to get our header, we'll use v(header)"<br/>&lt;101&gt; Kyieren says, "To get the footer, v(footer)"<br/>&lt;101&gt; Kyieren says, "See?"<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[v(header)]&lt;field names&gt;%r&lt;player name<br/>[spaces] online time [spaces] idle time&gt;%r[v(footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "Make sense so far?"<br/><br/>&lt;101&gt; Tyran Nods "Getting more like english" :)<br/><br/>&lt;101&gt; Kyieren says, "Alrighty, we want our +who to be in nice columns, yes?"<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "We don't want scattered information!"<br/>&lt;101&gt; Kyieren says, "So let's use the ljust() function to put our field names<br/>in nice columns"<br/>&lt;101&gt; Kyieren says, "See help ljust"<br/>&lt;101&gt; Kyieren says, "In the example, [ljust(foo,6)] will take 6 spaces, and<br/>put the word 'foo' in the leftmost 3 of the 6 spaces/"<br/>&lt;101&gt; Kyieren says, "ljust is left justify."<br/>&lt;101&gt; Kyieren says, "So that leaves 3 spaces"<br/>&lt;101&gt; Kyieren says, "We'll use that to make columns"<br/>&lt;101&gt; Kyieren says, "Most screens are about 78 lines"<br/>&lt;101&gt; Kyieren says, "We have 3 fields, player name, online time, idle time"<br/>&lt;101&gt; Kyieren says, "So why not give each field the same number of spaces? <br/>78/3=26."<br/><br/>&lt;101&gt; David questions that math.<br/><br/>&lt;101&gt; Kyieren says, "Er, yeah, 78 divided by 3 is 26."<br/>&lt;101&gt; Kyieren says, "So we're going to [ljust(Player Name,26)][ljust(Online<br/>Time,26)]Idle Time"<br/><br/>&lt;101&gt; Trispis says, "How come you don't ljust Idle Time?"<br/><br/>&lt;101&gt; Kyieren says, "We don't need to put ljust() around Idle Time since the<br/>last 26 spaces go to it anyway."<br/><br/>&lt;101&gt; Trispis says, "Oh."<br/><br/>&lt;101&gt; Kyieren says, "So it will look like this."<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>Player Name		  Online Time		    Idle Time<br/>"<br/>&lt;101&gt; Kyieren says, "See how Idle Time just comes in at the end? We don't<br/>really need an ljust() around it. We could put one though..."<br/><br/>&lt;101&gt; Tyran says, "K"<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>Player Name		  Online Time		    Idle Time		     <br/>"<br/>&lt;101&gt; Kyieren says, "And it would look like that"<br/>&lt;101&gt; Kyieren says, "Which is also fine."<br/>&lt;101&gt; Kyieren says, "With me?"<br/>&lt;101&gt; Kyieren says, "Let's modify our algorithm"<br/><br/>&lt;101&gt; Tyran says, "How do I set my footer?"<br/>&lt;101&gt; Tyran says, "Footer is set :)"<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[v(header)][ljust(Player<br/>Name,26)][ljust(Online Time,26)]Idle Time%r&lt;player name [spaces] online time<br/>[spaces] idle time&gt;%r[v(footer)]<br/><br/>"<br/><br/>&lt;101&gt; Tyran says, "ok, copied and pasted."<br/><br/>&lt;101&gt; Kyieren says, "Let's fill in the who information. Remember I told you<br/>we're going to do this using iter()?"<br/><br/>&lt;101&gt; Tyran says, "Yep."<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[v(header)][ljust(Player<br/>Name,26)][ljust(Online Time,26)]Idle Time%r[iter(lwho(),what we want to do<br/>with each entry)]%r[v(footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "lwho() returns a list of dbrefs of the currently<br/>connected players."<br/>&lt;101&gt; Kyieren says, "Type :think lwho()"<br/>&lt;101&gt; Kyieren says, "That's the dbref of each player connected."<br/>&lt;101&gt; Kyieren says, "In a space-separated list."<br/><br/>&lt;101&gt; Tyran says, "Ok whatsm what we want to do with each entry"<br/><br/>&lt;101&gt; Kyieren says, "We want to first get the player's name."<br/>&lt;101&gt; Kyieren says, "We use the name() function."<br/>&lt;101&gt; Kyieren says, "help name()"<br/>&lt;101&gt; Kyieren says, "For example, my dbref is #3799."<br/>&lt;101&gt; Kyieren says, "think name(#3799)"<br/>&lt;101&gt; Kyieren says, "Okay?"<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "Except, since we're using iter(), remember I told you, we<br/>call each element in our list using ##"<br/>&lt;101&gt; Kyieren says, "So it will be iter(lwho(),name(##) blah blah blah)"<br/>&lt;101&gt; Kyieren says, "But remember, we want our stuff in columns"<br/>&lt;101&gt; Kyieren says, "So we'll put ljust() around the name(##)"<br/>&lt;101&gt; Kyieren says, "[ljust(name(##),26)]"<br/>&lt;101&gt; Kyieren says, "Don't forget the 26, because we want to allocate 26<br/>spaces to the name field"<br/>&lt;101&gt; Kyieren says, "So let's do an example of this."<br/>&lt;101&gt; Kyieren says, "think [iter(lwho(),name(##))]"<br/>&lt;101&gt; Kyieren says, "See how that prints the name of every connected player?"<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "That's how our who is going to work, and ljust() will<br/>help us put it into columns"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[v(header)][ljust(Player<br/>Name,26)][ljust(Online Time,26)]Idle<br/>Time%r[iter(lwho(),[ljust(name(##),26)]what we want to do with each<br/>entry)]%r[v(footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "We still have to get online time"<br/>&lt;101&gt; Kyieren says, "The function for that is conn()"<br/>&lt;101&gt; Kyieren says, "think conn(*ky)"<br/>&lt;101&gt; Kyieren says, "See you get a number?"<br/>&lt;101&gt; Kyieren says, "That's the total number of seconds I've been connected."<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "But for who, we need more than just number of seconds"<br/>&lt;101&gt; Kyieren says, "We need it in a form we can understand without having to<br/>divide by 60"<br/>&lt;101&gt; Kyieren says, "Introducing the timestring() function. <br/>Timestring(number) converts number seconds into a format we understand."<br/>&lt;101&gt; Kyieren says, "For instance, think timestring(conn(*ky))"<br/>&lt;101&gt; Kyieren says, "See there? Nice, huh. That's the kind of stuff we want in<br/>our who."<br/><br/>&lt;101&gt; Tyran nods<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[v(header)][ljust(Player<br/>Name,26)][ljust(Online Time,26)]Idle Time%r[iter(lwho(),[ljust(name(##),26)]<br/>[ljust(timestring(conn(##)),26)]what we want to do with each<br/>entry)]%r[v(footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "You with me so far?"<br/><br/>&lt;101&gt; Tyran says, "Yes."<br/><br/>&lt;101&gt; Kyieren says, "Let's move on to idle time."<br/>&lt;101&gt; Kyieren says, "The function to get someone's idle time is idle()."<br/>&lt;101&gt; Kyieren says, "So, Tallin is very idle."<br/>&lt;101&gt; Kyieren says, "think idle(*tallin)"<br/>&lt;101&gt; Kyieren says, "Ugh, there's that seconds format again"<br/>&lt;101&gt; Kyieren says, "Let's put it into nice form with the timestring()<br/>function"<br/>&lt;101&gt; Kyieren says, "think timestring(idle(*tallin))"<br/>&lt;101&gt; Kyieren says, "WHOA MAMA!"<br/>&lt;101&gt; Kyieren says, "He's really idlin!"<br/>&lt;101&gt; Tyran says, "Yep 2h"<br/>&lt;101&gt; Kyieren says, "Since that's our last field, we can just toss that in"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[v(header)][ljust(Player Name,26)]<br/>[ljust(Online Time,26)]Idle Time%r[iter(lwho(),[ljust(name(##),26)]<br/>[ljust(timestring(conn(##)),26)][timestring(idle(##))])]%r[v(footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "We're done?"<br/>&lt;101&gt; Kyieren says, "No!"<br/><br/>&lt;101&gt; Tyran says, "What else?"<br/><br/>&lt;101&gt; Kyieren says, "Try executing that by typing 'who' and see what you get."<br/><br/>&lt;101&gt; Tyran says, "no colums."<br/><br/>&lt;101&gt; Kyieren says, "No, the columns are there"<br/>&lt;101&gt; Kyieren says, "It's just not printed one line after the other"<br/><br/>&lt;101&gt; Tyran says, "ok."<br/><br/>&lt;101&gt; Kyieren says, "Each players' info needs to be on a separate line"<br/>&lt;101&gt; Kyieren says, "Aha, we have %r for that"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[v(header)][ljust(Player Name,26)]<br/>[ljust(Online Time,26)]Idle Time%r[iter(lwho(),[ljust(name(##),26)]<br/>[ljust(timestring(conn(##)),26)][timestring(idle(##))]%r)]%r[v(footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "See how I slipped a %r in there right before I closed the<br/>iter()?"<br/>&lt;101&gt; Kyieren says, "That will make all the info go to the next line"<br/>&lt;101&gt; Kyieren says, "Try typing who again"<br/><br/>&lt;101&gt; Tyran says, "I get this at the begining<br/>[repeat(=,78)]%r[mudname()]%r[repeat(=,78)]%r"<br/><br/>&lt;101&gt; Kyieren says, "Yeesh, you're right."<br/>&lt;101&gt; Kyieren says, "So let's evaluate that, change [v(header)] to<br/>[u(me/header)]"<br/>&lt;101&gt; Kyieren says, "u(object/attribute) evaluates what's in &lt;attribute&gt; on<br/>your object"<br/>&lt;101&gt; Kyieren says, "help u()"<br/><br/>&lt;101&gt; Tyran says, "And then at the bottom there is another one."<br/><br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[u(me/header)][ljust(Player Name,26)]<br/>[ljust(Online Time,26)]Idle Time%r[iter(lwho(),[ljust(name(##),26)]<br/>[ljust(timestring(conn(##)),26)][timestring(idle(##))]%r)]%r[u(me/footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "Okay, type who"<br/>&lt;101&gt; Kyieren says, "Looks okay...except look at Webster. His online time is<br/>kinda long, and his idle time is kinda long too."<br/>&lt;101&gt; Kyieren says, "So let's trim that"<br/>&lt;101&gt; Kyieren says, "The elements(space-separated list,number of elements you<br/>want) function will help"<br/>&lt;101&gt; Kyieren says, "So we'll use elements(timestring(conn(*Webster)),1 2) to<br/>get the first two elements of Webster's online time"<br/>&lt;101&gt; Kyieren says, "think elements(timestring(conn(*Webster)),1 2)"<br/>&lt;101&gt; Kyieren says, "11 days, 9 hours"<br/>&lt;101&gt; Kyieren says, "Since he's been on for so long, we don't really care<br/>about the number of minutes or seconds"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[u(me/header)][ljust(Player<br/>Name,26)][ljust(Online Time,26)]Idle<br/>Time%r[iter(lwho(),[ljust(name(##),26)][ljust(elements(timestring(conn(##)),1<br/>2),26)][timestring(idle(##))]%r)]%r[u(me/footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "When someone's idle, you don't really need the number of<br/>seconds he/she's been idle"<br/>&lt;101&gt; Kyieren says, "So usually, the first element of the idle time will do"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[u(me/header)][ljust(Player Name,26)]<br/>[ljust(Online Time,26)]Idle Time%r[iter(lwho(),[ljust(name(##),26)]<br/>[ljust(elements(timestring(conn(##)),1 2),26)]<br/>[elements(timestring(idle(##)),1)]%r)]%r[u(me/footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "But we still have that funny looking space after the <br/>first entry"<br/>&lt;101&gt; Kyieren says, "Easily corrected"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[u(me/header)][ljust(Player Name,26)]<br/>[ljust(Online Time,26)]Idle Time%r[iter(lwho(),%r[ljust(name(##),26)]<br/>[ljust(elements(timestring(conn(##)),1 2),26)]<br/>[elements(timestring(idle(##)),1)])]%r[u(me/footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "See, we moved the %r from the end of each entry to the<br/>beginning of each entry."<br/>&lt;101&gt; Kyieren says, "And there it is."<br/>&lt;101&gt; Kyieren says, "Because we're on the channel"<br/>&lt;101&gt; Kyieren says, "Oh, one more thing, we forgot a )] at the end of the<br/>iter()"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[u(me/header)][ljust(Player Name,26)]<br/>[ljust(Online Time,26)]Idle Time%r[iter(lwho(),%r[ljust(name(##),26)]<br/>[ljust(elements(timestring(conn(##)),1 2),26)]<br/>[elements(timestring(idle(##)),1])])]%r[u(me/footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "<br/><br/>&amp;who global=$who:@pemit/silent %#=[u(me/header)][ljust(Player Name,26)]<br/>[ljust(Online Time,26)]Idle Time[iter(lwho(),%r[ljust(name(##),26)]<br/>[ljust(elements(timestring(conn(##)),1 2),26)]<br/>[elements(timestring(idle(##)),1)])])]%r[u(me/footer)]<br/><br/>"<br/>&lt;101&gt; Kyieren says, "Just take out the %r after the field names."<br/>&lt;101&gt; Kyieren says, "And that should do ya."<br/>&lt;101&gt; Kyieren says, "I'm done."<br/>&lt;101&gt; Kyieren says, "Sorry it took me so long, this should have been done in<br/>under an hour, but stuff happens :P"<br/><br/><br/>NOTE: YOU CAN EXPAND ON THE CONCEPTS IN THIS LECTURE TO MAKE ALTERNATE +WHO<br/>GLOBALS AS WELL AS +WHERE OR +IDLE GLOBALS. SOME HELP FILES TO SEE WOULD BE<br/>'HELP LOC()', 'HELP HASFLAG()', AND 'HELP SWITCH()'.
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>