<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Regular Expression</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Regular-Expression.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Regular-Expression.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Regular-Expression.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Regular-Expression.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Regular-Expression.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Regular-Expression.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Softcode.html">Softcode</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Regular-Expression.html#">Regular Expression</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Regular Expression
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>Javelin steps forward again with yet another enlightening lecture on an advanced topic. Regular Expressions put power into softcode.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Javelin@M-U-S-H.html">Javelin</a>@<a href="../Source/M-U-S-H.html">M*U*S*H</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Softcode.html">Softcode</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="http://www.mushcode.com/Command/@emit" class="command">@emit</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/after.html" class="function">after&#40;&#41;</a>,
                        <a href="../Function/before.html" class="function">before&#40;&#41;</a>,
                        <a href="../Function/e.html" class="function">e&#40;&#41;</a>,
                        <a href="../Function/lt.html" class="function">lt&#40;&#41;</a>,
                        <a href="../Function/match.html" class="function">match&#40;&#41;</a>,
                        <a href="../Function/regmatch.html" class="function">regmatch&#40;&#41;</a>,
                        <a href="../Function/regmatchi.html" class="function">regmatchi&#40;&#41;</a>,
                        <a href="../Function/s.html" class="function">s&#40;&#41;</a>,
                        <a href="../Function/t.html" class="function">t&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/vsub.html" class="function">vsub&#40;&#41;</a>.
            </div>

            <div class="features">
                <strong>Features:</strong>
                        <a href="../Feature/regexp-commands.html" class="feature">regexp commands</a>.
            </div>

            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/RhostMUSH.html" class="server">RhostMUSH</a>,
                        <a href="../Server/TinyMUSH.html" class="server">TinyMUSH</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>


<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Regular Expression
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Regular-Expression.html#">
                    <i class="icon-resize-full"></i> Select Content
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        Topic: Regular Expressions<br/>Author: Javelin<br/>Summary: Javelin steps forward again with yet another enlightening lecture<br/>on an advanced topic. Regular Expressions put power into softcode.<br/><br/>Trispis stands and walks to the front of the room.<br/>Trispis shuffles some papers around official-like.<br/>Trispis clears his throat and sips from a glass of water, then wipes his brow<br/>with a handkerchief.<br/><br/>Javelin poses invisibly.<br/><br/>Trispis says, "Welcome to yet another of MUSH 101's last minute lectures."<br/><br/>(TM)<br/><br/>Trispis says, "Tonight's topic is Regular Expressions."<br/>Trispis says, "Tonight's lecturer will be our very own Javelin, current<br/>maintainer of PennMUSH, god and chief brewer of M*U*S*H."<br/>Trispis says, "We'll be using this classroom for the lecture (Jav speaks<br/>here). I'll be the moderator and will notice hands being raised on the +101<br/>channel (@chan/on 101, then raise your hand or something if you have a<br/>question). Unless otherwise stipulated by Javelin, this will be the procedure<br/>for tonight's lecture."<br/>Trispis says, "Without further ado, please give a round of applause for<br/>Javelin."<br/>Trispis takes his seat once again in the front center.<br/><br/>mith phews and applauds<br/><br/>Trispis claps.<br/><br/>Javelin makes sure he's on +101. :)<br/>Javelin says, "Good evening, folks. Before we begin, the obligatory<br/>disclaimer.  If you've never written a $command on an object before, this<br/>lecture's probably too advanced for you. If you're a perl guru, this lecture's<br/>probably too basic for you. Otherwise, you may be in the right place."<br/><br/>China smiles.<br/><br/>Javelin says, "I seem to be lagging a bit tonight, so I hope you'll bear with<br/>me. As Tris said, tonight's topic is regular expressions. Let's see a fast<br/>show of hands: how many people here know what a regular expression is? Raise<br/>both hands if you've successfully written a regular expression. :)"<br/><br/>mith raises both hands<br/><br/>Rhysem raises both hands.<br/>Raevnos raises both hands and feet.<br/>Trispis raises one hand.<br/>China doesn't know if she knows.<br/>Xyrxwyrth raises an eyebrow..<br/>Krevinek raises his hands, feet, hair, etc.<br/><br/>Javelin takes in the diversity of experience, and chuckles. "Ok. For those who<br/>aren't sure if they know, a regular expression is basically a pattern of<br/>characters -- a description, if you will, of a set of strings."<br/>Javelin says, "For example: doggie is a regular expression. It's a pattern of<br/>characters that describes the string d-o-g-g-i-e"<br/><br/>China listens.<br/><br/>Javelin says, "What makes regular expressions (or regexps, for short) more<br/>exciting, of course, is that you can describe more than one string with a<br/>regexp."<br/>Javelin says, "For example, g+ is a regular expression that describes a string<br/>with 1 or more g's."<br/>Javelin says, "The great use for regexps is when you want to see if a string<br/>matches a pattern, and you need that pattern to be flexible. For example, you<br/>want to match the word dog or doggie or doggy, all with one pattern."<br/>Javelin says, "Most of us are familiar with PennMUSH's simple wildcards (used<br/>in functions like match()). In that system, dog* would match dog, doggy,<br/>doggies, but also doggone, doge, dogcatcher, and lots of other things we might<br/>not want it to."<br/>(Jargon aside: that kind of matching is sometimes called 'globbing', btw)<br/>Javelin says, "So far, so good?"<br/><br/>Trispis nods.<br/>Mr.Ghost nods<br/>China nods understanding so far.<br/>Landus nods<br/><br/>Javelin says, "Ok, so how do we build up a regular expression? Well, a regexp<br/>consists of a set of characters that have to match, and a set of modifiers<br/>describing how those characters should match."<br/>Javelin says, "All of the modifiers look like punctuation, so that means that<br/>you can pretty much assume that anything that looks like a letter or number<br/>represents a character that you're trying to match."<br/><br/>China says, "ah."<br/><br/>Javelin says, "What I'm going to go through here are the basic modifiers, and<br/>how to use 'em. There are about 6 different common implementations of regular<br/>expressions, most of which add additional modifiers and tricks, but what we'll<br/>talk about tonight will work with any of them."<br/>Javelin says, "So, let's go back to the dogs. We know that dog would match the<br/>characters d-o-g, so that's a start."<br/>Javelin says, "Since all of our paterns are going to have a dog in them."<br/>Javelin says, "But dog will match the characters d-o-g anywhere. That is,<br/>they'll match dog, doggie, hot dog, my dog has fleas."<br/>Javelin says, "Try it yourself: think regmatch(hot dog,dog)"<br/><br/>China blinks.<br/>China says, "we suppost to get a 1?"<br/><br/>Javelin says, "So the first thing we need to do is *anchor* our match --<br/>indicate that we only want to match d-o-g when it appears at the beginning of<br/>the string. The anchor character is '^' (a caret), and the anchored pattern<br/>would be: ^dog"<br/><br/>&lt;101&gt; Trispis says, "Yes, China."<br/><br/>Javelin says, "Now if you try think regmatch(hot dog,^dog), you'll see that it<br/>doesn't match. But regmatch(dog day afternoon,^dog) should."<br/><br/>Mr.Ghost says, "Cool"<br/><br/>Javelin says, "By the way, the other anchor (anchor at the *end* of the<br/>string) is '$' (a dollar sign. As in dog$, which matches hot dog, but not dog<br/>park"<br/><br/>Trispis reminds everyone to use 101 for questions and comments (it helps keep<br/>the log clean).<br/><br/>&lt;101&gt; Mr.Ghost has joined this channel.<br/><br/>Javelin says, "(And, of course ^dog$ matches exactly one string: dog. Not hot<br/>dog, not doge, not dog biscuit, just dog."<br/>Javelin says, "Any questions so far?"<br/><br/>&lt;101&gt; China has joined this channel.<br/><br/>Trispis has a question.<br/><br/>Javelin says, "Sure."<br/><br/>Trispis says, "Can you show me the syntax for a user command of 'dog' in both<br/>normal globbing and regexp? I'm curious about how to build a regexp $command."<br/><br/>Javelin says, "Sure. Let me put down an object."<br/>Javelin drops Demo.<br/>Javelin says, "On that demo object, you'll see a typical glob-matched $command<br/>to match 'dog'"<br/><br/>Demo(#6948V)<br/>Type: Thing Flags: VISUAL<br/>Owner: Javelin	Zone: *NOTHING*  Ducats: 10<br/>Parent: *NOTHING*<br/>Basic Lock: =Javelin(#7POWweACM)<br/>Powers: <br/>Warnings checked: none<br/>Created: Mon Mar 27 19:59:09 2000<br/>DOG_GLOB [#7]: $dog: @emit It's a globby dog<br/>Home: Code Classroom(#1061RnJ)<br/>Location: Code Lab(#1058RnJ)<br/><br/>Trispis nods.<br/><br/>Javelin says, "And now also a regexp version"<br/><br/>Demo(#6948V)<br/>Type: Thing Flags: VISUAL<br/>Owner: Javelin	Zone: *NOTHING*  Ducats: 10<br/>Parent: *NOTHING*<br/>Basic Lock: =Javelin(#7POWweACM)<br/>Powers: <br/>Warnings checked: none<br/>Created: Mon Mar 27 19:59:09 2000<br/>DOG_GLOB [#7]: $dog: @emit It's a globby dog<br/>DOG_REGEXP [#7R]: $^dog$: @emit It's a regular dog.<br/>Home: Code Classroom(#1061RnJ)<br/>Location: Code Lab(#1058RnJ)<br/><br/>Trispis says, "Got it. Thanks."<br/><br/>Javelin says, "Beware! The initial $ in DOG_REGEXP isn't part of the regular<br/>expression - it's the usual $ that means 'user-defined command coming'"<br/><br/>&lt;101&gt; China says, "how'd you see it Trispis?"<br/>&lt;101&gt; Javelin says, "ex demo"<br/>&lt;101&gt; Carbon-Based Landus says, "Point of interest..maybe want to point out<br/>the difference between the $ at the beginning of the command, and at the end -<br/>i.e., their different significance..."<br/>&lt;101&gt; Mr.Ghost says, "He Did"<br/>&lt;101&gt; Trispis says, "He just did."<br/><br/>Javelin says, "Whereas the $ right before the : (which ends the user-defined<br/>command) is the 'end-of-string' anchor and part of the regexp."<br/><br/>&lt;101&gt; Carbon-Based Landus says, "oh..sorry. :p"<br/><br/>Javelin says, "Notice also that there's a big R attribute flag on the<br/>dog_regexp attribute. If you want to use regexps for command-matching, you<br/>must: @set demo/dog_regexp=regexp"<br/><br/>&lt;101&gt; Krevinek has joined this channel.<br/>&lt;101&gt; Carbon-Based Landus says, "Oh, he said it while I was typing..ack."<br/>&lt;101&gt; China ponders this.<br/><br/>Javelin says, "That tags that attribute as using regexp matching instead of<br/>the usual globbing. This applies to ^listens, too."<br/><br/>Jinelle is so lost.<br/><br/>&lt;101&gt; Mr.Ghost says, "&amp;listen_attr ^^dog$:bleh ?"<br/>&lt;101&gt; Javelin grins, ex demo<br/><br/>Javelin says, "If you examine demo again, you'll see an example with<br/>^listens."<br/><br/>Demo(#6948V)<br/>Type: Thing Flags: VISUAL<br/>Owner: Javelin	Zone: *NOTHING*  Ducats: 10<br/>Parent: *NOTHING*<br/>Basic Lock: =Javelin(#7POWweACM)<br/>Powers: <br/>Warnings checked: none<br/>Created: Mon Mar 27 19:59:09 2000<br/>DOG_GLOB [#7]: $dog: @emit It's a globby dog<br/>DOG_REGEXP [#7R]: $^dog$: @emit It's a regular dog.<br/>SOUND_REGEXP [#7R]: ^^Javelin says,: @emit Javelin said something.<br/>Home: Code Classroom(#1061RnJ)<br/>Location: Code Lab(#1058RnJ)<br/><br/>&lt;101&gt; Jinelle has joined this channel.<br/>&lt;101&gt; China says, "aaah, the #7R thingy."<br/><br/>Javelin says, "Again, the initial ^ means 'this is a listen attribute', but<br/>the second '^' is the beginning-of-string anchor in the regular expression."<br/><br/>&lt;101&gt; Trispis says, "Ah! I notice no * for the 'wildcard meaning anything<br/>thereafter'."<br/>&lt;101&gt; Krevinek says, "Question here, so you made the regexp flag so you could<br/>be backwards compatible with current DBs/MUSHcode, and allow for this more<br/>flexible matching?"<br/>&lt;101&gt; Javelin nods to Tris and Krev.<br/><br/>Javelin says, "We know how to anchor a match. Let's take a look at a few other<br/>things we can do."<br/><br/>&lt;101&gt; Mr.Ghost has a Q<br/><br/>Javelin says, "The | (pipe sign) in a regular expression means, basically,<br/>'or'. It's used when you want a pattern to match this or that. Like:<br/>this|that"<br/><br/>&lt;101&gt; Mr.Ghost says, "In DEMO\SOUND_REGEXP would %0 be everything after<br/>Javelin or Javelin Says, ?"<br/>&lt;101&gt; Trispis says, "Go ahead and ask here, Mr.G. Jav will reply when he has a<br/>chance."<br/>&lt;101&gt; Mr.Ghost says, "Okay"<br/>&lt;101&gt; Javelin says, "No, Ghost, %0 wouldn't be set. We haven't gotten there<br/>yet.  :)"<br/>&lt;101&gt; Mr.Ghost listens then<br/><br/>Javelin says, "So, now you should all be able to write a regular expression<br/>that matches dog, doggy, or doggie, but nothing else. Right?"<br/><br/>&lt;101&gt; Trispis tries.<br/><br/>Javelin says, "Say 'em out loud. :)"<br/><br/>Trispis says, "$^dog$|^doggie$|^doggy$:@emit this is the dog or doggie or<br/>doggy command"<br/>Trispis sees his inefficency.<br/>Trispis rewrites (or tries)<br/><br/>Javelin says, "Close, but the good news is that the | binds tighter than the<br/>anchors, so you don't repeat the anchors."<br/><br/>&lt;101&gt; Mr.Ghost says, "&amp;reg.test1 me=^^Can|Canner|cannon:@emit Boom! ?"<br/><br/>Javelin suggests just writing the regexp, btw, not the command.<br/><br/>&lt;101&gt; Javelin says, "That also matches Candle, Ghost. Do you see why?"<br/><br/>Trispis says, "$^dog|doggie|doggy$:"<br/><br/>&lt;101&gt; Mr.Ghost does<br/>&lt;101&gt; Yusif has joined this channel.<br/><br/>Trispis says, "There's gotta be a way to do it without repeating the dog part,<br/>though."<br/><br/>&lt;101&gt; Javelin says, "And Cannery. and cannonade. And Can-Can"<br/>&lt;101&gt; China raises an eyebrow at Javelin's remark.<br/><br/>Javelin nods. "What Tris said will work. Note that it's anchored at both front<br/>and back, so we won't match hot doggie or doggy treat. And then it offers 3<br/>options.<br/><br/>Raevnos says, "Actually, the anchors bind tighter than |."<br/><br/>Trispis says, "$^dog&amp;''|gie|gy$ (or something liek that)"<br/><br/>Javelin says, "Another way to do it might be: ^do(g|gy|gie)$"<br/>Javelin says, "They do, Raev?"<br/><br/>Trispis says, "Yeah. Like that."<br/><br/>Raevnos says, "Yup."<br/><br/>Javelin dohs.<br/><br/>Raevnos says, "think regmatch(doggiesfoo, ^dog|doggie|doggy$)"<br/>Raevnos says, "That matches."<br/><br/>Javelin amends Tris's version then: ^(dog|doggy|doggie)$<br/><br/>Raevnos says, "think regmatch(doggiesfoo, ^(dog|doggie|doggy)$)"<br/><br/>&lt;101&gt; Chili says, "&amp;reg.test1 me=^Can\b|Canner\b|cannon\b:@emit boot"<br/><br/>Raevnos says, "Easy fix. :)"<br/><br/>Trispis says, "cuz of the unanchored doggie in the middle?"<br/><br/>Javelin chuckles. So you see how confusing it can be. :)<br/><br/>&lt;101&gt; Chili says, "err"<br/>&lt;101&gt; Chili says, "&amp;reg.test1 me=^^Can\b|Canner\b|cannon\b:@emit boot"<br/><br/>China says, "YES!"<br/><br/>&lt;101&gt; Chili says, "that way it'll make sure they're actual words"<br/><br/>Javelin says, "But the really good news, then, is that parentheses do what<br/>you'd expect (and more, as we'll see later) - group things together."<br/><br/>&lt;101&gt; Javelin doesn't think \b works in MUSH regexps.<br/>&lt;101&gt; Professor Raevnos says, "Except the regexp engine used right now doesn't<br/>support \b."<br/>&lt;101&gt; Chili says, "well.. actually i'm not sure how the MUSH regexp matching<br/>is working righ tnow"<br/>&lt;101&gt; Professor Raevnos says, "Wait for 1.7.3. =)"<br/>&lt;101&gt; Trispis says, "Question."<br/>&lt;101&gt; Chili ohs<br/>&lt;101&gt; Kyieren says, "Is someone logging this class?"<br/>&lt;101&gt; Trispis says, "Since Raev pointed out the binding thing... this brings<br/>in a question about the closing anchor."<br/>&lt;101&gt; Trispis says, "Can I do this? (coming)"<br/><br/>Javelin says, "So, ^(dog|doggy|doggie)$ works. So does ^do(g|gy|gie)$. So does<br/>^dog(|y|ie)$, btw (using a null pattern as an option)"<br/><br/>&lt;101&gt; Javelin says, "Yes, Ky."<br/>&lt;101&gt; Trispis says, "$^dog($|gies$|gy$):"<br/>&lt;101&gt; Javelin says, "Yep, that should work too."<br/><br/>Javelin says, "If you wanted to do this match w/o regexp, you'd either have to<br/>write 3 different match patterns, or you'd have to match dog* and then check<br/>to see if the * part matched nothing, gy, or gie, etc."<br/><br/>Trispis says, "Wait."<br/><br/>Javelin waits.<br/><br/>Trispis says, "You said ^(dog|doggy|doggies)$, but... as Raev demonstrated,<br/>that would match doggypoo, wouldn't it?"<br/><br/>Javelin says, "No, ^dog|doggy|doggies$ would, but note the parens."<br/>Javelin says, "That pattern is read as 'start-of-string, dog or doggy or<br/>doggies, end-of-string'"<br/><br/>Trispis says, "Oh, so the parens are explicit?"<br/><br/>Javelin raises an eyebrow and smirks.<br/><br/>Trispis says, "er... I mean... the contents are explicit"<br/><br/>China sees that now.<br/><br/>Trispis says, "They don't need anchored inside?"<br/><br/>Javelin still isn't sure what you mean by explicit, actually.<br/><br/>&lt;101&gt; Carbon-Based Landus rotfl<br/><br/>Javelin says, "The parens group everything in them into a single unit."<br/><br/>Trispis says, "I don't know how to phrase my query, but I think I understand."<br/><br/>Javelin says, "So just as ^dog$ matches anchor-dog-anchor, ^(dog|doggy)$<br/>matches anchor-(either dog or doggy)-anchor"<br/><br/>Trispis nods.<br/><br/>Javelin grins. "At this point you should all be saying either 'oooh...aaahh'<br/>or 'this is so easy, tell me something confusing!"<br/><br/>China nodnodnods finally.<br/><br/>Trispis says, "oooh ahhh"<br/><br/>Javelin says, "So here it comes. The Most Confusing Modifier. * (asterisk)"<br/><br/>Kyieren says, "I'm saying WTF myself"<br/>Kyieren :)<br/><br/>Javelin says, "The * means 'zero or more of whatever unit came before me'.<br/>That is, the pattern a* matches zero or more letter a's."<br/>Javelin says, "Try a few regmatches against that pattern."<br/>Javelin says, "Like: think regmatch(testing,a*) or think regmatch(aaah!,a*)"<br/><br/>&lt;101&gt; mith says, "has a question"<br/>&lt;101&gt; Kyieren claps with glee and gets a 1 for apple :)<br/><br/>Javelin says, "You may be surprised to find that it matches _anything_. Dose<br/>anyone see why?"<br/><br/>Kyieren says, "* is a wildcard?"<br/><br/>Raevnos does. :)<br/><br/>Trispis says, "Because you haven't anchored it anywhere."<br/><br/>Raevnos says, "But since I have to head home, I'll let someone else answer. <br/>Night!"<br/><br/>Javelin says, "Not in the glob sense, Ky. After all, the regexp a* will match<br/>'e'"<br/>Javelin says, "Close, Tris. Remember, in regexps, * means zero or more. Every<br/>string has either zero a's or more a's in it."<br/><br/>Trispis says, "But, by anchoring with ^a*$, it wouldn't match 'testing' would<br/>it?"<br/>Trispis tries it.<br/><br/>Javelin says, "No. That pattern would only match a blank string or a string of<br/>a's."<br/><br/>Trispis says, "So, I was partially right, then?"<br/><br/>Javelin nods.<br/>Javelin says, "The * is confusing because it doesn't work like we're used to<br/>in globbing. It doesn't mean 'anything here'. It means, 'zero or more of the<br/>unit before' (it rhymes. :)"<br/><br/>China thinks on this.<br/><br/>Kyieren hehs<br/><br/>Javelin says, "The unit before is usually the character before. So aa* matches<br/>an 'a' followed by zero or more 'a's. Different than (aa)*, which matches zero<br/>or more 'aa's"<br/><br/>&lt;101&gt; Trispis says, "so a+ == aa* ?"<br/><br/>Javelin likes bananas, but never knows when to stop. banana(na)*<br/><br/>&lt;101&gt; Mr.Ghost says, "So ^a*dog$ only matches naaaaaaadog, dog and adog ?"<br/>&lt;101&gt; Javelin says, "Tris, correct. The + is 'one or more', so aa* is the same<br/>as a+"<br/>&lt;101&gt; Mr.Ghost says, "n being some number of as"<br/>&lt;101&gt; Javelin says, "Right, Ghost!"<br/><br/>Javelin says, "That pattern matches banana, bananana, banananana,<br/>banananananana, etc."<br/><br/>&lt;101&gt; Trispis says, "bana(na)+ ?"<br/><br/>Javelin says, "As you just heard on +101, the + (plus sign) is like *, but<br/>means 'one or more'. So bana(na)+ is the same."<br/><br/>&lt;101&gt; Javelin says, "GMTA"<br/>&lt;101&gt; China sorta understand it for the most part but will ask the stupid<br/>question. What zero? Zero has an 'e' in it.<br/>&lt;101&gt; Trispis thinks he's catching on.<br/>&lt;101&gt; Trispis says, "0"<br/>&lt;101&gt; Javelin means none<br/>&lt;101&gt; Chili has connected.<br/>&lt;101&gt; China says, "OH! ya didn't say 'that'."<br/><br/>Javelin says, "There's also a modifer than means 0 or 1. The question mark<br/>(?).  So dog? matches a string containing d-o-(optional)g -- that is d-o or<br/>d-o-g"<br/><br/>Kyieren puts a 'CONFUSED' sticker on his forehead and watches the rest of the<br/>show.<br/><br/>Trispis says, "oooooh."<br/><br/>&lt;101&gt; Trispis says, "Tell me now, tell me now!"<br/>&lt;101&gt; China cause it kicks off whatever letter is jsut before it?<br/>&lt;101&gt; Javelin nosd.<br/>&lt;101&gt; China says, "that was a say. sorry."<br/><br/>Javelin says, "The ? is very handy, actually. What does this match? ^beers?$"<br/>China beer<br/>Mr.Ghost says, "beer and beers"<br/><br/>&lt;101&gt; Trispis says, "How do you build +activity to match +act[i[v[i[t[y]]]]]<br/>?"<br/>&lt;101&gt; Octavian has joined this channel.<br/>&lt;101&gt; Kyieren says, "scream"<br/>&lt;101&gt; Javelin says, "Frankly, I'd be included to just match the act part."<br/>&lt;101&gt; China says, "'why' would you want to Tris?"<br/>&lt;101&gt; Trispis wants to make smart matching.<br/>&lt;101&gt; Kyieren says, "isn't that overkill tho?"<br/>&lt;101&gt; Trispis says, "Of course. (:"<br/><br/>Javelin says, "Oh, that reminds me. If you need to match a literal *, ?, or +,<br/>you've got to put a backslash in front of it: ^\+act$"<br/><br/>&lt;101&gt; Mr.Ghost says, "Huh?"<br/>&lt;101&gt; Mr.Ghost says, "Okau"<br/><br/>Javelin says, "The same applies if you need to match a literal paren, or a<br/>literal backslash."<br/><br/>Mr.Ghost says, "Define literal in this context please"<br/><br/>&lt;101&gt; Trispis says, "I think I have it. I'd use nested parentheses some how,<br/>right?"<br/><br/>Javelin says, "And actual parenthesis in the string."<br/><br/>&lt;101&gt; Javelin nods.<br/>&lt;101&gt; Javelin thinks it's act(i(v(i(t(y)?)?)?)?)?<br/>&lt;101&gt; China crosses her eyes.<br/>&lt;101&gt; Javelin says, "But that's really wicked. :)"<br/><br/>Kyieren says, "Say if you need to match +bap and not just bap"<br/>Kyieren says, "That's what he means"<br/><br/>Javelin says, "There's 3 more pieces of the standard regular expression<br/>toolkit left."<br/><br/>&lt;101&gt; Trispis was gonna try act(i?(v?(i?(t?(y?)))))<br/><br/>Javelin says, "A period (.) matches any character. So ta.t matches tart, tact,<br/>tait, etc."<br/><br/>&lt;101&gt; Javelin says, "That matches actvy, I think. :)"<br/>&lt;101&gt; Trispis says, "Like the ? in globbing?"<br/>&lt;101&gt; Javelin says, "Yeah, but the ? in globbing can match no character, too."<br/>&lt;101&gt; Trispis says, "No it can't."<br/>&lt;101&gt; Javelin says, "IT can't?"<br/>&lt;101&gt; Trispis says, "Read my Code Basics lecture. (;"<br/>&lt;101&gt; Javelin confuses MUSH and unix globbing. :)<br/>&lt;101&gt; Kyieren pushes Javelin back to the lecture hall.<br/>&lt;101&gt; Trispis says, "It must be one character in length."<br/><br/>Javelin says, "What that means, then, is that .* (dot-star) matches zero or<br/>more of anything."<br/><br/>Trispis says, "Oooh. Okay."<br/><br/>Javelin says, "That's basically the equivalent of the globbing *. ba.*na<br/>matches a string containing bana, batna, banana, barglearglena"<br/><br/>Trispis says, "Does the . match no character?"<br/><br/>Javelin says, "No, a . must match a character."<br/>Javelin says, "But .? matches zero or one character."<br/><br/>Trispis nods.<br/><br/>Javelin says, "And .+ matches one or more characters. Everybody still<br/>following along as I put these pieces together?"<br/><br/>Kyieren says, "I think so"<br/><br/>Trispis is following, but getting lost in his own imagination quickly.<br/><br/>Kyieren makes T watch Pokemon, draining all brain function.<br/><br/>&lt;101&gt; Trispis says, "Time for a practical example now, perhaps, using several<br/>things together?"<br/><br/>Javelin says, "Example. I want to write a command like this:<br/>fire.gun.&lt;person's name - any string&gt;"<br/>Javelin says, "That is, f-i-r-e-period-g-u-n-period-one or more characters"<br/>Javelin says, "What might that look liek?"<br/><br/>Kyieren says, "FiredGunatSara would match that, right?"<br/><br/>Trispis says, "^fire\.gun\..*$"<br/>Trispis guesses.<br/><br/>Javelin says, "Ky's right if that were the regexp, but I meant more like what<br/>Tris is talkign about. Writing a regexp to match that."<br/><br/>Kyieren says, "Oh, silly me"<br/><br/>Javelin says, "Tris has it almost right: That will match 'fire', a literal<br/>period, 'gun', a literal period, and zero or more of any character."<br/>Javelin says, "(almost, because I said one or more)"<br/><br/>mith says, "^fire.gun..+$ ?"<br/><br/>Trispis eeps and fixes.<br/><br/>^fire.gun.*<br/><br/>Javelin says, "Right, mith, if the backslashes are there."<br/><br/>Kyieren says, "That was me"<br/><br/>Trispis says, "^fire\.gun\..+$"<br/><br/>Kyieren says, "Doh"<br/><br/>Javelin says, "You can do it on the channel so it doesn't eval, if it's<br/>easier."<br/><br/>China crosses her eyes again.<br/><br/>Javelin says, "Ok, now really practical! What's a regexp that would match an<br/>IP address?"<br/><br/>mith says, "^fire\.gun\..+$ dang, eval"<br/><br/>Kyieren says, "^....*"<br/><br/>Javelin says, "An ip address, for our purposes, is 1-3 numbers, a dot, 1-3<br/>numbers, a dot, 1-3 numbers, a dot, 1-3 numbers."<br/><br/>Kyieren says, "ack!"<br/>Kyieren says, "^\.\.\..*"<br/>Kyieren says, "?"<br/><br/>Javelin says, "That requires ...(followed by anything)"<br/><br/>Kyieren says, "oh, wrong"<br/><br/>Javelin says, "Nice regexp for matching ellipsis... :)"<br/><br/>Mr.Ghost says, "+++\.+++\.+++"<br/><br/>Kyieren says, "^\.+\.+\.+.*"<br/>Kyieren says, "Man am I stupid"<br/><br/>Javelin says, "Ghost, the + must modify something. What comes before it?"<br/><br/>mith says, "We don't know how to match just numbers yet d;"<br/><br/>Mr.Ghost has a clue<br/><br/>Kyieren replaces his CONFUSED label with a STUPID one :)<br/><br/>Mr.Ghost hasn't rather<br/><br/>Javelin says, "A number matches itself."<br/>Javelin says, "You might start by thinking about this:<br/>(0|1|2|3|4|5|6|7|8|9)+\."<br/><br/>mith says, "(1|2|3|4|5|6|7|8|9|0)\. .. yeah"<br/><br/>Kyieren says, "...\...\...\..."<br/>Kyieren says, "^...\...\...\..."<br/><br/>Trispis was about to do like Ky.<br/><br/>Kyieren says, "?"<br/>Kyieren says, "wait, that's only two numbers"<br/><br/>Yusif hmms. But the + allows more than 3, so we have to limit to 3 and only 3.<br/> Right?<br/><br/>Kyieren says, "please hold"<br/>Kyieren says, "^...\....\....\...."<br/><br/>Javelin says, "Ah, but that'll match letters, too, won't it?"<br/>Javelin says, "a.b.c.d isn't an IP address."<br/><br/>Kyieren says, "ack!"<br/>Kyieren slaps<br/><br/>Javelin grins at Yusif. Yeah, we should, but let's not worry about that just<br/>yet.<br/><br/>Yusif says, "Okay. :)"<br/>Yusif says,<br/>"(0|1|2|3|4|5|6|7|8|9)+.(0|1|2|3|4|5|6|7|8|9)+.(0|1|2|3|4|5|6|7|8|9)+.(0|1|2|3<br/>|4|5|6|7|8|9)+"<br/><br/>Kyieren says, "^.?.?.?\..?.?.?\..?.?.?\..?.?.?"<br/><br/>(Aside: Some of the fancier extended regular expression systems have a way of<br/>saying '3 or more' or 'no more than 5' or '7-9 of those', but Penn's doesn't<br/>in 1.7.2)<br/><br/>Kyieren screams and must have been way off, I'm still matching letters<br/><br/>Javelin says, "Again, Ky, pretty close, but those .'s will match letters, not<br/>just numbers. Yusif's pretty much got it, if those .'s are really \.'s"<br/><br/>Yusif says,<br/>"(0|1|2|3|4|5|6|7|8|9)+\.(0|1|2|3|4|5|6|7|8|9)+\.(0|1|2|3|4|5|6|7|8|9)+\.(0|1|<br/>2|3|4|5|6|7|8|9)+"<br/><br/>Yusif meant that, but got evaled on me.<br/><br/>Javelin says, "Right-o."<br/><br/>Yusif wows, just found a use for one of my univ math courses. &lt;sigh&gt;<br/><br/>Trispis has a problem with that on principle.<br/>Trispis says, "999.999.999.999 isn't a valid IP."<br/><br/>Kyieren says, "Hey wait, ip's only go up to 256, minus two points to Yusif :)"<br/>Kyieren spanks also. :)<br/><br/>Javelin says, "That's a semantic problem, not a syntactic one, but good - you<br/>can work that out for homework. :)"<br/>Javelin says, "Now, that's an awful lot to type, and life's too short, so<br/>there's a faster way!"<br/><br/>Kyieren cheers<br/><br/>Mr.Ghost says,<br/>"$0?(|1|2)+0?(|1|2|3|4|5)+(0|1|2|3|4|5|6|7|8|9)+\.0?(1|2)+0?(1|2|3|4|5)+0?(1|2<br/>|3|4|5|6|7|8|9)+\.0?(1|2)+0?(1|2|3|4|5)+0?(1|2|3|4|5|6|7|8|9)+"<br/><br/>Kyieren says, "I bet it's .# or some such"<br/><br/>Javelin says, "[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+"<br/><br/>Trispis says, "And doesn't Yusif's allow for 4 digit numbers?"<br/><br/>Kyieren oooooooo<br/><br/>Yusif nods to trispis and 10 digit ones too<br/><br/>Javelin says, "Scrollback, T, I said not to worry about that yet. :)"<br/><br/>Kyieren ahhhhhh<br/>Kyieren == peanut gallery<br/><br/>Trispis says, "Oh. Okay."<br/><br/>Javelin says, "Using []'s, you can enclose a set of characters that are ok to<br/>match, and that set can include ranges of characters."<br/><br/>Kyieren says, "[A-Z]?"<br/><br/>Trispis says, "oooh."<br/><br/>Mr.Ghost says, "[a-h] is a range?"<br/><br/>Yusif so... "0-21-91-9\.0-21-91-9\.0-21-91-9\.0-21-91-9"<br/><br/>Javelin says, "Some handy things: [A-Z] (match all cap letters), [a-zA-Z]<br/>(match all letters)"<br/><br/>Yusif acks.<br/><br/>Kyieren cheers<br/><br/>Yusif so... <br/>"[0-2][1-9][1-9]\.[0-2][1-9][1-9]\.[0-2][1-9][1-9]\.[0-2][1-9][1-9]"<br/><br/>Kyieren says, "We should have done this on the 101 channel, eval is annoying <br/>:)"<br/><br/>Trispis says, "[a-Z]?"<br/><br/>Kyieren says, "I was about to ask that too, T"<br/><br/>Javelin says, "[a-zA-Z0-9] (match all alphnumeric). [a-zA-Z\.\,\?\;\!\: ]<br/>(match typical characters in a sentence, include space."<br/>Javelin says, "No, [a-Z] isn't really safe."<br/>Javelin says, "On an ascii system, there's lots of characters you don't want<br/>between lowercase a and capital Z"<br/><br/>Kyieren says, "Will the MUSH rise up against you and bring the wrath of God<br/>down upon you (server crash) if you do?"<br/><br/>Javelin says, "No."<br/>Javelin says, "But you might match punctuation."<br/><br/>Yusif blinks. "So you are basically automatically removing pesky things like [<br/>and ( and such... handy.<br/><br/>Javelin says, "Trickier still, you can match all characters *except* a certain<br/>character, but we'll save that one."<br/><br/>&lt;101&gt; Trispis says, "It doesn't use their octal order?"<br/>&lt;101&gt; Javelin says, "It does."<br/>&lt;101&gt; Javelin knows there's chars between them, but forgets what they are. <br/>Aren't there?<br/>&lt;101&gt; Trispis doesn't recall any.<br/>&lt;101&gt; Mr.Ghost wonders if [1-23] is a valid range<br/><br/>mith says, "What about A-z? caps come first?"<br/><br/>&lt;101&gt; Trispis says, "If I remembered my C, I could compile a program to find<br/>out."<br/><br/>Javelin says, "See, that why you should just write [A-Za-z] :)"<br/>Javelin says, "Safe, no matter what."<br/><br/>&lt;101&gt; Javelin says, "It's valid, but it means 1-2, and 3, so it's the same as<br/>1-3"<br/>&lt;101&gt; Mr.Ghost understands<br/>&lt;101&gt; Trispis says, "digits only, then?"<br/>&lt;101&gt; Javelin says, "Those are characters in there, not numbers, so '23' is<br/>the character '2', then '3'"<br/>&lt;101&gt; Trispis says, "er, characters. yeah."<br/><br/>Javelin says, "So, now, if we wanted to write a pattern for an ip address, and<br/>we don't want to match letters, and we don't want to match 4-digit or longer<br/>numbers, how do we do it?"<br/><br/>Kyieren says, "oo"<br/><br/>Mr.Ghost types away<br/><br/>Javelin recommends using the chat channel, or say/noeval<br/><br/>Kyieren says, "^[0-9]\.[0-9]\.[0-9]\.[0-9]?"<br/>Kyieren says, "Hmm I guess that question shouldn't be there"<br/>Kyieren says, "wait"<br/><br/>Javelin says, "That matches 1.1.1.1, but does it match 12.12.12.12?"<br/><br/>Kyieren says, "that's wrong"<br/><br/>mith says, "^[1-2]?[0-9]?[0-9]?\. then repeat?"<br/><br/>&lt;101&gt; Trispis says,<br/>"[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?"<br/><br/>Kyieren dies<br/><br/>Mr.Ghost says, "0-2?0-5?1-9+\.0-2?0-5?1-9+\.0-2?0-5?1-9"<br/><br/>Javelin says, "mith, that matches just a period. :)"<br/><br/>&lt;101&gt; Trispis intentionally left out on ? from each.<br/><br/>Mr.Ghost bah<br/><br/>mith says, "wait, that could match .... also couldn't it?"<br/><br/>&lt;101&gt; Mr.Ghost says,<br/>"[0-2]?[0-5]?[1-9]+\\.[0-2]?[0-5]?[1-9]+\\.[0-2]?[0-5]?[1-9]"<br/><br/>Kyieren rofl at Javelin!!!<br/><br/>&lt;101&gt; Javelin says, "Doesn't match 100.100.100.100, Ghost. :)"<br/>&lt;101&gt; Mr.Ghost says, "Only one \\"<br/>&lt;101&gt; Kyieren says, "259.259.259.259?"<br/>&lt;101&gt; Javelin says, "Don't worry about the semantics. :)"<br/>&lt;101&gt; Kyieren says, "Yeah I know :)"<br/>&lt;101&gt; Trispis says, "Because I want at least ONE occurrence each set."<br/>&lt;101&gt; Mr.Ghost okies<br/>&lt;101&gt; Trispis says, "The second two being optional."<br/><br/>Javelin, not considering semantics, would repeat this: [0-9][0-9]?[0-9]?\.<br/><br/>&lt;101&gt; Trispis says, "I got it right! (:"<br/>&lt;101&gt; Mr.Ghost says,<br/>"([0-2]?[0-5]?[0-9])+\.([0-2]?[0-5]?[1-9])+\.([0-2]?[0-5]?[1-9])+"<br/>&lt;101&gt; Kyieren says, "I can't get a programming language that doesn't exist, my<br/>future career is looking extremely bleak"<br/>&lt;101&gt; Trispis says, "You're thinking right, Mr.G, but ther's some if/then<br/>involved for the leading zero's."<br/><br/>Javelin says, "ex demo again."<br/><br/>&lt;101&gt; Trispis says, "012.012.012.012 isn't a valid IP."<br/>&lt;101&gt; Kyieren says, "stop worrying about semantics"<br/>&lt;101&gt; Kyieren says, "for the 50th time :)"<br/><br/>Javelin fixse some ?'s in it.<br/><br/>Demo(#6948V)<br/>Type: Thing Flags: VISUAL<br/>Owner: Javelin	Zone: *NOTHING*  Ducats: 10<br/>Parent: *NOTHING*<br/>Basic Lock: =Javelin(#7POWweACM)<br/>Powers: <br/>Warnings checked: none<br/>Created: Mon Mar 27 19:59:09 2000<br/>DOG_GLOB [#7]: $dog: @emit It's a globby dog<br/>DOG_REGEXP [#7R]: $^dog$: @emit It's a regular dog.<br/>IPTEST [#7R]: $^ip<br/>[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?$:<br/>@emit %N entered %0<br/>SOUND_REGEXP [#7R]: ^^Javelin says,: @emit Javelin said something.<br/>Home: Code Classroom(#1061RnJ)<br/>Location: Code Lab(#1058RnJ)<br/><br/>Javelin says, "Ok. Now, let's say we wanted to check semantics, too."<br/><br/>Trispis says, "Then it gets ugly."<br/><br/>Javelin says, "For example, let's say we wanted to assure ourselves that the<br/>first number in the address is between 1 and 256."<br/><br/>&lt;101&gt; Mr.Ghost says, "actually 012.012.012.012 is 10.10.10.10 but that's a<br/>different story"<br/><br/>Yusif thinks each number could be (1-9|1-90-9|10-90-9|20-50-9)<br/>Yusif keeps doing that.<br/><br/>&lt;101&gt; Yusif says, "([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-5][0-9])"<br/><br/>Javelin says, "What would be great would be if, in place of that @emit, we<br/>could write: @switch lt(FIRSTNUMBER,256)=0, @emit That's too big, @emit Ok"<br/><br/>Javelin says, "More generally, it would be nice to capture parts of the string<br/>that matched the pattern."<br/><br/>Javelin says, "(Maybe you want to capture the first 3 octets, which could be a<br/>class-C address, or something - techie aside)"<br/>Javelin says, "This turns out to be really easy!"<br/>Javelin says, "ex demo again. I've made one small change to the regexp<br/>pattern."<br/><br/>Demo(#6948V)<br/>Type: Thing Flags: VISUAL<br/>Owner: Javelin	Zone: *NOTHING*  Ducats: 10<br/>Parent: *NOTHING*<br/>Basic Lock: =Javelin(#7POWweACM)<br/>Powers: <br/>Warnings checked: none<br/>Created: Mon Mar 27 19:59:09 2000<br/>DOG_GLOB [#7]: $dog: @emit It's a globby dog<br/>DOG_REGEXP [#7R]: $^dog$: @emit It's a regular dog.<br/>IPTEST [#7R]: $^ip<br/>([0-9][0-9]?[0-9]?)\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?$:<br/>@emit %N entered %0, and the first octet was: %1<br/>SOUND_REGEXP [#7R]: ^^Javelin says,: @emit Javelin said something.<br/>Home: Code Classroom(#1061RnJ)<br/>Location: Code Lab(#1058RnJ)<br/><br/>Javelin says, "I've enclosed the pattern for the first octet in parens."<br/>Javelin says, "We saw earlier that parens just group things into a unit."<br/>Javelin says, "So it doesn't change the meaning of anything."<br/>Javelin says, "But parens *also* have a handy side effect - they capture the<br/>part of the string that matches what's in the parens!"<br/>Javelin turns demo on. Try typing: 'ip &lt;valid or invalid address&gt;' and ex demo<br/>to see how it works.<br/><br/>Javelin entered IP 128.248.90.226, and the first octet was: 128<br/><br/>Krevinek entered IP 266.266.266.266, and the first octet was: 266<br/><br/>Trispis entered IP 999.254.254.254, and the first octet was: 999<br/><br/>Javelin says, "Try 1.2.3.a, too. :)"<br/><br/>Mr.Ghost hrms<br/>Trispis hrms.<br/><br/>China entered IP 123.123.12.123, and the first octet was: 123<br/><br/>Javelin says, "As you can see from the code, if the pattern matched at all, %0<br/>contains the entire matched pattern (including the word IP!), and %1 contains<br/>whatever matched what's in the first set of parens."<br/><br/>Trispis says, "%0 is my 'to match' (the overall glob being regmatched), and %1<br/>is the first grouped paren set?"<br/><br/>Javelin says, "If you had more parens, %2 would match the second set, and so<br/>on, up to %9"<br/><br/>Mr.Ghost hrms<br/><br/>Trispis says, "So, we can do errorchecking after the : ?"<br/><br/>Javelin says, "BTW, parens are counted by counting left parens, from left to<br/>right. So (a(bc)), if matched by the string 'abc', would set %1 to 'abc' and<br/>%2 to 'bc'"<br/>Javelin says, "Right."<br/>Javelin says, "If you have a pet shop and you want to implement a 'tickle'<br/>command for all the animals, you might be able to do it globally, with:<br/>^tickle (puppy|kitty|birdie|fishie|snakie)$: and now %1 tells you what they<br/>tickled so you can customize the reaction of the animal."<br/><br/>Trispis says, "Okay... this is where you get to do part of your errorchecking<br/>in the command and the other part in the process. So, instead of *.*.*.*, we'd<br/>use the current code to eliminate ANY processing of letters, and then<br/>errorcheck the numbers afterward?"<br/><br/>Javelin says, "Right. Depending on the pattern, you've done a big part of the<br/>job syntactically."<br/>Javelin says, "Actually, globbing *.*.*.* also matches 1.2.3.3.4.5.6, which<br/>the regexp doesn't. :)"<br/><br/>Mr.Ghost says, "neat"<br/>Trispis nods.<br/><br/>Javelin says, "The regmatch() function, which can do regexp matching for you<br/>too, allows you to assign the parts matched in parens to %q1-%q9 registers,<br/>and to choose which register is used for which part. Read its help for<br/>details."<br/><br/>REGMATCH()<br/>  (Help text from TinyMUSH 2.2.4, with permission)<br/>  regmatch(&lt;string&gt;,&lt;regexp&gt;[,&lt;register list&gt;])<br/>  regmatchi(&lt;string&gt;,&lt;regexp&gt;[,&lt;register list&gt;])<br/> <br/>  This function matches the regular expression &lt;regexp&gt; against the<br/>  entirety of &lt;string&gt;, returning 1 if it matches and 0 if it does not.<br/>  regmatchi() does the same thing, but case-insensitively.<br/> <br/>  If &lt;register list&gt; is specified, there is a side-effect: any<br/>  parenthesized substrings within the regular expression will be set<br/>  into the specified local registers, in the order they were specified<br/>  in the list. &lt;register list&gt; can be a list of one through nine numbers.<br/>  If the specified register is -1, the substring is not copied into a<br/>  register. Under regmatchi, case of the substring may be modified.<br/> <br/>  For example, if &lt;string&gt; is 'cookies=30', and &lt;regexp&gt; is '(.+)=([0-9]*)'<br/>  (parsed; note that escaping may be necessary), then the 0th substring<br/>  matched is 'cookies=30', the 1st substring is 'cookies', and the 2nd<br/>  substring is '30'. If &lt;register list&gt; is '0 3 5', then %q0 will become<br/>  "cookies=30", %q3 will become "cookies", and %q5 will become "30".<br/>  If &lt;register list&gt; was '0 -1 5', then the "cookies" substring would<br/>  simply be discarded.<br/> <br/>  See 'help regexp syntax' for an explanation of regular expressions.<br/><br/>REGEXP SYNTAX<br/>  Topic: REGEXP SYNTAX<br/> <br/>  The following explanation is taken from Henry Spencer's regexp(3)<br/>  package, the regular expression library used in PennMUSH:<br/> <br/>	  A regular expression is zero or more branches, separated by<br/>	  `|'.	It matches anything that matches one of the branches.<br/> <br/>	  A branch is zero or more pieces, concatenated.  It matches a<br/>	  match for the first, followed by a match for the second,<br/>	  etc.<br/> <br/>	  A piece is an atom possibly followed by `*', `+', or `?'.<br/>	  An atom followed by `*' matches a sequence of 0 or more<br/>	  matches of the atom.	An atom followed by `+' matches a<br/>	  sequence of 1 or more matches of the atom.  An atom followed<br/>	  by `?' matches a match of the atom, or the null string.<br/>  <br/>  Continued in 'help regexp syntax2'.<br/> <br/><br/>REGEXP SYNTAX2<br/>	  An atom is a regular expression in parentheses (matching a<br/>	  match for the regular expression), a range (see below), `.'<br/>	  (matching any single character), `^' (matching the null<br/>	  string at the beginning of the input string), `$' (matching<br/>	  the null string at the end of the input string), a `\'<br/>	  followed by a single character (matching that character), or<br/>	  a single character with no other significance (matching that<br/>	  character).<br/> <br/>	  A range is a sequence of characters enclosed in `[]'.  It<br/>	  normally matches any single character from the sequence.  If<br/>	  the sequence begins with `^', it matches any single<br/>	  character not from the rest of the sequence.	If two<br/>	  characters in the sequence are separated by `-', this is<br/>	  shorthand for the full list of ASCII characters between them<br/>	  (e.g. `[0-9]' matches any decimal digit).  To include a<br/>	  literal `]' in the sequence, make it the first character<br/>	  (following a possible `^').  To include a literal `-', make<br/>	  it the first or last character.<br/> <br/>  Continued in 'help regexp ambiguity' and 'help regexp examples'.<br/> <br/><br/>Javelin says, "And note that by default, regmatch() is case-sensitive<br/>(regmatchi isn't). But matching on $commands and ^patterns is case-insensitive<br/>unless you also set teh CASE flag on that attribtue."<br/><br/>REGEXP AMBIGUITY<br/>  Topic: REGEXP AMBIGUITY<br/> <br/>	  If a regular expression could match two different parts of<br/>	  the input string, it will match the one which begins<br/>	  earliest.  If both begin in the same place	but match<br/>	  different lengths, or match the same length in different<br/>	  ways, life gets messier, as follows.<br/> <br/>	  In general, the possibilities in a list of branches are<br/>	  considered in left-to-right order, the possibilities for<br/>	  `*', `+', and `?' are considered longest-first, nested<br/>	  constructs are considered from the outermost in, and<br/>	  concatenated constructs are considered leftmost-first.  The<br/>	  match that will be chosen is the one that uses the earliest<br/>	  possibility in the first choice that has to be made.	If<br/>	  there is more than one choice, the next will be made in the<br/>	  same manner (earliest possibility) subject to the decision<br/>	  on the first choice.	And so forth.<br/> <br/>  Continued in 'help regexp ambiguity2'.<br/> <br/><br/>REGEXP AMBIGUITY2<br/>	  For example, `(ab|a)b*c' could match `abc' in one of two<br/>	  ways.  The first choice is between `ab' and `a'; since `ab'<br/>	  is earlier, and does lead to a successful overall match, it<br/>	  is chosen.  Since the `b' is already spoken for, the `b*'<br/>	  must match its last possibility-the empty string-since it<br/>	  must respect the earlier choice.<br/> <br/>	  In the particular case where no `|'s are present and there<br/>	  is only one `*', `+', or `?', the net effect is that the<br/>	  longest possible match will be chosen.  So `ab*', presented<br/>	  with `xabbbby', will match `abbbb'.  Note that if `ab*' is<br/>	  tried against `xabyabbbz', it will match `ab' just after<br/>	  `x', due to the begins-earliest rule.  (In effect, the<br/>	  decision on where to start the match is the first choice to<br/>	  be made, hence subsequent choices must respect it even if<br/>	  this leads them to less-preferred alternatives.)<br/> <br/><br/>Javelin can show you a monster function using regexps here. :)<br/><br/>&lt;101&gt; Mr.Ghost says, "How do you use perens and brackets in regmatch(), escape<br/>them with \ ?"<br/>&lt;101&gt; Javelin says, "I think you can use parens as you'd expect, and you must<br/>escape brackets, yeah."<br/>&lt;101&gt; Javelin says, "But that's tricky, so test it."<br/><br/>Javelin says, "Well, let me just describe an intersting application, rather<br/>than kill you with code."<br/><br/>&lt;101&gt; Sylvia says, "Too bad Talek's not around, he'd be able to give exact<br/>rules =)"<br/>&lt;101&gt; Mr.Ghost says, "Yeah, cause if you need to eval in regmatch() etc etc<br/>...  you're stuck"<br/>&lt;101&gt; Javelin sticks out his tongue. :)<br/>&lt;101&gt; mith says, "hrm. that's why my think regmatch()'s wern't working (:"<br/><br/>Javelin says, "Lots of people connect to this mush from different sites."<br/>Javelin says, "LASTSITE only stores their last site. For some people, I'd like<br/>to know all of the sites they use."<br/><br/>&lt;101&gt; Sylvia giggles, and responds in kind. "Well the RegEx stuff, was, at one<br/>time his pride and joy you know =)"<br/>&lt;101&gt; Javelin says, "Not the MUSH regexp stuff."<br/>&lt;101&gt; Javelin hacked that in, from TinyMUSH, actually. :)<br/><br/>Javelin says, "But here's the thing. These days, lots of people connect from<br/>dialups which have names like dialup-1234-342-23.twink.net"<br/>Javelin says, "So if I just collected all their sites, I'd have an attribute<br/>full of useless information."<br/>Javelin says, "What I really want is to decide if I should add their site or<br/>not, based on whether it 'looks like' a site I've seen already or not."<br/>Javelin says, "That is, whether it's the same, except for some numbers near<br/>the front being different."<br/>Javelin says, "Regexps are very handy for this kind of problem (which is hard,<br/>even with regexps, but nearly impossible without)"<br/>Javelin says, "Well, this has gone on way longer than I expected. I'll hang<br/>out for questions and to look at code if you're working on something with<br/>regexps, but we'll quit the Javelin talks part here. I hope you've found this<br/>at least a bit enlightening. Read the help on regexp and regmatch and<br/>associated topics for lots more detail!"<br/>Javelin says, "Oh! One last thing, that I can't forget..."<br/><br/>Kyieren says, "Everyone in this room wins a wizbit?"<br/><br/>China blinks.<br/><br/>Trispis says, "On Ky's MUSH?"<br/><br/>Yusif fathoms regexps now. yay.<br/><br/>Kyieren says, "No here :)"<br/><br/>Javelin says, "IF any of you are hardcode hackers, the standard unix utility<br/>'egrep' lets you search files for lines that match a regular expression, so<br/>next time you need to know where to find fun_element or fun_item, you can:<br/>egrep 'fun_(element|item)' src/*.c"<br/>Javelin is now really done. Thanks for coming!<br/><br/>Kyieren says, "You ended the log?"<br/><br/>Xyrxwyrth cheers.<br/><br/>Javelin says, "Tris is in charge of the log."<br/><br/>Kyieren says, "Oh"<br/>Kyieren says, "t&lt; YOU ended the loG?"<br/>Kyieren says, "Whoa"<br/><br/>Trispis says, "Log is still running for followup questions."<br/><br/>Kyieren says, "Ah"<br/><br/>Trispis intends to practice by rewriting all of his toolkit commands in<br/>regexp.<br/><br/>Mr.Ghost has a question but it was from earlier in the day on a buffer gone to<br/>the bit void. :P<br/><br/>Kyieren says, "Uh, so every command will have a tk- prefix? :P"<br/><br/>Javelin grins.<br/><br/>Mr.Ghost says, "What you showed me earlier, Jav, I might understand now, drat<br/>:)"<br/><br/>China sighs.<br/><br/>Kyieren says, "I could make a grand, spammy exit that would leave you all<br/>oooh'ing and ahhhh'ing at my softcode ability, but I think I'll settle for a<br/>subtler exit :)"<br/><br/>Javelin says, "Why the sigh, China? If you continue to sigh, I'll speak in<br/>haiku."<br/><br/>Trispis says, "Don't feel bad, China. I'm still a bit confused, but intend to<br/>work on it."<br/><br/>China says, "I followed it up until it got complicated."<br/><br/>Mr.Ghost woos and found it.<br/><br/>Trispis says, "There seems to be a lot of logic left of the colon with<br/>regexp."<br/><br/>Javelin says, "All things start tricky. By the thousand-and-tenth time,<br/>they're easier"<br/><br/>Trispis says, "Instead of just globbing and narrowing the input after<br/>receiving it, now I have to think about restricting the input to specifics."<br/><br/>Krevinek says, "That is the point, the logic is handled by the rather ugly<br/>stuff to left, and so you do less on the right."<br/><br/>Octavian hmms. l33t h@1k00.<br/><br/>Trispis nods to Krev.<br/><br/>Kyieren laughs at Oct.<br/><br/>Javelin says, "By left, right, or both, when there's tough parsing to do,<br/>something is hellish."<br/><br/>Krevinek nods.<br/><br/>Trispis parsed that, believe it or not.<br/>Trispis says, "I still wanna know about the 'smart matching'. I'm gonna have<br/>to write a test command."<br/><br/>Mr.Ghost says, "If I had a string 234Dogs, how would I get the 234 bit and the<br/>Dogs bit in the registers? I see the regmatch(2Dogs,^([0-9])(.*),0 1) logic,<br/>but what about (# Dynamic)Dogs, 3Dogs, 7578253Dogs?"<br/><br/>Krevinek says, "Hmm... I think I know :)"<br/><br/>Javelin says, "What exactly do you want to match and reject?"<br/><br/>Mr.Ghost says, "I want the numbers to go to %q0 and Chars to go to %1, should<br/>I spereate them with something like "|" and if so, why not use before() and<br/>after() ?"<br/><br/>Javelin says, "But the string is any number of numbers, followed by any number<br/>of chars?"<br/><br/>mith says, "([0-9]+)"<br/><br/>Mr.Ghost says, "Yeah, it spawns from that vsub() thing you expressed earlier<br/>today"<br/><br/>Javelin offers: regmatch(string,^([0-9]+)([^0-9].*),0 1)<br/>Javelin says, "This is tricky, and uses something I didn't teach you. Here's<br/>the problem."<br/><br/>Mr.Ghost smacks head<br/><br/>&lt;101&gt; Trispis says, "Explain why the ?'s come where they do, please. <br/>&amp;reg.smart tk=$^t(e(s(t)?)?)?$:@pemit %#=success"<br/><br/>Javelin says, "The naive solution is ([0-9]+)(.*)"<br/><br/>Mr.Ghost says, "I I see, too easy"<br/><br/>&lt;101&gt; Trispis thought they'd come immediately after each letter.<br/><br/>Javelin says, "But this solution won't work right in many cases, because it's<br/>ambiguous. Should 12dog be parsed as 12 - dog, or 1 - 2dog"<br/>Javelin says, "I think Penn's regexp matcher gives 12 - dog, but I'm not sure<br/>it always will. So I prefer to match "one or more numbers", followed by "a<br/>non-number and then zero or more anything""<br/>Javelin says, "[^0-9] means 'any character but not 0-9'"<br/><br/>&lt;101&gt; Javelin says, "Ok, we read t(e(s(t?)?)?)? as 't', followed by an<br/>optional e(s(t?)?)?"<br/><br/>Mr.Ghost may just end up going with a static line of values :P<br/><br/>&lt;101&gt; Trispis saw it for a brief flash of a second.<br/>&lt;101&gt; Javelin says, "Which means either t, or te, or te followed by an<br/>optional (st?)?"<br/>&lt;101&gt; Javelin is screwing it up, but the logic is right.<br/>&lt;101&gt; Javelin says, "Which means either t, or te, or tes followed by a t?"<br/>&lt;101&gt; Javelin says, "Which means either t, or te, or tes, or test."<br/>&lt;101&gt; Trispis sees it as a forest. I'll see the trees in a minute.... or a<br/>week.<br/><br/>Javelin drats, and lost his haiku roll.<br/><br/>&lt;101&gt; Trispis says, "so, te? is the same as t(e)?, correct?"<br/>&lt;101&gt; Trispis tries to build it.<br/>&lt;101&gt; Javelin says, "Right."<br/>&lt;101&gt; Trispis says, "te? == t(e)?"<br/>&lt;101&gt; Javelin says, "You know there's an optional t and the end, so build it<br/>backward. t? is on the right somewhere."<br/>&lt;101&gt; Trispis says, "t(e)?, t(e(s)?)?"<br/>&lt;101&gt; Trispis says, "t(e)?, t(e(s)?)?, t(e(s(t)?)?)?"<br/>&lt;101&gt; Javelin says, "But if there's a final t, there must have been an s<br/>before it, so (st?)?"<br/>&lt;101&gt; Javelin nods.<br/>&lt;101&gt; Sylvia says, "Start with the innermost one, then work back out -- it's<br/>easier than trying to understand it left to right."<br/>&lt;101&gt; Trispis says, "Ah. Okay. A logical shortcut there. Yeah. For the final<br/>character."<br/><br/>Javelin is heading out for bed. :)<br/>Javelin waves. Have fun.<br/><br/>Trispis waves. Thanks, Jav.<br/><br/>China says, "thank you, sir."
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>