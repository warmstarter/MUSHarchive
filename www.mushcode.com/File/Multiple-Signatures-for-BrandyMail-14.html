<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Multiple Signatures for BrandyMail 14</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Multiple-Signatures-for-BrandyMail-14.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Multiple-Signatures-for-BrandyMail-14.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Multiple-Signatures-for-BrandyMail-14.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Multiple-Signatures-for-BrandyMail-14.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Multiple-Signatures-for-BrandyMail-14.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Multiple-Signatures-for-BrandyMail-14.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Mail-Systems.html">Mail Systems</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Multiple-Signatures-for-BrandyMail-14.html#">Multiple Signatures for BrandyMail 14</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Multiple Signatures for BrandyMail 14
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>The code adds support for multiple signatures when sending +mail, as well as maintaining support for the already existing single-signature code.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <a href="../Author/Greg-Kempe.html">Greg Kempe</a>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="http://www.mushcode.com/Command/@create" class="command">@create</a>,
                    <a href="http://www.mushcode.com/Command/@dolist" class="command">@dolist</a>,
                    <a href="http://www.mushcode.com/Command/@drain" class="command">@drain</a>,
                    <a href="http://www.mushcode.com/Command/@edit" class="command">@edit</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="http://www.mushcode.com/Command/@startup" class="command">@startup</a>,
                    <a href="http://www.mushcode.com/Command/@switch" class="command">@switch</a>,
                    <a href="http://www.mushcode.com/Command/@teleport" class="command">@teleport</a>,
                    <a href="http://www.mushcode.com/Command/@trigger" class="command">@trigger</a>,
                    <a href="http://www.mushcode.com/Command/@wait" class="command">@wait</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/after.html" class="function">after&#40;&#41;</a>,
                        <a href="../Function/and.html" class="function">and&#40;&#41;</a>,
                        <a href="../Function/before.html" class="function">before&#40;&#41;</a>,
                        <a href="../Function/center.html" class="function">center&#40;&#41;</a>,
                        <a href="http://www.mushcode.com/Function/con" class="function">con&#40;&#41;</a>,
                        <a href="../Function/default.html" class="function">default&#40;&#41;</a>,
                        <a href="../Function/eq.html" class="function">eq&#40;&#41;</a>,
                        <a href="../Function/escape.html" class="function">escape&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/get.html" class="function">get&#40;&#41;</a>,
                        <a href="../Function/get_eval.html" class="function">get_eval&#40;&#41;</a>,
                        <a href="../Function/gt.html" class="function">gt&#40;&#41;</a>,
                        <a href="../Function/hasattr.html" class="function">hasattr&#40;&#41;</a>,
                        <a href="../Function/hasflag.html" class="function">hasflag&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/lcstr.html" class="function">lcstr&#40;&#41;</a>,
                        <a href="../Function/ljust.html" class="function">ljust&#40;&#41;</a>,
                        <a href="../Function/match.html" class="function">match&#40;&#41;</a>,
                        <a href="../Function/matchall.html" class="function">matchall&#40;&#41;</a>,
                        <a href="../Function/mid.html" class="function">mid&#40;&#41;</a>,
                        <a href="../Function/mudname.html" class="function">mudname&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/neq.html" class="function">neq&#40;&#41;</a>,
                        <a href="../Function/not.html" class="function">not&#40;&#41;</a>,
                        <a href="../Function/objeval.html" class="function">objeval&#40;&#41;</a>,
                        <a href="../Function/or.html" class="function">or&#40;&#41;</a>,
                        <a href="../Function/pos.html" class="function">pos&#40;&#41;</a>,
                        <a href="../Function/repeat.html" class="function">repeat&#40;&#41;</a>,
                        <a href="../Function/secure.html" class="function">secure&#40;&#41;</a>,
                        <a href="../Function/setdiff.html" class="function">setdiff&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/setunion.html" class="function">setunion&#40;&#41;</a>,
                        <a href="../Function/sign.html" class="function">sign&#40;&#41;</a>,
                        <a href="../Function/space.html" class="function">space&#40;&#41;</a>,
                        <a href="../Function/squish.html" class="function">squish&#40;&#41;</a>,
                        <a href="../Function/strlen.html" class="function">strlen&#40;&#41;</a>,
                        <a href="../Function/strmatch.html" class="function">strmatch&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/time.html" class="function">time&#40;&#41;</a>,
                        <a href="../Function/trim.html" class="function">trim&#40;&#41;</a>,
                        <a href="../Function/type.html" class="function">type&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/ucstr.html" class="function">ucstr&#40;&#41;</a>,
                        <a href="../Function/ulocal.html" class="function">ulocal&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>,
                        <a href="../Server/TinyMUSH.html" class="server">TinyMUSH</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Multiple Signatures for BrandyMail 14
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Multiple-Signatures-for-BrandyMail-14.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        #<br/># Multiple Signatures for BrandyMail 14<br/>#<br/># Version 1.1 (17/12/98)<br/># Coded by Greg Kempe (kempe@iafrica.com)<br/># BrandyMail coded by Brandy@CrystalMUSH<br/># Server: TinyMUSH 2.2.3, BrandyMail 14<br/>#<br/># CHANGES IN 1.1:<br/>#  o Evaluation problem with %t, %b and function calls etc in signatures etc<br/>#    fixed<br/>#  o STORE_LETTER and GET_SIG_TEXT (on #10) updated<br/>#<br/># HOWTO:<br/>#  o To apply the patches, change all occurrences of #17 to the dbref of your<br/>#    Parent Mail Object, all occurrences of #13 to the dbref of your Mail<br/>#    System object, and all occurrences of #22 to the dbref of your help<br/>#    object.<br/>#    Change all occurrences of #10 to the dbref of an object owned by a wizard<br/>#    and set inherit (used by the GET_SIG_TEXT function - see below)<br/>#<br/># NB: If you have added some other patches that affect the attributes listed<br/>#     below, I strongly advise against just overwriting them with these<br/>#     versions. The modified sections should, instead, be copied across<br/>#     manually (they are clearly marked by comments.)<br/>#<br/># DISCLAIMER: I am not liable for any damages to your DB caused by this code.<br/>#             It shouldn't, though, do anything funny, so don't worry too much. <br/>#             The patches are in no way official and aren't supported by<br/>#             Brandy.<br/>#             Please contact me with any oddities, so that I can update the<br/>#             patch code.<br/>#<br/># DESCRIPTION:<br/>#<br/># The code adds support for multiple signatures when sending +mail, as well as<br/># maintaining support for the already existing single-signature code.<br/># Signatures are easily selected and whenever a signature other than the<br/># default is selected, a message is shown in +proof and if a new message is<br/># begun. The signature text is help on unrestricted attributes on the player<br/># A help entry is included.<br/>#<br/># Modified (or added) attributes and descriptions:<br/>#<br/>#   &amp;MAIL_COMMAND      : shows a message about the current signature<br/>#   &amp;PROOF_COMMAND     : ditto - obeys FORMAT config option<br/>#   &amp;FORWARD_MAIL2     : ditto<br/>#   &amp;REPLY_COMMAND     : ditto<br/>#   &amp;REPLYALL_COMMAND  : ditto<br/>#   &amp;SIG_MSG           : the message for above. Obeys FORMAT config option.<br/>#   -                  : added a line to the help displayed by '-'<br/>#   &amp;STORE_LETTER      : adds the required signature<br/>#   &amp;GET_SIG_NAME      : returns a player's current signature name<br/>#   &amp;GET_SIG_TEXT      : returns the (evaluated) text of a player's signature<br/>#                        NB: above attribute MUST be set on a wiz-owned object<br/>#                        set INHERIT, since none of the BrandyMail objects<br/>#                        are set INHERIT but this function needs global perms.<br/>#<br/>#   &amp;HELP_MAIL         : Mail Signatures added to index<br/>#   &amp;HELP_MAIL_SIGNATURES<br/>#                      : Text for multi-signature help<br/>#   &amp;HELP_MAIL_OPTIONS : Mail Signatures added to 'See Also: '<br/>#<br/># New commands (on #13):<br/>#   &amp;SIG_CMD           : +sig[s]<br/>#   &amp;SIG_SELECT_CMD    : +sig &lt;sig name&gt;<br/>#   &amp;SIG_ADD_CMD       : +sig/add &lt;sig name&gt;<br/>#   &amp;SIG_DEL_CMD       : +sig/del &lt;sig name&gt;<br/>#   &amp;SIG_VIEW_CMD      : +sig/view &lt;sig name&gt;<br/>#<br/># New mailbox attributes:<br/>#   &amp;SIG-CURRENT       : name of current signature (blank or 'default' for default)<br/>#   &amp;SIG-LIST          : list of sig names (or blank for just the default sig)<br/>#<br/># NOTE: If the two above attributes are blank, they are set when the user uses any<br/>#       of the +sig commands. ie. they do NOT have to be set manually upon<br/>#       installation of this patch.<br/>#<br/># New attributes on player (non-restricted):<br/># <br/>#   &amp;MAIL_SIG          : default sig used (if SIG-CURRENT is blank or set to default)<br/>#   &amp;MAIL_SIG_&lt;sig&gt;    : text for other signatures<br/>#<br/>##############################################################################<br/>#<br/># Let the code begin...<br/>#<br/>##############################################################################<br/><br/>&amp;get_sig_name #17=switch(get(%1/SIG-CURRENT),,default,get(%1/SIG-CURRENT))<br/>&amp;get_sig_text #17=u(#10/get_sig_text,%0,%1)<br/>&amp;get_sig_text #10=objeval(%0,u(%0/MAIL_SIG[switch(%1,default,,_%1)]))<br/>@set #10/get_sig_text=visual<br/>&amp;MAIL_COMMAND #13=$+mail *=*: @swi/first [setq(0, get(%vm/mailbox_%#))]1 = or(strmatch(escape(%0), *[*), strmatch(escape(%1), *[*)),{@pemit %# = u(nofunc)},not(strmatch(type(%#), PLAYER)),{@pemit %# = u(not_player)},eq(strlen(%q0), 0), {@swi/first  [setq(6, get(%vm/global-mail-aliases))][setq(1, ulocal(identify_to_list, {%0}, %vm))][setq(2, u(get_aliases, {%0}, #0, %q6, ))][setq(3, setunion(%q1 [ulocal(expand_aliases, %q2, #0, %b, %q6, )], ))]1 = strmatch(%q1, *ABORT*),{@pemit %# = secure(after(before(%q1, ENDABORT), ABORT))},eq(words(%q3), 0),{@pemit %# = You must specify a destination for this piece of mail.},{@create %N's Mailbox; @set [setq(4, con(me))]%q4 = quiet; @drain %q4; &amp;debug_mail %q4 = +mail %0=%1; @tel %q4 = %vm; &amp;mailbox_%# %vm = %q4; @tr %vm/add_mailbox = %q4; &amp;owner_dbref %q4 = %#; @startup %q4 = {@drain me; @no me}; @set %q4 = safe; &amp;current_folder %q4 = ulocal(get_inbox, %#); &amp;folder-list %q4 = get(%q4/current_folder); &amp;mail-in-progress %q4 = true; &amp;mail-in-progress-to %q4 = u(pretty_dist, %q2, #0, , %q6, %q1); &amp;mail-in-progress-to-expanded %q4 = %q3; &amp;mail-in-progress-subject %q4 = %1; @pemit %# = u(enter_msg); @no %q4}},{@wait %q0 = {&amp;debug_mail %q0 = +mail %0=%1; @swi/first [setq(1, ulocal(identify_to_list, {%0}, %q0))][setq(7, get(%q0/alias-list))][setq(6, get(%vm/global-mail-aliases))][setq(2, u(get_aliases, {%0}, %q0, %q6, %q7))]1 = strmatch(get(%q0/mail-in-progress), true),{@pemit %# = You are already in the middle of sending a message. %bYou must complete that one before you begin another.; @no %q0},eq(strlen(%0), 0),{@pemit %# = You must specify a destination for this piece of mail.; @no %q0},strmatch(%q1, *ABORT*),{@pemit %# = secure(after(before(%q1, ENDABORT), ABORT)); @no %q0},{&amp;mail-in-progress %q0 = true; &amp;mail-in-progress-to %q0 = u(pretty_dist, %q2, %q0, %q7, %q6, %q1); &amp;mail-in-progress-to-expanded %q0 = %q1 [ulocal(expand_aliases, %q2, %q0, %b, %q6, %q7)]; &amp;mail-in-progress-subject %q0 = %1; @swi/first hasattr(%q0, mail-in-progress-to-expanded) = 0,{@pemit %# = You must specify a destination for this piece of mail.; &amp;mail-in-progress %q0 = false; &amp;mail-in-progress-to %q0 = ; &amp;mail-in-progress-to-expanded %q0 = ; &amp;mail-in-progress-subject %q0 = ; @no %q0},{@pemit %# = u(enter_msg)[u(sig_msg)]; @no %q0}}}}<br/>&amp;PROOF_COMMAND #13=$+proof: @swi/first [setq(0, get(%vm/mailbox_%#))]0 = strmatch(type(%#), PLAYER),{@pemit %# = u(not_player)},strlen(%q0),{@pemit %# = You are not currently writing a mail message.},{@wait %q0 = {&amp;debug_mail %q0 = +proof; @pemit %# = switch(get(%q0/mail-in-progress),false, You are not currently writing a mail message.,{[setq(1, get(%q0/mail-in-progress-cc))][setq(2, get(%q0/mail-in-progress-bcc))][setq(3, get(%q0/mail-in-progress-flags))][setq(4, u(get_format_option, get(%#/mail_config_options)))][switch(%q4, standard, {[u(equal_line)]%r})]To:[space(7)][trim(get(%q0/mail-in-progress-to))][switch(words(%q1), 0,, %rCc:[space(7)][trim(%q1)])][switch(words(%q2), 0,, %rBcc:[space(6)][trim(%q2)])]%rSubject:%b%b[trim(get(%q0/mail-in-progress-subject))][switch(words(%q3), 0,, %rFlags:%b%b%b%b)][switch(match(%q3, u), 0,, [v(mail_flag_u)]%b%b)][switch(match(%q3, rr), 0,, [v(mail_flag_rr)]%b%b)][switch(match(%q3, r), 0,, [v(mail_flag_r)]%b%b)][switch(match(%q3, p), 0,, [v(mail_flag_p)]%b%b)][switch(or(strmatch(%q4, compact), strmatch(u(get_sig_name, %q0), default),),1,,%rSig:[space(5)] [u(get_sig_name, %q0)])][switch(%q4, standard, {%r[u(dash_line)]%r%r},%rText:[space(5)])][get_eval(%q0/mail-in-progress-body)][switch(%q4, standard, {%r%r[u(equal_line)]})]%r[u(finish_msg)]}); @swi and(v(spell_checker_available), hasflag(v(spell_checker), connect), strmatch(get(%q0/mail-in-progress), true)) = 1,{@pemit v(spell_checker) = StartSpelling %# 0 0 subject 0; @pemit v(spell_checker) = get(%q0/mail-in-progress-subject); @pemit v(spell_checker) = StopSpelling; @pemit v(spell_checker) = StartSpelling %# 0 0 text 0; @pemit v(spell_checker) = get(%q0/mail-in-progress-body); @pemit v(spell_checker) = StopSpelling}; @no %q0}}<br/>&amp;FORWARD_MAIL2 #13=$+forward *=*: @swi/first [setq(0, get(%vm/mailbox_%#))]1 = not(strmatch(type(%#), PLAYER)),{@pemit %# = u(not_player)},or(strmatch(escape(%0), *[*), strmatch(escape(%1), *[*)), {@pemit %# = u(nofunc)},eq(strlen(%q0), 0), {@pemit %# = u(nomail, ulocal(get_inbox))},{@wait %q0 = {&amp;debug_mail %q0 = +forward %0=%1; @swi/first [setq(1, u(get_folder_in_list, %q0))][setq(2, ulocal(expand_single_letter_range, trim(%1), %q1, u(get_folder_current_letter, %q0)))][setq(3, ulocal(identify_to_list, {%0}, %q0))][setq(7, get(%vm/global-mail-aliases))][setq(8, get(%q0/alias-list))][setq(4, u(get_aliases, {%0}, %q0, %q7, %q8))][setq(5,setunion(%q3 [ulocal(expand_aliases, %q4, %q0, %b, %q7, %q8)], ))][setq(6,[u(pretty_dist, %q4, %q0, %q8, %q7, %q3)])]1 = eq(strlen(%0), 0), {@pemit %# = You must specify a destination to forward this pieceof mail to.;@no %q0},strmatch(get(%q0/mail-in-progress), true),{@pemit %# = You are already in the middle of sending a message. You must complete that one before you can forward another.; @no %q0},eq(words(%q1), 0), {@pemit %# = u(nomail, u(get_active_folder, %q0));@no %q0},strmatch(%q2, *ABORT*), {@pemit %# = after(before(%q2, ENDABORT), ABORT); @no %q0},eq(words(%q2), 0), {@pemit %# = u(no_match, +forward, ulocal(format_request, trim(%1)), u(get_active_folder, %q0)); @no %q0},strmatch(%q3, *ABORT*),{@pemit %# = secure(after(before(%q3, ENDABORT), ABORT));@no %q0},{&amp;[u(which_current_letter, %q0)] %q0 = %q2;&amp;mail-in-progress %q0 = true; &amp;mail-in-progress-to %q0 = %q6; &amp;mail-in-progress-to-expanded %q0 = %q5; &amp;mail-in-progress-flags %q0 = setunion(get(%q0/mail-in-progress-flags) F, );&amp;mail-in-progress-body %q0 = [setq(9, u(get_src_dbref, %q0, %q2))]Received from:%b%b[name(get(%q9/owner_dbref))]%r[u(%q9/out-[u(get_src_num, %q0, %q2)]-text)]%r%r---- Below this line are comments added by %N ----%r; &amp;mail-in-progress-subject %q0 = [setq(9, get(%q9/out-[u(get_src_num, %q0, %q2)]-subject))]switch(mid(%q9, 0, 4), Fwd:, %q9, Fwd:%b%b%q9); @pemit %# = You may now enter text to send along with the message to forward.[u(sig_msg)]; @no %q0}}}<br/>&amp;REPLY_COMMAND #13=$+reply*: @swi/first [setq(0, get(%vm/mailbox_%#))]1 = strmatch(%0, all*),,not(strmatch(type(%#), PLAYER)),{@pemit %# = u(not_player)},strmatch(escape(%0), *[*), {@pemit %# = u(nofunc)},eq(strlen(%q0), 0), {@pemit %# = u(nomail, ulocal(get_inbox, %#))},{@wait %q0 = {&amp;debug_mail %q0 = +reply%0; @swi/first [setq(1, u(get_folder_in_list, %q0))][setq(2, ulocal(expand_single_letter_range, trim(%0), %q1, u(get_folder_current_letter, %q0)))][setq(4, u(get_src_dbref, %q0, %q2))][setq(5, u(get_src_num, %q0, %q2))][setq(6, default(%q4/out-%q5-sender, get(%q4/owner_dbref)))]1 = strmatch(get(%q0/mail-in-progress), true),{@pemit %# = You are already in the middle of sending a message. You must complete that one before you reply to this one.; @no %q0},eq(words(%q1), 0), {@pemit %# = u(nomail, u(get_active_folder, %q0));@no %q0},strmatch(%q2, *ABORT*), {@pemit %# = after(before(%q2, ENDABORT), ABORT); @no %q0},eq(words(%q2), 0), {@pemit %# = u(no_match, +reply, ulocal(format_request, trim(%0)), u(get_active_folder, %q0)); @no %q0},not(strmatch(type(%q6), PLAYER)), {@pemit %# = Originator of letter [u(convert_nums, %q2, %q1)][ulocal(format_request, trim(%0))] in folder '[u(get_active_folder, %q0)]' is no longer a player.; @no %q0},{&amp;[u(which_current_letter, %q0)] %q0 = %q2;&amp;mail-in-progress %q0 = true; &amp;mail-in-progress-to %q0 = name(%q6); &amp;mail-in-progress-to-expanded %q0 = %q6; &amp;mail-in-progress-subject %q0 = [setq(3, get(%q4/out-%q5-subject))][setq(7, get(%q0/in-%q2-subject))]switch(words(%q7), 0, switch(mid(%q3, 0, 3), Re:, %q3, Re:%b%b%q3),%q7); @pemit %# = u(enter_msg)[u(sig_msg)]; @no %q0}}}<br/>&amp;REPLYALL_COMMAND #13=$+replyall*: @swi/first [setq(0, get(%vm/mailbox_%#))]1 = not(strmatch(type(%#), PLAYER)),{@pemit %# = u(not_player)},strmatch(escape(%0), *[*), {@pemit %# = u(nofunc)},eq(strlen(%q0), 0), {@pemit %# = u(nomail, ulocal(get_inbox, %#))},{@wait %q0 = {&amp;debug_mail %q0 = +replyall%0; @swi/first [setq(1, u(get_folder_in_list, %q0))][setq(2, ulocal(expand_single_letter_range, trim(%0), %q1, u(get_folder_current_letter, %q0)))][setq(4, u(get_src_dbref, %q0, %q2))][setq(5, u(get_src_num, %q0, %q2))]1 = strmatch(get(%q0/mail-in-progress), true),{@pemit %# = You are already in the middle of sending a message. You must complete that one before you reply to this one.; @no %q0},eq(words(%q1), 0),{@pemit %# = u(nomail, u(get_active_folder, %q0));@no %q0},strmatch(%q2, *ABORT*), {@pemit %# = after(before(%q2, ENDABORT), ABORT); @no %q0},eq(words(%q2), 0), {@pemit %# = u(no_match, +replyall, ulocal(format_request, trim(%0)), u(get_active_folder, %q0)); @no %q0},not(hasattr(%q4, out-%q5-replyall_to)), {@pemit %# = +replyall:%b%bUnable to perform this function on the specified letter[ulocal(format_request, trim(%0))] in folder '[u(get_active_folder, %q0)]'.;@no %q0},{&amp;[u(which_current_letter, %q0)] %q0 = %q2;&amp;mail-in-progress %q0 = true; &amp;mail-in-progress-to %q0 = u(pretty_dist, get(%q4/out-%q5-replyall_to)); &amp;mail-in-progress-to-expanded %q0 = get(%q4/out-%q5-replyall_to); &amp;mail-in-progress-subject %q0 = [setq(3, get(%q4/out-%q5-subject))][setq(7, get(%q0/in-%q2-subject))]switch(words(%q7),0,switch(mid(%q3, 0, 3),Re:,%q3,Re:%b%b%q3),%q7);@pemit %# = u(enter_msg)[u(sig_msg)]; @no %q0}}}<br/>&amp;SIG_MSG #17=[switch(or(strmatch(u(get_sig_name, %q0), default), strmatch(u(get_format_option, get(%#/mail_config_options)), compact)),1,,%rCurrent signature: [u(get_sig_name, %q0)])]<br/>&amp;DASH_COMMAND #13=$-*: @swi/first [setq(0, get(%vm/mailbox_%#))]1 = strmatch(%0, -),,not(strmatch(type(%#), PLAYER)),{@pemit %# = u(not_player)},eq(strlen(%q0), 0),{@pemit %# = u(not_writing_mail)},{@wait %q0 = {&amp;debug_mail %q0 = -%0; @swi/first [setq(4, get(%q0/mail-in-progress-body))]1 = strmatch(get(%q0/mail-in-progress), false),{@pemit %# = u(not_writing_mail); @no %q0},eq(words(escape(%0)), 0),{@pemit %# = Options:%r%r%b%b[ljust(-, 40)] ( show this help display )%r%b%b[ljust(-&lt;text&gt;, 40)] ( add text to the message )%r%b%b[ljust(+proof, 40)] ( proofread the message )%r%b%b[ljust(+send, 40)] ( send the message )%r%b%b[ljust(--, 40)] ( same as +send )%r%b%b[ljust(+toss, 40)] ( discard the message )%r%b%b[ljust(+include \[&lt;letter number or keyword&gt;\], 40)] ( include letter into text )%r%b%b[ljust(+cc &lt;list of people or aliases&gt;, 40)] ( set carbon copy list )%r%b%b[ljust(+bcc &lt;list of people or aliases&gt;, 40)] ( set blind carbon copy list )%r%r%b%b[ljust(+edit &lt;mail part&gt;=&lt;old&gt;/&lt;new&gt;, 40)] ( edit your message )%r%b%b%b%b(where mail part = to, cc, bcc, subject or text)%r%r%b%b[ljust(+set mail flag \[!\]&lt;flag&gt;, 40)] ( set or clear mail flag )%r%b%b%b%b(where flag = urgent, private, registered, or reply requested)%r%r%b%b[ljust(+sig %[&lt;signature name&gt;%],40)] ( select signature ); @no %q0},{&amp;mail-in-progress-body %q0 = u(clean_text, switch(words(%q4), 0, %0, %q4[u(get_separator_option, %#)]%0)); @pemit %# = [setq(1, u(size_of_mail_in_progress, %q0))][u(text_added_notification)][switch(gt(%q1, 4000), 1, %b%bWarning, message is [sub(4000, %q1)] characters too long and will be truncated.,)]; @no %q0}}}<br/>&amp;STORE_LETTER #17 = &amp;[setq(0, u(free_num, get(%0/out-list)))]out-%q0-time_sent %0 = time(); &amp;[setq(3, get(%0/owner_dbref))]out-%q0-subject %0 = %1; &amp;out-list %0 = [get(%0/out-list)] %q0; &amp;out-list-current %0 = switch(words(get(%0/out-list)), 1, %q0, get(%0/out-list-current)); &amp;out-%q0-to %0 = %2; &amp;out-%q0-cc %0 = %4; &amp;out-%q0-bcc %0 = %6; &amp;out-%q0-bcc-expanded %0 = %7; &amp;out-%q0-text %0 = %9[switch([setq(4, u(get_sig_text, %q3, u(get_sig_name, %0)))]strlen(%q4), 0,, %r%q4)]; &amp;out-%q0-replyall_to %0 = setunion(%q3 %3 %5, ); &amp;out-%q0-held %0 = [setq(8, setunion(iter(setunion(%3 %5 %7, ), ulocal(autoforward_test, ##)), ))]%q8; &amp;out-%q0-dist %0 = iter(%q8, ##:); @dolist %q8 = {@swi/first [setq(1, get(%vm/mailbox_##))][setq(9, u(folder_to_store_into, %q1, get(%0/owner_dbref), %1, ##, %2))]1 = and(strmatch(type(##), PLAYER), eq(strlen(%q1), 0)),{@create [name(##)]'s Mailbox; @set [setq(2, con(me))]%q2 = quiet; @drain %q2; &amp;debug_mail %q2 = store_letter; @tel %q2 = %vm; &amp;mailbox_## %vm = %q2; @tr %vm/add_mailbox = %q2; &amp;owner_dbref %q2 = ##; @startup %q2 = {@drain me; @no me}; @set %q2 = safe; &amp;mail-in-progress %q2 = false; &amp;current_folder %q2 = %q9; &amp;folder-list %q2 = %q9; &amp;in-list-%q9 %q2 = 0; &amp;current_letter-%q9 %q2 = 0; &amp;in-0-time_read %q2 = 0; &amp;in-0-flags %q2 = %8; &amp;in-0-note %q2 = ; &amp;in-0-location %q2 = %0 %q0; @edit %0/out-%q0-dist = ##:,##:0; @pemit ## = switch(%1, Personal Note,, {u(delivery_notification, %q3, sign(match(%8, u)),sign(match(%8, p)),sign(match(%8, rr)),sign(match(%8, r)), secure(%q9))}); @no %q2}, strmatch(type(##), PLAYER), {&amp;folder-list %q1 = setunion(%q9 [get(%q1/folder-list)], ); &amp;in-list-%q9 %q1 = [setq(6, u(free_num, u(get_all_in_lists, %q1)))][setq(7, get(%q1/in-list-%q9))]squish(%q7 %q6); &amp;current_letter-%q9 %q1 = switch(words(%q7), 0, %q6, get(%q1/current_letter-%q9)); &amp;in-%q6-time_read %q1 = 0; &amp;in-%q6-flags %q1 = %8; &amp;in-%q6-note %q1 = ; &amp;in-%q6-location %q1 = %0 %q0; @edit %0/out-%q0-dist = ##:,##:%q6; @pemit ## = switch(1, strmatch(%1, Personal Note),, hasattr(%q1, reject_msg),, {u(delivery_notification, %q3, sign(match(%8, u)),sign(match(%8, p)),sign(match(%8, rr)),sign(match(%8, r)), secure(%q9))}); @swi/first 1 = strmatch(%1, On Vacation),,strmatch(%1, Letter Rejected),,and(strmatch(%q9, null), hasattr(%q1, filter_reject)),{@tr me/remove_letter =%0, %q0, get(%q1/owner_dbref), %q1, %q6, %q9, discard;@tr me/store_letter =%q1,Letter Rejected,name(get(%0/owner_dbref)),get(%0/owner_dbref),,,,,,{Message with subject line "%1" has been rejected by [name(get(%0/owner_dbref))]'s mailbox.%r%r----- Reject Message -----%r%r[get(%q1/filter_reject)]}; @pemit ## = Discarded due to personal mail filter.},strmatch(%q9, null),{@tr me/remove_letter = %0, %q0, get(%q1/owner_dbref), %q1, %q6, %q9,discard; @pemit ## = Discarded due to personal mail filter. },hasattr(%q1, reject_msg), {@tr me/remove_letter = %0, %q0, get(%q1/owner_dbref), %q1, %q6, %q9,reject; @tr me/store_letter = %q1, Letter Rejected, name(get(%0/owner_dbref)), get(%0/owner_dbref), ,  , ,  , , {Message with subject line "%1" has been rejected by [name(get(%q1/owner_dbref))]'s mailbox.%r%r----- Reject Message -----%r%r[get(%q1/reject_msg)]}},hasattr(%q1, vacation), {@tr me/store_letter = %q1, On Vacation, name(get(%0/owner_dbref)), get(%0/owner_dbref), ,  , ,  , , {Message with subject line "%1" has been stored in [name(get(%q1/owner_dbref))]'s mailbox.%r%r----- Vacation Message -----%r%r[get(%q1/vacation)]}}}, {@pemit get(%0/owner_dbref) = Unable to deliver message.} }<br/>&amp;sig_cmd #13=$+sig*:@switch pos(%b,%0):[pos(/,%0)]=#-1:#-1,{@switch/first strmatch(type(%#),player):[setq(0,get(%vm/mailbox_%#))]%q0=0:*,{@pemit %#=u(not_player)},*:,{@pemit %#=You don't have a mailbox.},{@wait %q0={@switch strlen(get(%q0/SIG-CURRENT)):[strlen(get(%q0/SIG-LIST))]=0:*,{&amp;sig-current %q0=default},*:0,{&amp;sig-list %q0=default};@wait %q0={@pemit %#=[repeat(=,78)]%r%r[center(+Mail Signatures,78)]%r%rSignature list: [get(%q0/SIG-LIST)]%rCurrent signature: [setq(1,get(%q0/SIG-CURRENT))]%q1%rSignature Text:%r%r**%r[get(%#/MAIL_SIG[switch(%q1,default,,,,_%q1)])]%r**%r[repeat(=,78)];@no %q0};@no %q0}}}<br/>&amp;sig_select_cmd #13=$+sig *:@switch/first strmatch(type(%#),player):[setq(0,get(%vm/mailbox_%#))]%q0=0:*,{@pemit %#=u(not_player)},*:,{@pemit %#=You don't have a mailbox.},{@wait %q0={@switch strlen(get(%q0/SIG-CURRENT)):[strlen(get(%q0/SIG-LIST))]=0:*,{&amp;sig-current %q0=default},*:0,{&amp;SIG-LIST %q0=default};@wait %q0={@switch/first neq(words(%0,),1):[switch(matchall(get(%q0/SIG-LIST),%0*),,0,* *,-1,1)]=1:*,{@pemit %#=Invalid signature name.},*:0,{@pemit %#=You don't have a signature named '%0'.},*:-1,{@pemit %#=Ambiguous signature name. Please be more specific.},{&amp;SIG-CURRENT [setq(1,extract(get(%q0/SIG-LIST),match(get(%q0/SIG-LIST),%0*),1))]%q0=%q1;@pemit %#=Signature '%q1' selected.[switch(get(%#/MAIL_SIG[switch(%q1,default,,,,_%q1)]),,%rWARNING: Your [ucstr(MAIL_SIG[switch(%q1,default,,,,_%q1)])] attribute is blank.)]};@no %q0};@no %q0}}<br/>&amp;sig_add_cmd #13=$+sig/add *:@switch/first strmatch(type(%#),player):[setq(0,get(%vm/mailbox_%#))]%q0=0:*,{@pemit %#=u(not_player)},*:,{@pemit %#=You don't have a mailbox.},{@wait %q0={@switch strlen(get(%q0/SIG-CURRENT)):[strlen(get(%q0/SIG-LIST))]=0:*,{&amp;sig-current %q0=default},*:0,{&amp;SIG-LIST %q0=default};@wait %q0={@switch/first neq(words(%0,),1):[eq(match(get(%q0/SIG-LIST),%0),0)]=1:*,{@pemit %#=Invalid signature name.},*:0,{@pemit %#=You already have a signature named '[lcstr(%0)]'.},{&amp;SIG-CURRENT %q0=lcstr(%0);&amp;SIG-LIST %q0=setunion(get(%q0/SIG-LIST),lcstr(%0));@pemit %#=Signature '[lcstr(%0)]' added and selected.[switch(strlen(u(get_sig_text,%#,%0)),0,%rWARNING: Your [ucstr(MAIL_SIG_%0)] attribute is blank.)]};@no %q0};@no %q0}}<br/>&amp;sig_del_cmd #13=$+sig/del *:@switch/first strmatch(type(%#),player):[setq(0,get(%vm/mailbox_%#))]%q0=0:*,{@pemit %#=u(not_player)},*:,{@pemit %#=You don't have a mailbox.},{@wait %q0={@switch strlen(get(%q0/SIG-CURRENT)):[strlen(get(%q0/SIG-LIST))]=0:*,{&amp;sig-current %q0=default},*:0,{&amp;SIG-LIST %q0=default};@wait %q0={@switch/first neq(words(%0,),1):[match(get(%q0/SIG-LIST),%0)]:[strmatch(%0,default)]=1:*:*,{@pemit %#=Invalid signature name.},*:0:*,{@pemit %#=You don't have a signature named '[lcstr(%0)]'.},*:*:1,{@pemit %#=You cannot remove the default signature.},{&amp;SIG-LIST %q0=setdiff(get(%q0/SIG-LIST),lcstr(%0));@pemit %#=Signature '[lcstr(%0)]' removed.;@switch get(%q0/SIG-CURRENT)=%0,{&amp;SIG-CURRENT %q0=default;@pemit %#=Signature 'default' selected.[switch(get(%#/MAIL_SIG),,%rWARNING: Your MAIL_SIG attribute is blank.)]}};@no %q0};@no %q0}}<br/>&amp;sig_view_cmd #13=$+sig/view *:@switch/first strmatch(type(%#),player):[setq(0,get(%vm/mailbox_%#))]%q0=0:*,{@pemit %#=u(not_player)},*:,{@pemit %#=You don't have a mailbox.},{@wait %q0={@switch strlen(get(%q0/SIG-CURRENT)):[strlen(get(%q0/SIG-LIST))]=0:*,{&amp;sig-current %q0=default},*:0,{&amp;sig-list %q0=default};@wait %q0={@switch/first neq(words(%0,),1):[match(get(%q0/SIG-LIST),%0)]=1:*,{@pemit %#=Invalid signature name.},*:0,{@pemit %#=You don't have a signature named '[lcstr(%0)]'.},{@pemit %#=Signature '[lcstr(%0)]' text:%r**%r[u(get_sig_text,%#,%0)]%r**};@no %q0};@no %q0}}<br/>&amp;help_mail #22=+mail is a global mail system.%b The help topics available are:%r%r%t[ljust(Mail Admin, 19)][ljust(Mail Aliases, 19)][ljust(Mail Credits, 19)]%r%t[ljust(Mail Deleting, 19)][ljust(Mail Editing, 19)][ljust(Mail Filters, 19)]%r%t[ljust(Mail Flags, 19)][ljust(Mail Folders, 19)][ljust(Mail Forwarding, 19)]%r%t[ljust(Mail Keywords, 19)][ljust(Mail Marking, 19)][ljust(Mail Notes, 19)]%r%t[ljust(Mail Options, 19)][ljust(Mail Reading, 19)][ljust(Mail Replying, 19)]%r%t[ljust(Mail Reviewing, 19)][ljust(Mail Saving, 19)][ljust(Mail Sending, 19)]%r%t[ljust(Mail Functions, 19)][ljust(Mail Signatures, 19)]Mail Changes%r%tMail Replace Subject<br/>&amp;help_mail_signatures #22=[mudname()] supports a multiple signature system, in addition to the BrandyMail single signature.%r%rEach player can have a set of signatures, identified by single-word names. The text for the signature is stored in the player's MAIL_SIG_&lt;signature&gt; attribute, UNLESS it is the default signature, which is stored in the player's MAIL_SIG attribute.%r%rA message is displayed when a player begins writing a +mail. A new 'Sig:' field is also shown in a +proof. Neither of these messages are shown if the player's signature is set to 'default' (ie. it acts normally for the normal signature) or if the player's FORMAT mail option is set to 'compact'.%r%rCommands:%r%r[ljust(+sig,20)]View a list of your signatures and the current one's text.%r[ljust(+sig &lt;sig&gt;,20)]Select &lt;sig&gt; as your signature. (Partial names allowed)%r[ljust(+sig/view &lt;sig&gt;,20)]View the signature text for signature &lt;sig&gt;.%r[ljust(+sig/add &lt;name&gt;,20)]Add a signature named &lt;name&gt;.%r[ljust(+sig/del &lt;name&gt;,20)]Delete signature &lt;name&gt;. Note that you cannot delete the%r[space(20)]default signature.%r%rSee also: mail options<br/>&amp;help_mail_options #22=\(Page 1 of 2\)%r%rUser configurable options:%r%r+set mail option delete=hard | soft%r+set mail option format=standard | compact %r+set mail option autoforward=&lt;list of people and/or mail aliases&gt;%r+set mail option separator=space | return %r+set mail option inbox=&lt;folder name&gt;%r+set mail option vacation=&lt;text&gt;%r+set mail option reject=&lt;text&gt;%r+set mail option filter reject=&lt;text&gt;%r+show mail options%r%rUsers that wish to have a .signature automatically included at the end of their +mail messages, should set whatever text they want into an attribute called MAIL_SIG on themselves. Keep in mind that whatever text is used in your MAIL_SIG will impact how much you can send in the normal body of aletter. %r%rExample: &amp;MAIL_SIG me=--%%rObligatory cute .sig here%r%rSee also: mail options2, mail signatures<br/><br/>
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>