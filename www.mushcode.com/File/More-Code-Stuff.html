<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: More Code Stuff</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="More-Code-Stuff.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="More-Code-Stuff.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="More-Code-Stuff.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="More-Code-Stuff.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="More-Code-Stuff.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="More-Code-Stuff.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Softcode.html">Softcode</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="More-Code-Stuff.html#">More Code Stuff</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            More Code Stuff
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>A continuation of concepts introduced in Code Basics lecture.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Trispis@M-U-S-H.html">Trispis</a>@<a href="../Source/M-U-S-H.html">M*U*S*H</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Softcode.html">Softcode</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="../Command/@remit.html" class="command">@remit</a>,
                    <a href="http://www.mushcode.com/Command/@switch" class="command">@switch</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/aposs.html" class="function">aposs&#40;&#41;</a>,
                        <a href="../Function/escape.html" class="function">escape&#40;&#41;</a>,
                        <a href="../Function/flags.html" class="function">flags&#40;&#41;</a>,
                        <a href="../Function/fullname.html" class="function">fullname&#40;&#41;</a>,
                        <a href="../Function/hasflag.html" class="function">hasflag&#40;&#41;</a>,
                        <a href="../Function/hastype.html" class="function">hastype&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/lcon.html" class="function">lcon&#40;&#41;</a>,
                        <a href="../Function/loc.html" class="function">loc&#40;&#41;</a>,
                        <a href="../Function/map.html" class="function">map&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/obj.html" class="function">obj&#40;&#41;</a>,
                        <a href="../Function/pemit.html" class="function">pemit&#40;&#41;</a>,
                        <a href="../Function/poss.html" class="function">poss&#40;&#41;</a>,
                        <a href="../Function/r.html" class="function">r&#40;&#41;</a>,
                        <a href="../Function/remit.html" class="function">remit&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/strlen.html" class="function">strlen&#40;&#41;</a>,
                        <a href="../Function/subj.html" class="function">subj&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/type.html" class="function">type&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>


<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for More Code Stuff
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="More-Code-Stuff.html#">
                    <i class="icon-resize-full"></i> Select Content
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        Topic: More Code Stuff<br/>Author: Trispis<br/>Summary: A continuation of concepts introduced in Code Bascis lecture.<br/><br/>9/13/97<br/><br/>Trispis says, "In the last class, we learned to navigate the PennMUSH help<br/>files. We also learned to create basic user-defined commands ($commands)."<br/><br/>Trispis says, "For the most part, we only covered the use of @commands in our<br/>code. Today, we're going to expand our skills to include functions."<br/><br/>Trispis says, "In our lab project we created a 'waver'... a user command,<br/>$wave, which used the @force command to force you, the user, to do - :waves<br/>[blah, blah, blah]."<br/><br/>Trispis says, "Today, we're going to write a new version of that command using<br/>a different approach."<br/><br/>Trispis says, "First, let's look at the command we'll be using. Read: help<br/>@remit"<br/><br/>@REMIT<br/>  @remit[/noeval] &lt;object&gt; = &lt;message&gt;.<br/><br/>  Sends the message to all contents of &lt;object&gt;, which can be a room,<br/>  thing, or player. (The TinyMUSH 2.0 equivalent is @pemit/contents).<br/>  The /noeval switch prevents the MUSH from evaluating the message.<br/><br/>  See also @emit, @pemit, @oemit, SPOOFING, NOSPOOF and CONTROL.<br/><br/>Trispis says, "Note, first, the syntax... It has an optional parameter:<br/>[/noeval]"<br/><br/>Trispis says, "We'll discuss this in a few minutes... let's move along to the<br/>rest of the syntax... It requires an &lt;object&gt; and a &lt;message&gt;."<br/><br/>Trispis says, "The &lt;object&gt; is the location where the &lt;message&gt; will be<br/>displayed."<br/><br/>Trispis says, "This command (@remit), like all @commands, can be directly<br/>entered from your keyboard... or it can be placed in a user-defined command<br/>(like your $wave command)."<br/><br/>Trispis says, "Okay... that's a basic overview of the @remit syntax... We'll<br/>be putting this to use in a moment, but we have a few more things to look at<br/>first."<br/><br/>Trispis says, "One of the other things we did in the last class was to create<br/>a PennMUSH Quick Reference List for the help files."<br/><br/>Trispis says, "Today, we're going to add one more thing to that list."<br/><br/>Trispis says, "This isn't a 'help file', though. ... However, it /is/ a list<br/>of help topics."<br/><br/>Trispis says, "Type: @config/functions"<br/><br/>Functions: ABS ADD AFTER ALPHAMAX ALPHAMIN AND ANDFLAGS ANSI APOSS ART ATRLOCK<br/>BEEP BEFORE CAPSTR CAT CEMIT CENTER CHANNELS CLONE COMP CON CONN CONTROLS<br/>CONVSECS CONVTIME CREATE CTIME CWHO DEC DECRYPT DEFAULT DELETE DIE DIG DIST2D<br/>DIST3D DIV DOING EDEFAULT EDIT ELEMENT ELEMENTS ELOCK EMIT ENCRYPT ENTRANCES<br/>EQ EVAL ESCAPE EXIT EXTRACT FILTER FINDABLE FIRST FLAGS FLIP FOLD FOLDERSTATS<br/>FOREACH FUNCTIONS FULLNAME GET GET_EVAL GRAB GRABALL GREP GREPI GT GTE HASATTR<br/>HASATTRP HASATTRPVAL HASATTRVAL HASFLAG HASPOWER HASTYPE HIDDEN HOME IDLE<br/>IDLESECS INC INDEX INSERT ISDAYLIGHT ISDBREF ISNUM ISWORD ITER ITEMS LAST<br/>LATTR LCON LCSTR LDELETE LEFT LEMIT LEXITS LINK LIT LJUST LNUM LOC LOCATE LOCK<br/>LPARENT LSEARCH LSEARCHR LSTATS LT LTE LWHO MAIL MAILFROM MAILSTATUS<br/>MAILSUBJECT MAILTIME MAP MATCH MATCHALL MAX MEMBER MERGE MID MIN MIX MOD MONEY<br/>MTIME MUDNAME MUL MUNGE MWHO NAME NEARBY NEQ NEXT NOT NUM OBJ OBJEVAL OBJMEM<br/>OEMIT OPEN OR ORFLAGS OWNER PARENT PARSE PEMIT PLAYERMEM PMATCH POLL PORTS POS<br/>POSS POWERS R RAND REMIT REMOVE REPEAT REPLACE REST REVERSE REVWORDS RIGHT<br/>RJUST RLOC RNUM ROOM S SCRAMBLE SEARCH SECS SECURE SET SETQ SETR SETDIFF<br/>SETINTER SETUNION SHL SHR SHUFFLE SIGN SORT SORTBY SOUNDEX SOUNDLIKE<br/>SOUNDSLIKE SPACE SPLICE SQUISH STARTTIME STATS STRCAT STRIPANSI STRLEN<br/>STRMATCH SUB SUBJ SWITCH T TABLE TEL TIME TIMESTRING TRIM TRUNC TYPE UCSTR<br/>UDEFAULT UFUN ULOCAL U V VAL VALID VERSION VISIBLE WHERE WIPE WORDPOS WORDS<br/>XGET XOR ZEMIT ZFUN ZONE VADD VSUB VMUL VDOT VMAG VDIM VUNIT ACOS ASIN ATAN<br/>CEIL COS E EXP FDIV FLOOR LOG LN PI POWER ROUND SIN SQRT TAN<br/><br/>Trispis says, "Those are all of the standard PennMUSH functions."<br/><br/>Trispis says, "A great many of them, as you will soon see, are duplicates of<br/>@commands."<br/><br/>Trispis says, "The first one we want to look at is the 'loc' function..."<br/><br/>Trispis says, "The proper way to get help on a function is to type: help<br/>&lt;function-name&gt;()."<br/><br/>Trispis says, "Example: help loc()"<br/><br/>Trispis says, "Note the parentheses."<br/><br/>Trispis says, "They are necessary on some of these help files, so get into the<br/>habit of using them on /all/ function help files."<br/><br/>Trispis says, "Type: help loc()"<br/><br/>LOC()<br/>  loc(&lt;object&gt;)<br/><br/>  Loc returns the dbref of the location that object is at.  The<br/>  object has to either be yours or be in the same room as you to<br/>  work. The location of an exit is its destination (the source of<br/>  an exit is its home). The location of a room is its drop-to<br/>  (if one is not set, then the location is #-1).<br/><br/>Trispis says, "Note the syntax... Nothing optional. Only one thing is needed,<br/>and that is the &lt;object&gt;."<br/><br/>Trispis says, "It returns the #dbref of the location of the &lt;object&gt;."<br/><br/>Trispis says, "Example: loc(me) would return #233 (this room, my location)."<br/><br/>You say, "It doesn't work."<br/><br/>Trispis says, "Good point."<br/><br/>Yosh says, "#233"<br/><br/>Yosh says, "works for me :)"<br/><br/>You say, "Then what am I doing wrong?"<br/><br/>Trispis says, "Hang on."<br/><br/>Trispis will explain.<br/><br/>Calico hangs. :)<br/><br/>Trispis says, "functions, unlike @commands, cannot be issued directly (don't<br/>jump to hasty conclusions, there's more to it)."<br/><br/>Trispis says, "Remember in the 'help @remit', there was an optional parameter<br/>called [/noeval]... this 'switch' means "don't evaluate functions or<br/>substitutions" ... A function is intended for evaluation, and must be placed<br/>into a command that allows evaluation... There are a number of ways to achieve<br/>this result..."<br/><br/>Trispis says, "One way is to 'say' the function (which is what Yosh did), the<br/>other way is to 'think' it."<br/><br/>Trispis says, "So, you can do either of these two things...<br/><br/>a) "loc(me)<br/><br/>or<br/><br/>b) think loc(me)<br/>"<br/><br/>#233<br/><br/>You say, "Ah. (:"<br/><br/>Trispis says, "Although those are not the only ways, they are probably the<br/>most common."<br/><br/>Trispis says, "Saying is noisy (to others). 'think'ing is private (only you<br/>see it)."<br/><br/>Trispis says, "Okay. Having cleared that up, I have one more thing to add to<br/>your quick reference list..."<br/><br/>Morpheus says, "I did it via page to myself to test it"<br/><br/>Trispis says, "Two very useful help files are 'help substitutions' and 'help<br/>substitutions2'"<br/><br/>Trispis says, "Add these to your list."<br/><br/>Trispis says, "The file we want to concern ourselves with at this time is the<br/>second.. read: help substitutions2"<br/><br/>Trispis says, "A couple things worty of note about this list of substitutions<br/>(heretofore referred to as %-subs)."<br/><br/>SUBSTITUTIONS2<br/><br/>  Other substitutions, such as %va-%vz, %wa-%wz, %xa-%xz, and %0-%9<br/>  may also be used and are equivalent to v(?) (See V-FUNCTIONS)<br/>  where ? is a-z or 0-9. In these substitutions and pronoun substituions,<br/>  if the first letter of the name is capitalized, the first letter of<br/>  the substitution will also be capitalized.<br/><br/>  Other possible substitutions are:<br/>  %# (player number) = #&lt;actor's number&gt;. Equivalent to num(%N)<br/>  %@ (caller number) = #&lt;caller's number&gt;. No equivalent. Initially<br/>     equal to %#, but changes when things like u() are called.<br/>  %! (object number) = #&lt;message holder's number&gt;. Equivalent to num(me)<br/>  %l (location number) = #&lt;actor's location&gt;. Like loc(%N).  This<br/>     works even if the LOC() function would normally not, since the<br/>     enactor has "volunteered" his location by triggering another object.<br/>  %c = text of last command, _before_ evaluation.<br/>  %r (newline) = Carriage return and newline in output. Note that this<br/>     counts as two characters, in functions like strlen().  (puts "\r\n")<br/>  %t (tab) = Tab character in output.<br/>  %b (blank) = Space in output.<br/>  %qN = the equivalent of r(N), a register set by a setq() function.<br/><br/>Trispis says, "The first one, %#. This %-sub refers to the player or thing<br/>activating the code (the 'actor'), and always evaluates to the actor's<br/>#dbref."<br/><br/>Trispis says, "The fourth one, %l. This one refers to the actor's location.<br/>Note that they say it is the same as loc(%N). For the moment, pretend this is<br/>a typo and that it should have said 'loc(%#)'."<br/><br/>Trispis says, "Now, I'll clear that up."<br/><br/>Trispis says, "Read: help substitutions (the first file)"<br/><br/>SUBSTITUTIONS<br/>  SUBSTITUTIONS<br/><br/>  All messages may contain %-substitutions. Some common ones return<br/>  pronouns if the player's gender is set. They are:<br/>     %s (subjective) = Name, he, she, it, they.<br/>     %o (objective) = Name, him, her, it, them.<br/>     %p (possessive) = Name's, his, her, its, their.<br/>     %a (absolute possessive) = Name's, his, hers, its, theirs.<br/>     %N (player's name) = Name.<br/>  If you need a '%', use %%. Case matters; for example, "%S" returns "His",<br/>  "%s" returns "his".<br/>  Ex. '@ofail teapot=burns %p hand on the hot teapot.'	would, for a male,<br/>  return "burns his hand on the hot teapot."<br/><br/>  HALTed objects do not perform substitutions.<br/><br/>  More substitutions are listed in "help SUBSTITUTIONS2".<br/>  See also subj(), obj(), poss(), aposs()<br/><br/>Trispis says, "This is a list of personal substitutions (pronouns, names,<br/>etc.)"<br/><br/>Trispis says, "That's where they got %N."<br/><br/>Trispis says, "There's another function worthy of mention at this time (just<br/>to confuse the issue further)... and that is 'name()'. read: help name()"<br/><br/>NAME()<br/>  name(&lt;object&gt;[,&lt;new name&gt;])<br/><br/>  Name returns the name of object &lt;object&gt;. For exits, name returns<br/>  the displayed name of the exit.<br/><br/>  If function side effects are allowed, this function, given two arguments,<br/>  will rename &lt;object&gt; to &lt;new name&gt;.<br/><br/>  Related functions: FULLNAME()<br/><br/>Trispis says, "Note this one has an optional parameter and can be used to<br/>rename an object (like the @name command). However, it's greatest use is to<br/>return the name of a #dbref... THUS... name(%#) is the same as %N."<br/><br/>Trispis says, "In code, %# and %N can often be used interchangably...<br/>however... if you don't need the 'name', it is best to use %# (the #dbref) of<br/>the actor."<br/><br/>Trispis says, "Okay... Let's go back to @remit and start putting some of these<br/>things together..."<br/><br/>Trispis says, "We're going to add a new $command to our lab project. It will<br/>achieve basically the same results as our old command, but will use a<br/>different set of code."<br/><br/>Trispis says, "Um... Hang on one second... Before we do that, let me summarize<br/>the %-subs we discussed..."<br/><br/>Trispis says, "%# = &lt;actor&gt;"<br/><br/>Trispis says, "%N = name(%#)"<br/><br/>Trispis says, "And... %l = loc(%N) = loc(%#)"<br/><br/>Trispis says, "Now, here's our new 'wave' using @remit written in several<br/>forms. You may choose the one you like the best. They all do the same thing...<br/><br/>&amp;wave2 #&lt;lab proj&gt;=$wave2 *:@remit %l=%N waves to %0.<br/><br/>&amp;wave2 #&lt;lab proj&gt;=$wave2 *:@remit [loc(%#)]=[name(%#)] waves to %0.<br/><br/>&amp;wave2 #&lt;lab proj&gt;=$wave2 *:@remit [loc(%N)]=%N waves to %0.<br/>"<br/><br/>Trispis says, "Those all do the exact same thing."<br/><br/>Trispis says, "The first form is probably the most efficient."<br/><br/>Trispis says, "Now for another twist to this, let's learn a new function and<br/>rewrite this..."<br/><br/>Trispis says, "read: help remit()"<br/><br/>REMIT()<br/>  remit(&lt;object&gt;, &lt;message&gt;)<br/><br/>  Sends a message to the contents of &lt;object&gt;, as per @remit.<br/><br/>Trispis says, "Remember that huge list of functions in '@config/functions'?<br/>Well, 'remit' was listed there... It is one of the many functions which<br/>duplicates a @command."<br/><br/>Trispis says, "remit() and @remit are identical... at least in their purpose."<br/><br/>Trispis says, "Note, however, that the syntax for the function form differs in<br/>that all of the 'stuff' is enclosed in parentheses: remit(&lt;obj&gt;,&lt;msg&gt;)"<br/><br/>Trispis says, "This is the way of functions (and that's why I emphasized the<br/>use of the parentheses when calling up the help files). functions all work in<br/>this way... their name, followed by some stuff in parentheses."<br/><br/>Trispis says, "What about those square brackets I used in the 'wave2'<br/>examples?"<br/><br/>You say, "So it would look like remit(&lt;#lab project&gt;,#233=Calico waves to )"<br/><br/>Trispis says, "Square brackets are a good habit to get into when using<br/>functions... the opening brace comes before the function name, and the closing<br/>brace comes after the closing parenthesis."<br/><br/>Trispis says, "Um... no."<br/><br/>You say, "No?"<br/><br/>You say, "It didn't quite come out right."<br/><br/>Trispis says, "Here's how the wave2 will look when you use the function<br/>form...<br/><br/>&amp;wave2 #&lt;lab proj&gt;=$wave2 *:think [remit(%l,%N waves to %0.)]<br/>"<br/>You say, "Oh.."<br/><br/>You say, "Okay."<br/><br/>[IMPORTANT NOTE: Please take notice that this example begins the "code"<br/>portion of this user-defined command with the MUSH command 'think' -- All<br/>user-defined commands MUST begin with a command (in this case 'think', in<br/>previous examples: @remit, @force, @pemit, etc.).<br/><br/>The object above executes a 'think' command to prevent the parser from<br/>searching for a bogus command and, thus, returning an error message. Although<br/>the PennMUSH parser will succeed in evaluating the remit() without the 'think'<br/>command, it is invalid syntax -- and very sloppy form -- to leave it out.<br/>'think' can be abbreviated to 'th' in PennMUSH (but 'th' is the alias for<br/>'throw' in some servers, so be careful when using the shortened form).]<br/><br/>Trispis says, "One little note about function &lt;message&gt;s."<br/><br/>Trispis says, "When placing text into a function, you must watch your commas,<br/>colons, and semicolons very carefully (there are others to watch, too. I'll<br/>give you the file with the whole list soon. These are just the most common<br/>trouble makers, because they are used commonly in text). Since commas, colons,<br/>and semicolons can all have meaning to a function (to separate the various<br/>elements of its 'stuff'), any one of these symbols that you want to include as<br/>part of your text MUST be 'escaped' ... To 'escape' a symbol simply means to<br/>turn it into a 'literal text symbol'... To do this, you precede the symbol<br/>with either a % or a \."<br/><br/>Trispis says, "So..."<br/><br/>Trispis says, "If you wanted your wave to do this...<br/><br/>Trispis waves to Joe and says, "Hi." (&lt;-- note the comma)<br/><br/>You would have to enter your command as follows...<br/><br/>&amp;wave2 #&lt;lab proj&gt;=$wave2 *:think [remit(%l,%N waves to %0 and says\, "Hi.")]<br/>"<br/><br/>Trispis says, "If you don't 'escape' the comma, you'll get an error message<br/>telling you that 'remit() expects two arguments' (meaning two things separated<br/>by /one/ comma)." READ: help escape() for a list of 'dangerous characters'<br/><br/>Cleomine nods.<br/><br/>Trispis says, "We're now to the midpoint of today's class... I'm going to take<br/>a 15 minute break to get something to eat... Before I go, though, I'm going to<br/>assign some reading for this interim period... Type: @config/functions and<br/>read down through them and notice how many of them are similar to @commands<br/>(like: @remit=remit, @name=name, @pemit=pemit, @emit=emit, etc., etc.,<br/>etc.,)."<br/><br/>Trispis says, "This is where I'll pick up when I return."<br/><br/>Trispis idles for about 10-15 min.<br/><br/>Trispis returns and proceeds.<br/><br/>Trispis says, "In the interim, you should have noticed a great number of<br/>functions that are basically duplicates of @commands."<br/><br/>Trispis says, "Why is this?"<br/><br/>Trispis says, "Well, that's because you can't put a @command inside of a<br/>function."<br/><br/>Trispis says, "But, you /can/ put a function inside of a function. (:"<br/><br/>Trispis introduces a new function called 'switch()'.<br/><br/>Trispis says, "Read: help switch()"<br/><br/>SWITCH()<br/>  switch(&lt;string&gt;, &lt;expr1&gt;, &lt;list1&gt;, [&lt;exprN&gt;, &lt;listN&gt;], ...[&lt;default&gt;])<br/><br/>  This function matches &lt;string&gt; against the &lt;expr&gt;essions, returning the<br/>  corresponding &lt;list&gt;. If nothing is matched, the &lt;default&gt; is returned.<br/>  This is similar to @switch/first, but instead of executing the list,<br/>  it simply returns it. Wildcard patterns are allowed. There may be<br/>  a maximum of ten arguments total to the function.<br/><br/>  If the string "#$" appears in the &lt;list&gt; to be executed, it will be<br/>  replaced with the evaluated value of &lt;string&gt; before execution.<br/><br/>  Example:<br/>    &gt; say switch(test, *a*, foo, *b*, bar, *t*, neat, baz)<br/>    You say, "neat"<br/>    &gt; say switch(ack, *a*, foo, *b*, bar, *t*, neat, baz)<br/>    You say, "foo"<br/>    &gt; say switch(moof, *a*, foo, *b*, bar, *t*, neat, baz)<br/>    You say, "baz"<br/>    &gt; say switch(moof, *a*, foo, *b*, bar, *t*, neat, #$)<br/>    You say, "moof"<br/><br/>Trispis says, "switch() is probably one of the most used and abused functions<br/>in all of MUSHcode."<br/><br/>Trispis says, "It is basically a duplicate of @switch/first (that is, @switch<br/>with the /first option included)."<br/><br/>@SWITCH<br/>  @switch [/&lt;switch&gt;] &lt;string&gt; = &lt;expr1&gt;, &lt;action1&gt; [,&lt;exprN&gt;,<br/>				 &lt;actionN&gt;]... [,&lt;default&gt;]<br/>  This is a general control structure which can be thought of as a<br/>  combination if/then/else and switch/case. It compares &lt;string&gt; against<br/>  the expressions &lt;expr1&gt;, &lt;expr2&gt;, ..., &lt;exprN&gt; until a match is found.<br/>  It then performs the associated action list. It matches all expressions<br/>  which conform to the string pattern, and executes all the associated<br/>  actions. (To match only the first, use "@select"). If no match is found,<br/>  the &lt;default&gt; is executed. Wildcards and the &lt; and &gt; operators are<br/>  allowed in the targets.<br/>  This is the default. @switch also can take two switches, /all and<br/>  /first. The default is /all; /first is equivalent to @select.<br/>  Example:<br/>    &gt; @va thing = $foo *:@switch %0=*a*,:acks,*b*,:bars,*c*,:cheeps,:glurps<br/>    &gt; foo abc<br/>    thing acks<br/>    thing bars<br/>    thing cheeps<br/>    &gt; foo xxx<br/>    thing glurps<br/>  The string "#$" in &lt;action&gt;'s will be expanded to the evaluated result<br/>  of &lt;string&gt; before it is acted on.<br/><br/>Trispis says, "In the @switch command, you other @commands (like @remit) for<br/>the action portions... but, if you're using the switch() function, you have to<br/>use functions, such as remit(), for the corresponding expressions, to be able<br/>to do the same thing."<br/><br/>Trispis says, "Now... just a point to note... functions evaluate slightly<br/>faster than @commands when they run through the parser. This is due to the<br/>fact that PennMUSH is basically a list processing language. Each @command is<br/>placed sequentially into the queue and processed in its turn. Functions,<br/>however, can be placed end-to-end and processed in a *single* queue cycle,<br/>making them run slightly faster than their @command counterparts.<br/><br/>Trispis says, "This doesn't mean you can't make good code with @commands, it<br/>just means your code will be slightly faster or 'seem more responsive' if<br/>written using functions. And, it is often touted that functions are a 'more<br/>luxurious' way of coding than @commands."<br/><br/>Trispis says, "So... let's look at switch()."<br/><br/>Trispis says, "Making the jump from @remit to @switch, or from remit() to<br/>switch(), is a huge leap in both syntax and in your thinking process."<br/><br/>Trispis says, "@switch and switch() aren't straight-forward 'do this' types of<br/>processes (like remit: emit &lt;object&gt; this &lt;message&gt;). switch says something<br/>like this... Take a &lt;string&gt; (any string, even one that depends on some<br/>code)... and compare it to something else (possibly many things)... and the<br/>first 'match' you come to, do the next thing (something like that)."<br/><br/>Trispis says, "Here's a better illustration (I hope)..."<br/><br/>Trispis says, "Example: I want to make sure that when I use my waver on<br/>someone, that they are actually in the same location as me... so the 'check'<br/>for this would be to take my location and if their location matches mine, then<br/>do the 'wave'... like this:<br/><br/>In @command form, this would be:<br/><br/>&amp;wave3 #&lt;labproj&gt;=$wave3 *:@switch loc(%0)=loc(me),@remit %l=%N waves to %0.<br/><br/>In function form, this would be:<br/><br/>&amp;wave3 #&lt;lp&gt;=$wave3 *:think [switch(loc(%0),loc(me),remit(%l,%N waves to<br/>%0.))]<br/>"<br/><br/>Trispis says, "This will also work if the two 'loc()'s' are reversed... since<br/>it is only checking the one match...<br/><br/>In @command form:<br/><br/>&amp;wave3 #&lt;lp&gt;=$wave3 *:@switch loc(me)=loc(%0),@remit %l=%N waves to %0.<br/><br/>In function form:<br/><br/>&amp;wave3 #&lt;lp&gt;=$wave3 *:th [switch(loc(me),loc(%0),remit(%l,%N waves to %0.))]<br/>"<br/><br/><br/>Trispis says, "@switch and switch() also offer the option of a 'default'<br/>action... in case there is no match... which could be something like this...<br/><br/>In @command form:<br/><br/>&amp;wave3 #&lt;lp&gt;=$wave3 *:@switch loc(me)=loc(%0),@remit %l=%N waves to %0.,@pemit<br/>%#=%0 is not here.<br/><br/>In function form:<br/><br/>&amp;wave3 #&lt;lp&gt;=$wave3 *:think [switch(loc(me),loc(%0),remit(%l,%N waves to<br/>%0.),pemit(%#,%0 is not here.))]<br/>"<br/><br/>Trispis says, "A breakdown of the syntax is:<br/><br/>For @switch:<br/><br/>@switch &lt;match to this&gt;=&lt;option1&gt;,&lt;action for option1&gt;[,&lt;opt2&gt;,&lt;action for<br/>opt2&gt;[,&lt;opt-etc&gt;,&lt;action for opt-etc&gt;]][,&lt;default if no opts match&gt;]<br/><br/>switch(&lt;match this&gt;,&lt;opt1&gt;,&lt;action for opt1&gt;[,&lt;opt2&gt;,&lt;action for<br/>opt2&gt;[,&lt;etc-option&gt;,&lt;action for etc-option&gt;]][,&lt;default if nothing is<br/>matched&gt;])<br/>"<br/><br/>Trispis says, "@switch and switch() only require /one option/ and /one<br/>action/... everything else (additional options and the default) is optional."<br/><br/>You say, "Why use it if you only have /one option/?"<br/><br/>Trispis says, "It's often used to confirm operations (as my last example for<br/>the waver illustrated... using the 'default' to let you know that the single<br/>condition was not matched. Or... If you don't want the default notification,<br/>it can be used somewhat like an additional 'lock' on an object... Example to<br/>follow."<br/><br/>Trispis says, "Let's say you want to make sure that an object (your waver, for<br/>instance) can only be used by players... and you don't care if puppets or<br/>other objects get an error message or not... the whole point is you only want<br/>players to be able to use it..."<br/><br/>Calico nods.<br/><br/>Trispis says, "Then, you could put a switch into the code to make sure the<br/>/type/ of object giving the command was 'PLAYER'... as follows...<br/><br/>&amp;wave4 #&lt;lp&gt;=$wave *:@switch hastype(%#,PLAYER)=1,think [remit(%l,%N waves to<br/>%0)]<br/><br/>[NOTE: The above example illustrates a mixture of all items learned to this<br/>point.]<br/><br/>Note, the result of the 'hastype()' function is either a 1 or a 0. 1 means the<br/>object has the given type (in our case, player). 0 means it doesn't have that<br/>type. So, this code only performs the remit if %# has the type PLAYER. (:"<br/><br/>You say, "Aha. :)"<br/><br/>Trispis says, "And that's /all/ it does."<br/><br/>Trispis says, "This is a good time to mention the subtle difference between<br/>'hastype()' and 'hasflag()'."<br/><br/>Trispis says, "Although PLAYER, ROOM, and EXIT show up as 'flags' in the list<br/>of flags (like when you examine an object and see 'Name #dbref(Flags)' at the<br/>top) (P=Player, R=Room, E=Exit)... these are actually considered 'types' not<br/>'flags'. Therefore, you use the 'hastype()' function to check an object's<br/>/type/... and you use the 'hasflag()' function for all other flags."<br/><br/>You say, "But when I examine myself.. PLAYER is a type. :)"<br/><br/>Trispis says, "Yes, but the capital 'P' is included in your 'flags'"<br/><br/>Trispis says, "Do: think flags(me)"<br/><br/>You say, "Oh. I see."<br/><br/>PenAC<br/><br/>Calico grins.<br/><br/>You say, "Is that why when I examine me/type... I get 'no matching<br/>attributes'?"<br/><br/>Trispis says, "Dont confuse 'attributes' with 'flags' or 'types'."<br/><br/>Trispis says, "they are three distinct things."<br/><br/>You say, "I'm not.. It's just the message I get."<br/><br/>Trispis says, "examine me/type looks for a &amp;type attribute (which you could<br/>put on yourself if you wanted to)."<br/><br/>You say, "Oh?"<br/><br/>Trispis says, "Do this...<br/><br/>&amp;type me=Strange<br/><br/>Then do: examine me/type<br/>"<br/><br/>Calico/TYPE - Set.<br/><br/>TYPE [#983]: Strange<br/><br/>Calico grins.<br/><br/>Calico/TYPE - Cleared.<br/><br/>Trispis says, "You now have an attribute named 'type' which contains the text<br/>'Strange'... but your /type/ is still PLAYER. (:"<br/><br/>Calico giggles.<br/><br/>You say, "So the only way to see the type is to think type(me)?"<br/><br/>You say, "Or think flags(me)?"<br/><br/>Trispis nods. Either of those.<br/><br/>Trispis says, "Now..."<br/><br/>Trispis says, "Here's a cool thing you can do with switch()."<br/><br/>Trispis says, "switch will honor the wildcard symbols * and ?... So, you use<br/>the 'flags()' function to check for the player flag in a switch as follows...<br/><br/>&amp;wave5 #&lt;lp&gt;=$wave5 *:th [switch(flags(%#),*P*,remit(%l,%N waves to %0.))]<br/><br/>this matches the actual flags returned from 'flags(%#)' to the wildcarded<br/>string '*P*' (not *p*, which would be PUPPET)."<br/><br/>Trispis says, "This does the same thing as the last example, but uses the<br/>'flags()' function to do it."<br/><br/>You say, "I see."<br/><br/>Trispis says, "Note right now!!!! 'hasflag()' will /not/ match to the PLAYER,<br/>ROOM, or EXIT flags!!!"<br/><br/>Trispis says, "Only 'hastype()' will do that."<br/><br/>You say, "Right."<br/><br/>Trispis says, "And, hastype will also match to the type THING and, to the type<br/>GARBAGE (which is what a thing becomes when it is nuked)."<br/><br/>Trispis says, "Okay... a few more things, then I'm going to adjourn this<br/>class."<br/><br/>Calico nods.<br/><br/>Trispis says, "I had intended to cover a couple more functions thoroughly, but<br/>instead I'm going to do a bit of function summary and offer an optional<br/>assignment in the form of learning a new function (one that I specifically<br/>choose) on your own. (I'll give you some clues)."<br/><br/>Trispis says, "Here's the summary first..."<br/><br/>Trispis says, "Functions are categorized into several groups, based on what<br/>they do... I'm going to be creating a +global to list all of the functions in<br/>these categories eventually, but right now, PennMUSH only offers a few<br/>examples. So.."<br/><br/>Trispis says, "read: help function list"<br/><br/>FUNCTION LIST<br/><br/>  Several major variants of functions are available. The help topics<br/>  are listed below, together with a quick summary of the function type<br/>  and some examples of that type of function.<br/><br/>  Attribute functions: attribute-related manipulations (GET, UFUN)<br/>  Boolean functions:  produce 0 or 1 (false or true) answers  (OR, AND)<br/>  Dbref functions: return dbref info related to objects (LOC, LEXITS)<br/>  Floating point functions: floating point math (SIN, ROUND)<br/>  Information functions:  find out something about objects (FLAGS, MONEY)<br/>  List functions:  manipulate lists (REVWORDS, FIRST)<br/>  Math functions:  number manipulation, generic or integers only (ADD, DIV)<br/>  String functions:  string manipulation (ESCAPE, FLIP)<br/>  Utility functions: general utilties (TIME, COMP)<br/><br/>  The command "@config/functions" lists all of the game's built-in functions.<br/><br/>Trispis says, "Okay... having pointed out that 'summary' of function<br/>purposes... I'm going to back up and remind you of a few things..."<br/><br/>Trispis says, "Reminder: Many functions duplicate @commands (@remit=remit, and<br/>the like)..."<br/><br/>Trispis says, "Through this 'duplication', you can learn a lot about functions<br/>and how they work."<br/><br/>Trispis says, "A good thing to study would be the way @switch and switch() are<br/>similar and how they are different. (@switch allows the /first and /all<br/>options, among others, which make the @switch behaved differently than the<br/>switch() function)."<br/><br/>Trispis says, "Now... two things for 'on your own study' (not an assignment<br/>for any credit here, just a 'teaser' to get you moving on your own)..."<br/><br/>Trispis says, "The first is 'setq()' (this allows you to put something into a<br/>temporary variable and use it again later... it is very useful if your code<br/>begins to grow complex from using 'name(%#)' repeatedly... you can do:<br/>[setq(&lt;a number from 0 to 9&gt;, name(#4))] ... then recall that with that<br/>number&gt; ... example...<br/><br/>"[setq(0,name(me))] My name is %q0. Everyone calls me %q0. Yes, %q0 is my<br/>name.<br/><br/>would return the following..."<br/><br/>Trispis says, " My name is Trispis. Everyone calls me Trispis. Yes, Trispis is<br/>my name."<br/><br/>Trispis says, "it's a sort of silly example, but it works nonetheless."<br/><br/>Calico giggles.<br/><br/>Trispis says, "setq() can be used to set a temporary variable (called a<br/>'register') to be recalled repeatedly throughout complex code..."<br/><br/>Trispis says, "the last thing for 'outside study' is: iter()"<br/><br/>Trispis says, "This is probably the second most used and abused function in<br/>all of PennMUSH."<br/><br/>ITER()<br/>  iter(&lt;list&gt;,&lt;pattern&gt;[,&lt;delimiter&gt; [,&lt;output separator&gt;]])<br/><br/>  This works in a manner very similar to @map, except that it returns<br/>  a string directly.  &lt;list&gt; is a space-separated list of words, and<br/>  &lt;pattern&gt; is what will be "mapped" onto each element of the list,<br/>  with the token "##" being replaced successively by the next word in<br/>  the list, and the token "#@" being replaced by the word's position<br/>  in the list.	The result is concatenated and returned as a space<br/>  separated list.  This is similar to @dolist, but the results are<br/>  made into a list rather than executed.<br/><br/>  The list may be &lt;delimiter&gt;-separated.<br/><br/>  By default, the return list will be space-separated. However,<br/>  by including the output separator (which requires explicitly<br/>  including the delimiter), you can have it separated by any string.<br/><br/>  See "help ITER2" for some examples.<br/><br/>Trispis says, "This one, like @remit, /does/ have a @command counterpart...<br/>however, their names are not the same (simply because they are conceptually<br/>different in their actual evaluation). The @command counterpart for 'iter()'<br/>is: @dolist."<br/><br/>You say, "Why does the help file say that its similar to @map?"<br/><br/>Trispis says, "@map and @dolist are very similar. (:"<br/><br/>Trispis says, "@dolist is more 'intuitively' related to its name, though.<br/><br/>That's why I referenced @dolist instead of @map."<br/><br/>You say, "Okay. :)"<br/><br/>Trispis says, "@map has a function equivalent... yes, it's map(). (:"<br/><br/>Trispis says, "@map and map() require other attributes... @dolist and iter()<br/>do not."<br/><br/>Trispis says, "Here's a sample of iter()...<br/><br/>Do this: "iter(lcon(here),name(##))<br/><br/>That is, 'say' that function with that code..."<br/><br/>Trispis says, "Durhan Calico Trispis Cleomine Morpheus Fred Erinstar Shadox<br/>Yarric Zipporah Otis"<br/><br/>You say, "Durhan Calico Trispis Cleomine Morpheus Fred Erinstar Shadox Yarric<br/>Zipporah Otis"<br/><br/>Trispis says, "lcon(here) is a 'list' (it's a list of every object in this<br/>room)... iter() takes a list... and performs an action on each member of that<br/>list."<br/><br/>Trispis says, "Okay... that's all for today."<br/><br/>Trispis says, "Class dismissed."
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>