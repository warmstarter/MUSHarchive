<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: SpaceMap</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="SpaceMap.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="SpaceMap.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="SpaceMap.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="SpaceMap.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="SpaceMap.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="SpaceMap.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Other.html">Other</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="SpaceMap.html#">SpaceMap</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            SpaceMap
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>Spacemap prints a 25x25 (49x25 trelane_space_map.txtreally) ASCII map of a three-dimensional space, using colour coding to represent the Z axis. Scaling, centering, and changes in perspective are all possible. It should be possible to interface with any three-dimensional space.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Trelane@M-U-S-H.html">Trelane</a>@<a href="../Source/M-U-S-H.html">M*U*S*H</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Other.html">Other</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="http://www.mushcode.com/Command/@name" class="command">@name</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="http://www.mushcode.com/Command/@teleport" class="command">@teleport</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/abs.html" class="function">abs&#40;&#41;</a>,
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/after.html" class="function">after&#40;&#41;</a>,
                        <a href="../Function/ansi.html" class="function">ansi&#40;&#41;</a>,
                        <a href="../Function/cand.html" class="function">cand&#40;&#41;</a>,
                        <a href="../Function/capstr.html" class="function">capstr&#40;&#41;</a>,
                        <a href="../Function/center.html" class="function">center&#40;&#41;</a>,
                        <a href="../Function/create.html" class="function">create&#40;&#41;</a>,
                        <a href="../Function/default.html" class="function">default&#40;&#41;</a>,
                        <a href="../Function/edit.html" class="function">edit&#40;&#41;</a>,
                        <a href="../Function/elements.html" class="function">elements&#40;&#41;</a>,
                        <a href="../Function/fdiv.html" class="function">fdiv&#40;&#41;</a>,
                        <a href="../Function/first.html" class="function">first&#40;&#41;</a>,
                        <a href="../Function/grab.html" class="function">grab&#40;&#41;</a>,
                        <a href="../Function/graball.html" class="function">graball&#40;&#41;</a>,
                        <a href="../Function/gt.html" class="function">gt&#40;&#41;</a>,
                        <a href="../Function/if.html" class="function">if&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/lattr.html" class="function">lattr&#40;&#41;</a>,
                        <a href="../Function/lcstr.html" class="function">lcstr&#40;&#41;</a>,
                        <a href="../Function/letq.html" class="function">letq&#40;&#41;</a>,
                        <a href="../Function/lflags.html" class="function">lflags&#40;&#41;</a>,
                        <a href="../Function/lnum.html" class="function">lnum&#40;&#41;</a>,
                        <a href="../Function/map.html" class="function">map&#40;&#41;</a>,
                        <a href="../Function/mul.html" class="function">mul&#40;&#41;</a>,
                        <a href="../Function/not.html" class="function">not&#40;&#41;</a>,
                        <a href="../Function/remove.html" class="function">remove&#40;&#41;</a>,
                        <a href="../Function/repeat.html" class="function">repeat&#40;&#41;</a>,
                        <a href="../Function/replace.html" class="function">replace&#40;&#41;</a>,
                        <a href="../Function/rjust.html" class="function">rjust&#40;&#41;</a>,
                        <a href="../Function/round.html" class="function">round&#40;&#41;</a>,
                        <a href="../Function/setdiff.html" class="function">setdiff&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/setr.html" class="function">setr&#40;&#41;</a>,
                        <a href="../Function/sign.html" class="function">sign&#40;&#41;</a>,
                        <a href="../Function/squish.html" class="function">squish&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/table.html" class="function">table&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/ulocal.html" class="function">ulocal&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>.
            </div>

            <div class="features">
                <strong>Features:</strong>
                        <a href="../Feature/Poundlambda.html" class="feature">#lambda</a>.
            </div>

            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for SpaceMap
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="SpaceMap.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @@ Project Trelane_Spacemap<br/>@@ Version 2<br/>@@<br/>@@ Description:<br/>@@     Spacemap prints a 25x25 (49x25 really) ASCII map of a<br/>@@     three-dimensional space, using colour coding to represent<br/>@@     the Z axis. Scaling, centering, and changes in perspective<br/>@@     are all possible. It should be possible to interface with<br/>@@     any three-dimensional space... See +SPACEMAP HELP &lt;file&gt;, or<br/>@@     contact Trelane @ M*U*S*H for questions or comments.<br/>@@<br/>@@ Version log:<br/>@@     Author: Trelane &lt;FreeVerse&gt;<br/>@@     Date:   Fri Apr 3 13:49:18 2009 -0700<br/>@@         v2v<br/>@@         <br/>@@         Initial Commit<br/>@@<br/>@@ Readme:<br/>@@     Readme<br/>@@<br/>@@ Language: MushCode<br/>@@ Installer file created by RubySVC (Softcode Version Control)<br/>@@<br/>@@<br/>@@<br/>@@ Creating Rooms, Things and Exits.<br/>@@<br/>@@<br/>@set me=SVC`Td28d66ba70ead917f0aa:[default(SVC`Td28d66ba70ead917f0aa,create(Td28d66ba70ead917f0aa))]<br/>@@<br/>@@<br/>@@ Objects created, now setting attributes, locks, etc.<br/>@@<br/>@@<br/>@@<br/>@@ Filling out SpaceMap<br/>@@<br/>@name [v(SVC`Td28d66ba70ead917f0aa)]=SpaceMap<br/>@tel [v(SVC`Td28d66ba70ead917f0aa)]=v(SVC`owner)<br/>@set [v(SVC`Td28d66ba70ead917f0aa)]=iter(setdiff(lflags([v(SVC`Td28d66ba70ead917f0aa)]),NO_COMMAND),!##) [setdiff(NO_COMMAND,lflags([v(SVC`Td28d66ba70ead917f0aa)]))]<br/>&amp;HSPACE`HS_LIST2COORDS [v(SVC`Td28d66ba70ead917f0aa)]=iter(%0,hs_get_attr(##,x) [hs_get_attr(##,y)] [hs_get_attr(##,z)] [hs_get_attr(##,type)],,if(%1,%1,|))<br/>&amp;HSPACE`EXAMPLE2 [v(SVC`Td28d66ba70ead917f0aa)]=u(spacemap/hspace`example,hs_list(43,0,1),10 5 0,10,1,2,3)<br/>&amp;HSPACE`EXAMPLE [v(SVC`Td28d66ba70ead917f0aa)]=iter(u(spacemap/hspace`draw,%0,%1,%2,%3,%4,%5),rjust(add(switch(sign(sub(#@,13)),-1,abs(sub(#@,13)),0,0,-[sub(#@,13)]),elements(%1,%4)),4) ##,%r,%r)<br/>&amp;HSPACE`DRAW [v(SVC`Td28d66ba70ead917f0aa)]=u(FUN`DRAW.MAP,u(HSPACE`HS_LIST2COORDS,%0),%1,%2,%3,%4,%5)<br/>&amp;HSPACE [v(SVC`Td28d66ba70ead917f0aa)]=HSpace Interface Tree<br/>&amp;HELP`INFO [v(SVC`Td28d66ba70ead917f0aa)]=Direct questions and comments to Trelane@M*U*S*H. If you have a suggestion, or something to add to the system, feel free!%r%rApologies for the help files, and lack of 'user friendliness'.<br/>&amp;HELP`HELP [v(SVC`Td28d66ba70ead917f0aa)]=SpaceMap creates an ASCII map for a set of three-dimensional coordinates, supplied by a space system, user, or other source. Due in part to reasonably small function invocation limits, and size limitations for MUSH clients, the map itself is limited to 25x25 'points.' However, it may be scaled from 1:1, one point per real whole unit, upwards. (For a well-spaced system of objects, between -110 * * and 120 * *, (1:)10 has worked in the past)%rAn experienced coder should be able to interface with the system using just DRAW.MAP, described in its own help file. An example of a simple interface for HSpace is contained under the HSpace tree.%r%r[edit(map(#lambda/center(\%0,78),table(remove(iter(lattr(%!/HELP`*),after(##,HELP`)),HELP),13,78),%r,%r),_,%b)]<br/>&amp;HELP`DRAW.MAP [v(SVC`Td28d66ba70ead917f0aa)]=Syntax: u(FUN`DRAW.MAP,&lt;List of Coords&gt;,&lt;Center&gt;,&lt;Scale&gt;,%r%b&lt;X Axis&gt;,&lt;Y Axis&gt;,&lt;Z Axis&gt;)%r%rThis function is the main function, and theoretically the only one of the DRAW.* functions you should ever need to use. (The thers are there anyway, though, of course) It returns a \%r-separated list of 25 rows of 25 space-separated characters representing 'points' (whole units of some sort) in space.%r%rList of Coords is a pipe (|)-separated list of coordinates in this format: X Y Z TYPE|X Y Z TYPE. X Y and Z in this list are pretty self-explanatory. TYPE is a number used to determine the character to display for this object. (See CONFIGURATION)%rCenter is another coordinate, (X Y Z) used to transpose coordinates to an equivalent position around 0 0 0, before scaling. To correct axis labels, use add(mul(&lt;-12 to 12&gt;,SCALE),&lt;XYZ&gt;) where &lt;XYZ&gt; is from CENTER. If I was labeling X, for example, I'd use iter(lnum(-12,12),round(add(mul(##,SCALE),first(CENTER)),0))%rScale is more or less self-explanatory... The map's scale will be 1:SCALE. That is, 1 point on the map to SCALE 'real' points.%rThe X/Y/Z Axis fields are more or less the most confusing parameters. They indicate which of the three True Axes should be used as the Map Axes. 1, 2 and 3 correspond to True X, Y and Z. So, for example, I'd use '...,2,3,1)' to look from the 'top' of True X, (Map Z) with True Z being up/down, (Map Y) and True Y being left/right. (Map X) Colours are used to indicate where an object is on Map Z. See CONFIGURATION for information on changing these.<br/>&amp;HELP`CONFIGURATION [v(SVC`Td28d66ba70ead917f0aa)]=CFG` is the configuration tree. Branches are all used for various configuration, described below.%r%rCFG`ZANSI: Space-separated list of colours used for Map Z. They range from -12 to 12, 25 values in all. If you come up with a really nice color scheme, feel free to send it to Trelane@M*U*S*H...%rCFG`KEY: Space-separated list of characters used by objects. TYPE is used to determine which character to use. (Using elements(CFG`KEY,TYPE) )%rCFG`HELP.SKIN: just the skin for the spacemap's help. You're looking at it right now. %0 is the attribute containing the help file.<br/>&amp;HELP [v(SVC`Td28d66ba70ead917f0aa)]=Help Tree<br/>&amp;FUN`TRANSPOSE [v(SVC`Td28d66ba70ead917f0aa)]=iter(%0,sub(elements(##,1),elements(%1,1)) [sub(elements(##,2),elements(%1,2))] [sub(elements(##,3),elements(%1,3))] [elements(##,4)],|,|)<br/>&amp;FUN`SCALE [v(SVC`Td28d66ba70ead917f0aa)]=iter(%0,round(fdiv(elements(##,1),%1),0) [round(fdiv(elements(##,2),%1),0)] [round(fdiv(elements(##,3),%1),0)] [elements(##,4)],|,|)<br/>&amp;FUN`DRAW.ROW [v(SVC`Td28d66ba70ead917f0aa)]=if(not(setr(0,graball(%0,replace(* * * *,%2,%4),|))),squish(repeat(.%b,25)),iter(lnum(-12,12),letq(0,graball(%q0,replace(* * * *,%1,##),|),if(%q0,u(FUN`DRAW.POINT,%q0,%3),.))))<br/>&amp;FUN`DRAW.POINT [v(SVC`Td28d66ba70ead917f0aa)]=ansi(elements(v(CFG`ZANSI),add(elements(%0,%1),13))[if(gt(words(%0,|),1),u)],letq(0,elements(v(CFG`KEY),elements(first(%0,|),4)),if(%q0,%q0,?)))<br/>&amp;FUN`DRAW.MAP [v(SVC`Td28d66ba70ead917f0aa)]=setq(0,edit(u(FUN`SCALE,u(FUN`TRANSPOSE,%0,%1),%2),-0,0))[iter(lnum(12,-12),ulocal(FUN`DRAW.ROW,%q0,%3,%4,%5,##),,%r)]<br/>&amp;FUN [v(SVC`Td28d66ba70ead917f0aa)]=Function Tree<br/>&amp;CMD`HELP [v(SVC`Td28d66ba70ead917f0aa)]=$+spacemap help*:@pemit %#=if(cand(%0,setr(0,grab(lattr(%!/HELP`*),HELP`[edit(squish(%0),%b,_)]*))),u(CFG`HELP.SKIN,%q0),u(CFG`HELP.SKIN,HELP`HELP))<br/>&amp;CMD [v(SVC`Td28d66ba70ead917f0aa)]=Command Tree<br/>&amp;CFG`ZANSI [v(SVC`Td28d66ba70ead917f0aa)]=c g gh y yh r rh m mh b bh xh w wh ch Bh Mh Rh Yh Gh Ch Bch Mch Rch Ych<br/>&amp;CFG`KEY [v(SVC`Td28d66ba70ead917f0aa)]=^ ! o @ x # &amp; X %b<br/>&amp;CFG`HELP.SKIN [v(SVC`Td28d66ba70ead917f0aa)]=center(%b[map(#lambda/capstr(lcstr(\%0)),after(%0,HELP`),_,%b)]%b,78,=)%r[u(%0)]%r[repeat(=,78)]<br/>&amp;CFG [v(SVC`Td28d66ba70ead917f0aa)]=Configuration Tree<br/>@set [v(SVC`Td28d66ba70ead917f0aa)]/HSPACE=no_command <br/>@set [v(SVC`Td28d66ba70ead917f0aa)]/HELP=no_command <br/>@set [v(SVC`Td28d66ba70ead917f0aa)]/FUN=no_command <br/>@set [v(SVC`Td28d66ba70ead917f0aa)]/CFG=no_command <br/>@@<br/>@@ Triggering all startups, oncreates, onupdates.<br/>@@
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>