<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Variable Exit DS Code</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Variable-Exit-DS-Code.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Variable-Exit-DS-Code.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Variable-Exit-DS-Code.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Variable-Exit-DS-Code.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Variable-Exit-DS-Code.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Variable-Exit-DS-Code.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Variable-Exit-DS-Code.html#">Variable Exit DS Code</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Variable Exit DS Code
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>Allows you to create a vast area such as a desert or ocean, without using vast amounts of DB numbers.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <a href="../Author/Raevnos.html">Raevnos</a>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="../Command/@aleave.html" class="command">@aleave</a>,
                    <a href="http://www.mushcode.com/Command/@create" class="command">@create</a>,
                    <a href="http://www.mushcode.com/Command/@describe" class="command">@describe</a>,
                    <a href="../Command/@destroy.html" class="command">@destroy</a>,
                    <a href="../Command/@enter.html" class="command">@enter</a>,
                    <a href="../Command/@exitformat.html" class="command">@exitformat</a>,
                    <a href="http://www.mushcode.com/Command/@failure" class="command">@failure</a>,
                    <a href="http://www.mushcode.com/Command/@link" class="command">@link</a>,
                    <a href="http://www.mushcode.com/Command/@lock" class="command">@lock</a>,
                    <a href="http://www.mushcode.com/Command/@name" class="command">@name</a>,
                    <a href="../Command/@odrop.html" class="command">@odrop</a>,
                    <a href="../Command/@open.html" class="command">@open</a>,
                    <a href="../Command/@osuccess.html" class="command">@osuccess</a>,
                    <a href="http://www.mushcode.com/Command/@parent" class="command">@parent</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="../Command/@success.html" class="command">@success</a>,
                    <a href="http://www.mushcode.com/Command/@switch" class="command">@switch</a>,
                    <a href="http://www.mushcode.com/Command/@teleport" class="command">@teleport</a>,
                    <a href="../Command/@wa.html" class="command">@wa</a>,
                    <a href="../Command/@wb.html" class="command">@wb</a>,
                    <a href="http://www.mushcode.com/Command/@wipe" class="command">@wipe</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/cand.html" class="function">cand&#40;&#41;</a>,
                        <a href="../Function/capstr.html" class="function">capstr&#40;&#41;</a>,
                        <a href="../Function/cat.html" class="function">cat&#40;&#41;</a>,
                        <a href="../Function/cor.html" class="function">cor&#40;&#41;</a>,
                        <a href="../Function/default.html" class="function">default&#40;&#41;</a>,
                        <a href="../Function/dig.html" class="function">dig&#40;&#41;</a>,
                        <a href="../Function/elock.html" class="function">elock&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/filter.html" class="function">filter&#40;&#41;</a>,
                        <a href="../Function/first.html" class="function">first&#40;&#41;</a>,
                        <a href="../Function/get.html" class="function">get&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/hasattrval.html" class="function">hasattrval&#40;&#41;</a>,
                        <a href="../Function/hasflag.html" class="function">hasflag&#40;&#41;</a>,
                        <a href="../Function/if.html" class="function">if&#40;&#41;</a>,
                        <a href="../Function/isdbref.html" class="function">isdbref&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/last.html" class="function">last&#40;&#41;</a>,
                        <a href="../Function/lcon.html" class="function">lcon&#40;&#41;</a>,
                        <a href="../Function/lcstr.html" class="function">lcstr&#40;&#41;</a>,
                        <a href="../Function/lexits.html" class="function">lexits&#40;&#41;</a>,
                        <a href="../Function/locate.html" class="function">locate&#40;&#41;</a>,
                        <a href="../Function/lock.html" class="function">lock&#40;&#41;</a>,
                        <a href="../Function/lte.html" class="function">lte&#40;&#41;</a>,
                        <a href="../Function/member.html" class="function">member&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/not.html" class="function">not&#40;&#41;</a>,
                        <a href="../Function/null.html" class="function">null&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/parent.html" class="function">parent&#40;&#41;</a>,
                        <a href="../Function/rest.html" class="function">rest&#40;&#41;</a>,
                        <a href="../Function/s.html" class="function">s&#40;&#41;</a>,
                        <a href="../Function/set.html" class="function">set&#40;&#41;</a>,
                        <a href="../Function/setdiff.html" class="function">setdiff&#40;&#41;</a>,
                        <a href="../Function/setr.html" class="function">setr&#40;&#41;</a>,
                        <a href="../Function/setunion.html" class="function">setunion&#40;&#41;</a>,
                        <a href="../Function/sort.html" class="function">sort&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/trim.html" class="function">trim&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/ucstr.html" class="function">ucstr&#40;&#41;</a>,
                        <a href="../Function/udefault.html" class="function">udefault&#40;&#41;</a>,
                        <a href="../Function/ulocal.html" class="function">ulocal&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/vadd.html" class="function">vadd&#40;&#41;</a>,
                        <a href="../Function/valid.html" class="function">valid&#40;&#41;</a>,
                        <a href="../Function/wipe.html" class="function">wipe&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>,
                        <a href="../Function/zone.html" class="function">zone&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Variable Exit DS Code
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Variable-Exit-DS-Code.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @@ Variable Exit DS Code -*- mushcode -*-<br/>@@ By Raevnos, based loosely on the DS code on ftp.pennmush.org<br/>@@ Cleaned up a bit 2/2001. Now requires 1.7.3 or better. Also doesn't<br/>@@ need to be quoted in by a wizard, thanks to mortal variable exits.<br/>@create DS Room Parent<br/>@lock/Use DS Room Parent==me<br/>@lock/Link DS Room Parent==#0<br/>@lock/Parent DS Room Parent=$me<br/>@lock/Basic DS Room Parent==me<br/>@set DS Room Parent = LINK_OK<br/>@set DS Room Parent = NO_COMMAND<br/>@ALEAVE DS Room Parent=@switch cor(words(cat(lcon(me), lexits(me))), hasflag(me, sticky), ulocal(%va/dealloc_room, %!))=0, {@name me=Soon to be destroyed; @destroy me}<br/>@set DS Room Parent/ALEAVE=no_command<br/>&amp;BLOCK_EXIT_CMD DS Room Parent=$block *:@switch isdbref(locate(%vc, %0, cE))=0,@pemit %#=That's not a blockable exit., {@pemit %#=Exit blocked for room at [v(coords)].; &amp;blocked me=[setunion(v(blocked), name(locate(%vc, %0, cE)), |)]; &amp;blocked-[v(coords)] %vb=[v(blocked)]}<br/>&amp;CLEAR_DESC_CMD DS Room Parent=$clear desc:@pemit %#=Description for room at [v(coords)] cleared.; &amp;desc-[v(coords)] %vb<br/>&amp;CLEAR_NAME_CMD DS Room Parent=$clear name:@pemit %#=Name for room at [v(coords)] cleared.; @wipe %vb/name-[v(coords)]; @name me=u(%va/get_name, v(coords))<br/>&amp;COORDS_CMD DS Room Parent=$coords:@pemit %#=The coordinates of your current room are [iter(v(coords), [extract(X Y Z, #@, 1)] = ##, ., \,%b)]<br/>@DESCRIBE DS Room Parent=[u(%va/get_desc, v(coords))]<br/>@set DS Room Parent/DESCRIBE=no_command visual<br/>&amp;DS_HELP_CMD DS Room Parent=$ds help:@pemit %#=DS builder commands:%rset name to &lt;name&gt; &amp; clear name - Set/clear a custom name.%rset desc to &lt;desc&gt; &amp; clear desc - Set/clear a custom description.%rhide &lt;exit&gt; &amp; unhide &lt;exit&gt; - Remove and restore a exit from the exits list.%rshow &lt;exit&gt; &amp; unshow &lt;exit&gt; - Display a non-standard virtual exit and un-display it.%rblock &lt;exit&gt; &amp; unblock &lt;exit&gt; - Hide a virtual exit and make it impossible to travel in that direction/undo blocking%rfix room &amp; unfix room - Save room from being recycled.<br/>@ENTER DS Room Parent=switch(elock(me/use, %#), 1, Type DS HELP for help with builder commands.)<br/>@set DS Room Parent/ENTER=no_command<br/>@EXITFORMAT DS Room Parent=[switch(setdiff(lcstr(iter(setdiff(%0, filter(isdark,%0)), name(##), ,|)|[v(exitlist)]|[v(shown)]), lcstr(v(blocked)|[v(hidden)]), |),,,Obvious exits:%r[iter(sort(#$, a, |), capstr(##), |)])]<br/>@set DS Room Parent/EXITFORMAT=no_command<br/>&amp;EXITLIST DS Room Parent=North|East|South|West<br/>&amp;FIX_CMD DS Room Parent=$fix room:@pemit %#=Room at [v(coords)] will no longer be recycled.;@set me=sticky<br/>&amp;HIDE_EXIT_CMD DS Room Parent=$hide *:@switch isdbref(locate(%vc, %0, cE))=0, @pemit %#=That's not a hidable exit. [if(isdbref(locate(%l, %0, cE)), Try setting it DARK.)], {@pemit %#=Exit hidden for room at [v(coords)].; &amp;hidden me=[setunion(v(hidden), name(locate(%vc, %0, cE)), |)]; &amp;hidden-[v(coords)] %vb=[v(hidden)]}<br/>&amp;ISDARK DS Room Parent=hasflag(%0, dark)<br/>&amp;SET_DESC_CMD DS Room Parent=$set desc to *:@pemit %#=Description for room at [v(coords)] set.;&amp;desc-[v(coords)] %vb=%0<br/>&amp;SET_NAME_CMD DS Room Parent=$set name to *:@switch valid(name, %0)=0,@pemit %#=That's not a valid name.,{@pemit %#=Name for room at [v(coords)] set.;@name me=%0; &amp;name-[v(coords)] %vb=%0<br/>&amp;SHOW_EXIT_CMD DS Room Parent=$show *:@pemit %#=Exit shown for room at [v(coords)].; &amp;shown me=[setunion(v(shown), capstr(lcstr(%0)), |)]; &amp;shown-[v(coords)] %vb=[v(shown)]<br/>&amp;UNBLOCK_EXIT_CMD DS Room Parent=$unblock *:@switch isdbref(locate(%vc, %0, cE))=0, @pemit %#=That's not a blockable exit., {@pemit %#=Exit unblocked for room at [v(coords)].; &amp;blocked me=[setdiff(v(blocked), name(locate(%vc, %0, cE)), |)]; &amp;blocked-[v(coords)] %vb=[v(blocked)]; @switch hasattrval(%vb, blocked-[v(coords)])=0, &amp;blocked-[v(coords)] %vb}<br/>&amp;UNFIX_ROOM_CMD DS Room Parent=$unfix room:@pemit %#=Room at [v(coords)] will now be recycled when empty of contents and exits.; @set me=!sticky<br/>&amp;UNHIDE_EXIT_CMD DS Room Parent=$unhide *:@switch isdbref(locate(%vc, %0, cE))=0, @pemit %#=That's not a hidable exit., {@pemit %#=Exit unhidden for room at [v(coords)].; &amp;hidden me=[setdiff(v(hidden), name(locate(%vc, %0, cE)), |)]; &amp;hidden-[v(coords)] %vb=[v(hidden)]; @switch hasattrval(%vb, hidden-[v(coords)])=0,&amp;hidden-[v(coords)] %vb}<br/>&amp;UNSHOW_EXIT_CMD DS Room Parent=$unshow *:@pemit %#=Exit unshown for room at [v(coords)].; &amp;shown me=[setdiff(v(shown), capstr(lcstr(%0)), |)]; &amp;shown-[v(coords)] %vb=[v(shown)];@switch hasattrval(%vb, shown-[v(coords)])=0, &amp;shown-[v(coords)] %vb}<br/>@create DS Room Data<br/>@lock DS Room Data==me<br/>@set DS Room Data = NO_COMMAND<br/>@DESCRIBE DS Room Data=This objects holds all the data for all the customized rooms in the DS grid, as well as some extra stuff. The maxN and minN attributes control the size of the grid in three-dimensional cartesian coordinates, with MAXQ the number of spare rooms to keep around instead of having to constantly create new ones.<br/>&amp;DESC-0.0.0 DS Room Data=This is the center of the DS grid.<br/>@set DS Room Data/DESC-0.0.0=no_command<br/>&amp;MAXQ DS Room Data=10<br/>&amp;MAXX DS Room Data=5<br/>&amp;MAXY DS Room Data=5<br/>&amp;MAXZ DS Room Data=5<br/>&amp;MINX DS Room Data=-2<br/>&amp;MINY DS Room Data=-5<br/>&amp;MINZ DS Room Data=-2<br/>&amp;ROOM-QUEUE DS Room Data=<br/>@create DS Functions<br/>@lock/Link DS Functions==#0<br/>@lock/Parent DS Functions=$me<br/>@lock/Basic DS Functions==me<br/>@set DS Functions = LINK_OK<br/>@set DS Functions = NO_COMMAND<br/>&amp;ALLOC_ROOM DS Functions=switch(words(setr(0, get(%vb/room-queue))), 0, dig(%wa), setr(1, first(%q0))[set(%vb, room-queue:[rest(%q0)])][null(name(%q1, %0))])<br/>&amp;DEALLOC_ROOM DS Functions=wipe(%vb/num-[get(%0/coords)])[switch(words(get(%vb/room-queue)), get(%vb/maxq), 0, set(%vb, room-queue:[trim(get(%vb/room-queue) %0)])[null(name(%0, Waiting to be recycled))]1)]<br/>@DESCRIBE DS Functions=This object holds most of the DS code. Of note: @wa, which holds the default room name. If you don't like the coordinates after it, edit the &amp;get_name attribute's default case from \%wa \%0 to \%wa. @wb, which holds the default room description.<br/>&amp;GET_BLOCKED DS Functions=get(%vb/blocked-%0)<br/>&amp;GET_DESC DS Functions=udefault(%vb/desc-%0, s(%wb))<br/>&amp;GET_HIDDEN DS Functions=get(%vb/hidden-%0)<br/>&amp;GET_NAME DS Functions=default(%vb/name-%0, %wa %0)<br/>&amp;GET_ROOM DS Functions=udefault(%vb/num-%0, [setr(0, ulocal(alloc_room, u(get_name, %0)))][set(%vb, num-%0:%q0)][null(zone(%q0, %vc))][null(parent(%q0, %vd))][set(%q0, coords:%0)][set(%q0, floating)][set(%q0, blocked:[u(get_blocked, %0)])][set(%q0, hidden:[u(get_hidden, %0)])][set(%q0, shown:[u(get_shown, %0)])][set(%q0, !no_command)][lock(%q0/use, @%vd)])<br/>&amp;GET_SHOWN DS Functions=get(%vb/shown-%0)<br/>&amp;IS_IB DS Functions=cand(lte(first(%0, .), get(%vb/maxx)), gte(first(%0, .), get(%vb/minx)), lte(extract(%0, 2, 1, .), get(%vb/maxy)), gte(extract(%0, 2, 1, .), get(%vb/miny)), lte(last(%0, .), get(%vb/maxz)), gte(last(%0, .), get(%vb/minz)))<br/>@WA DS Functions=DS Room<br/>@WB DS Functions=An empty room.<br/>@dig/teleport DS ZMR<br/>@lock/Zone here==me<br/>@set here = NO_COMMAND<br/>@set here = FLOATING<br/>@open North;n<br/>@link North = VARIABLE<br/>@lock/Basic North=inrange/1&amp;open/1<br/>&amp;DESTINATION North=ulocal(%va/get_room, vadd(get(%l/coords), v(direction), .))<br/>&amp;DIRECTION North=0.1.0<br/>@FAILURE North=You find you can't travel further [lcstr(name(me))].<br/>@set North/FAILURE=no_command<br/>&amp;INRANGE North=u(%va/is_ib, vadd(get(%l/coords), v(direction), .))<br/>@ODROP North=comes [switch(name(me), up, down, down, up, from the [switch(name(me), north, south, northeast, southwest, east, west, southeast, northwest, south, north, southwest, northeast, west, east, northwest, southeast)])].<br/>@set North/ODROP=no_command<br/>&amp;OPEN North=not(member(ucstr(get(%l/blocked)), ucstr(name(me))))<br/>@OSUCCESS North=goes [lcstr(name(me))].<br/>@set North/OSUCCESS=no_command<br/>@SUCCESS North=You go [lcstr(name(me))].<br/>@set North/SUCCESS=no_command<br/>@open Down;d<br/>@link Down = VARIABLE<br/>@parent Down=North<br/>@lock/Basic Down=inrange/1&amp;open/1<br/>&amp;DIRECTION Down=0.0.-1<br/>@open Up;u<br/>@link Up = VARIABLE<br/>@parent Up=North<br/>@lock/Basic Up=inrange/1&amp;open/1<br/>&amp;DIRECTION Up=0.0.1<br/>@open Northwest;nw<br/>@link Northwest = VARIABLE<br/>@parent Northwest=North<br/>@lock/Basic Northwest=inrange/1&amp;open/1<br/>&amp;DIRECTION Northwest=-1.1.0<br/>@open West<br/>@link West = VARIABLE<br/>@parent West=North<br/>@lock/Basic West=inrange/1&amp;open/1<br/>&amp;DIRECTION West=-1.0.0<br/>@open Southwest;sw<br/>@link Southwest = VARIABLE<br/>@parent Southwest=North<br/>@lock/Basic Southwest=inrange/1&amp;open/1<br/>&amp;DIRECTION Southwest=-1.-1.0<br/>@open South;s<br/>@link South = VARIABLE<br/>@parent South=North<br/>@lock/Basic South=inrange/1&amp;open/1<br/>&amp;DIRECTION South=0.-1.0<br/>@open Southeast<br/>@link Southeast = VARIABLE<br/>@parent Southeast=North<br/>@lock/Basic Southeast=inrange/1&amp;open/1<br/>&amp;DIRECTION Southeast=1.-1.0<br/>@open East<br/>@link East = VARIABLE<br/>@parent East=North<br/>@lock/Basic East=inrange/1&amp;open/1<br/>&amp;DIRECTION East=1.0.0<br/>@open Northeast<br/>@link Northeast = VARIABLE<br/>@parent Northeast=North<br/>@lock/Basic Northeast=inrange/1&amp;open/1<br/>&amp;DIRECTION Northeast=1.1.0<br/>@set DS Room Parent=VA:[num(DS Functions)]<br/>@set DS Room Parent=VB:[num(DS Room Data)]<br/>@set DS Room Parent=VC:[num(here)]<br/>@set DS Room Parent=VD:[num(DS Room Parent)]<br/>@set DS Functions=VB:[num(DS Room data)]<br/>@set DS Functions=VC:[num(here)]<br/>@set DS Functions=VD:[num(DS Room Parent)]<br/>@set North=VA:[num(DS Functions)]<br/>@tel me=[u(DS Functions/GET_ROOM,0.0.0)]<br/><br/><br/>
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>