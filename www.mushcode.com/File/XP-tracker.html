<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: XP tracker</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="XP-tracker.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="XP-tracker.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="XP-tracker.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="XP-tracker.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="XP-tracker.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="XP-tracker.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Globals.html">Globals</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="XP-tracker.html#">XP tracker</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            XP tracker
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p> This is one of those &quot;Gain XP for being logged in and getting +votes&quot; systems.</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Gwen-Morse,-Xellos@ChaosMUX.html">Gwen Morse, Xellos</a>@<a href="../Source/ChaosMUX.html">ChaosMUX</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Globals.html">Globals</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="../Command/@aconnect.html" class="command">@aconnect</a>,
                    <a href="../Command/@adisconnect.html" class="command">@adisconnect</a>,
                    <a href="http://www.mushcode.com/Command/@create" class="command">@create</a>,
                    <a href="http://www.mushcode.com/Command/@pemit" class="command">@pemit</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="http://www.mushcode.com/Command/@switch" class="command">@switch</a>,
                    <a href="http://www.mushcode.com/Command/@wait" class="command">@wait</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/center.html" class="function">center&#40;&#41;</a>,
                        <a href="../Function/convtime.html" class="function">convtime&#40;&#41;</a>,
                        <a href="../Function/div.html" class="function">div&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/fdiv.html" class="function">fdiv&#40;&#41;</a>,
                        <a href="../Function/get.html" class="function">get&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/lt.html" class="function">lt&#40;&#41;</a>,
                        <a href="../Function/match.html" class="function">match&#40;&#41;</a>,
                        <a href="../Function/mid.html" class="function">mid&#40;&#41;</a>,
                        <a href="../Function/mudname.html" class="function">mudname&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/not.html" class="function">not&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/or.html" class="function">or&#40;&#41;</a>,
                        <a href="../Function/orflags.html" class="function">orflags&#40;&#41;</a>,
                        <a href="../Function/repeat.html" class="function">repeat&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/time.html" class="function">time&#40;&#41;</a>,
                        <a href="../Function/type.html" class="function">type&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>.
            </div>

            <div class="features">
                <strong>Features:</strong>
                        <a href="../Feature/color-substitutions.html" class="feature">color substitutions</a>.
            </div>

            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for XP tracker
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="XP-tracker.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @@ This is a modified version of the XP System as created by Gwen Morse (goldmooneachna@yahoo.com).<br/>@@ Changes Include:<br/>@@ * Took out parts of the @aconnect which @pemit-ed to connecting players their XP stats. (This was simply our preference to keep spam down.)<br/>@@ * Modified output to be formatted to our MUX standard (higlighted yellow trim with highlighted green text for player code, and higlighted cyan trim and highlighted maroon text for staff code).<br/>@@ * Made +votes from players worth .1XP and staff votes worth .5XP.<br/>@@ * Every 10 hours of connection time nets a .1XP award, and resets votes to 10.<br/>@@ * The XP System now keeps track of a player's last 15 votes. Players cannot vote for the same person within the first 3 votes of the list.<br/>@@ * Added Staff-only command: +xp/status. This allows Staff to get a player's XP status and see the last 15 people they have voted for.<br/>@@ * Added Staff-only command: +xp/set. This allows Staff to adjust a player's XP.<br/>@@<br/>@@ Important Notes:<br/>@@ * The +vote command makes use of the Mux in a Minute STAT system and references the 'bkapprove' ability to determine if a character is approved or not. If you are not using that set of code, it will need to be removed or replaced by similar code that works for your MUX.<br/>@@ * The flaglists of the @aconnect, @adisconnect, and XP attributes will need to be looked at and modified for your MUX's use to ensure it works like you want it to.<br/>@@ * +xp will not work for players/staff with any of the following flags: Wizard, Royalty, Staff, Immortal, Fixed, Head, Uninspected. Meaning you will have to test it with an approved player character on your MUX. (Had a few people claim it was broke so felt I should add this note here. ;)<br/>@@<br/>@@ These revisions were done by Xelloss@ChaosMUX (unopened). Email: voidspiral@hotmail.com.<br/>@@<br/>@@ *** Be sure to take note of the last of the file before quoting this text!<br/><br/>@create XP System=10<br/>@Aconnect XP System=@switch [orflags(%#,WZwif?g)]=0,{@switch [gte(u(%#/timeon),36000)]=1,{&amp;STATSXP %#=[add([u(%#/STATSXP)],.1)]; @wait 1=&amp;timeon %#=0; &amp;votes %#=10;}<br/>@Adisconnect XP System=@switch [orflags(%#,WZwif?g)]=0,{&amp;timeon %#=[add(u(%#/timeon),sub(convtime(time()),convtime(u(%#/last))))]};<br/>&amp;VOTE XP System=$+vote *:@switch [isstaff(%#)][match(type(*%0),PLAYER)][or([not([match([getabil(%#,bkapprove)],Approved*)])],[match([extract([get(%#/LASTVOTE)],1,3,|)],[num(*%0)],|)],[match(%#,[num(*%0)])],[lt(get(%#/VOTES),1)])]=00?,{@Pemit %#=%ch%cg[mudname()] XP System:%cn That is not a valid player.},10?,{@pemit %#=%ch%cm[mudname()] XP System:%cn That is not a valid player.},011,{@Pemit %#=%ch%cg[mudname()] XP System:%cn You may not vote for the same player twice, for yourself, if you are unapproved or if you are out of votes.},010,{&amp;VOTES %#=[sub(get(%#/VOTES),1)]; &amp;STATSXP *%0=[add(get(*%0/XP),.1)]; @pemit %#=%ch%cg[mudname()] XP System:%cn You have voted for [name(*%0)].;&amp;LASTVOTE %#=[switch([words([get(%#/LASTVOTE)])],0,[num(*%0)],&lt;14,[num(*%0)]|[get(%#/LASTVOTE)],[num(*%0)]|[extract([get(%#/LASTVOTE)],1,14,|)])];@pemit *%0=%ch%cg[mudname()] XP System:%cn Someone has just voted for you!},11?,{&amp;STATSXP *%0=[add(get(*%0/XP),.5)];@pemit *%0=%ch%cg[mudname()] XP System:%cn A Staff member has just voted for you!;&amp;LASTVOTE %#=[switch([words([get(%#/LASTVOTE)])],0,[num(*%0)],&lt;14,[num(*%0)]|[get(%#/LASTVOTE)],[num(*%0)]|[extract([get(%#/LASTVOTE)],1,14,|)])];@pemit %#=%ch%cm[mudname()] XP System:%cn You have voted for [name(*%0)].}<br/>&amp;XP XP System=$+xp:@switch [orflags(%#,WZwif?g)]=0,{@pemit %#=[center(%ch%cy&gt;%b%ch%cg[mudname()] XP System%b%ch%cy&lt;%cn,78,%ch%cy=%cn)]%rYou have [u(%#/STATSXP)] Experience Point(s), and [u(%#/VOTES)] Vote(s).;@switch [gte(u(%#/timeon),36000)]=1,{@pemit %#=You have earned an additional XP award for connection time!%r[center(%ch%cy&gt;%b%ch%cgRecent +VOTES%b%ch%cy&lt;%cn,78,%ch%cy-%cn)]%r[setq(0,[extract([get(%#/LASTVOTE)],1,3,|)])][switch([words(%q0,|)],0,You have not voted for anyone yet!,1,[name(*%q0)],[andlist([iter(%q0,[name(*##)],|)])])]%r[repeat(%ch%cy-%cn,78)]%rDon't forget to +vote for good RP!%r[repeat(%ch%cy=%cn,78)]; &amp;STATSXP %#=[add([u(%#/STATSXP)],.1)]; @wait 1=&amp;timeon %#=0; &amp;votes %#=10;},0,{@switch gte(u(%#/timeon),32400)=0,{@pemit %#=You have [mid(fdiv(div(sub(36000,u(%#/timeon)),60),60),0,3)] hours left before you get an XP award for connection time.%r[center(%ch%cy&gt;%b%ch%cgRecent +VOTES%b%ch%cy&lt;%cn,78,%ch%cy-%cn)]%r[setq(0,[extract([get(%#/LASTVOTE)],1,3,|)])][switch([words(%q0,|)],0,You have not voted for anyone yet!,1,[name(*%q0)],[andlist([iter(%q0,[name(*##)],|)])])]%r[repeat(%ch%cy-%cn,78)]%rDon't forget to +vote for good RP!%r[repeat(%ch%cy=%cn,78)]},1,{@pemit %#=You have [div(sub(36000,u(%#/timeon)),60)] minutes left before you get an XP award for connection time.%r[center(%ch%cy&gt;%b%ch%cgRecent +VOTES%b%ch%cy&lt;%cn,78,%ch%cy-%cn)]%r[setq(0,[extract([get(%#/LASTVOTE)],1,3,|)])][switch([words(%q0,|)],0,You have not voted for anyone yet!,1,[name(*%q0)],[andlist([iter(%q0,[name(*##)],|)])])]%r[repeat(%ch%cy-%cn,78)]%rDon't forget to +vote for good RP!%r[repeat(%ch%cy=%cn,78)]}}}<br/>&amp;CREDITS XP System=This XP tracker was coded by Gwen Morse (goldmooneachna@yahoo.com). It has been modified by Xelloss@ChaosMUX from its original version to work with the MiaM code from Pendersen and the SGP globals as provided in the release of TinyMUX 2.0/2.1. Later minimal revisions by Gwen Morse to make it more universally portable.<br/>@set XP System=INHERIT<br/>@set XP System=SAFE<br/><br/>@@ The following commands should be placed on your Global Staff Object, or another object use-locked to Staff members.<br/>@@ You can easily replace the text ##Global Staff Object## with your object information.<br/><br/>&amp;CMD-XP_STATUS ##Global Staff Object##=$+xp/status *:@switch [setq(0,[num(*%0)])][type(%q0)]=PLAYER,{@pemit %#=[center(%ch%cc&gt;%b%ch%cm[mudname()] XP System%b%ch%cc&lt;%cn,78,%ch%cc=%cn)]%r[name(*%q0)] has [u(%q0/STATSXP)] Experience Point(s), and [u(%q0/VOTES)] Vote(s).;@switch [gte(u(%q0/timeon),36000)]=1,{@pemit %#=[name(*%q0)] has earned an additional XP award for connection time!%r[center(%ch%cc&gt;%b%ch%cmRecent +VOTES%b%ch%cc&lt;%cn,78,%ch%cc-%cn)]%r[setq(1,[get(%q0/LASTVOTE)])][switch([words(%q1,|)],0,[name(*%q0)] has not voted for anyone yet!,1,[name(*%q1)],[andlist([iter(%q1,[name(*##)],|)])])]%r[repeat(%ch%cy=%cn,78)]; &amp;STATSXP %q0=[add([u(%q0/STATSXP)],.1)]; @wait 1=&amp;timeon %q0=0; &amp;votes %q0=10;},0,{@switch gte(u(%q0/timeon),32400)=0,{@pemit %#=[name(*%q0)] has [mid(fdiv(div(sub(36000,u(%#/timeon)),60),60),0,3)] hours left before receiving an XP award for connection time.%r[center(%ch%cc&gt;%b%ch%cmRecent +VOTES%b%ch%cc&lt;%cn,78,%ch%cc-%cn)]%r[setq(1,[get(%q0/LASTVOTE)])][switch([words(%q1,|)],0,[name(*%q0)] has not voted for anyone yet!,1,[name(*%q1)],[andlist([iter(%q1,[name(*##)],|)])])]%r[repeat(%ch%cc=%cn,78)]},1,{@pemit %#=[name(*%q0)] has [div(sub(36000,u(%#/timeon)),60)] minutes left before receiving an XP award for connection time.%r[center(%ch%cc&gt;%b%ch%cmRecent +VOTES%b%ch%cc&lt;%cn,78,%ch%cc-%cn)]%r[setq(1,[get(%q0/LASTVOTE)])][switch([words(%q1,|)],0,[name(*%q0)] has not voted for anyone yet!,1,[name(*%q1)],[andlist([iter(%q1,[name(*##)],|)])])]%r[repeat(%ch%cc=%cn,78)]}}},{@pemit %#=%ch%cm[mudname()] XP System:%cn ERROR: Cannot locate a player named '%0'.}<br/>&amp;CMD-XP_SET ##Global Staff Object##=$+xp/set *=*:@switch [setq(0,[num(*%0)])][type(*%q0)]=PLAYER,{@switch [setq(1,[add([get(%q0/STATSXP)],%1)])][lt(%q1,0)]=1,{@pemit %#=%ch%cm[mudname()] XP System:%cn You may not drop a player's XP below 0.},{&amp;STATSXP %q0=%q1;@pemit %#=%ch%cm[mudname()] XP System:%cn You adjust [name(*%q0)]'s XP by %1. Their total XP is: [get(%q0/STATSXP)].;@pemit *%q0=%ch%cg[mudname()] XP System:%cn A Staff member has adjusted your XP! Your total XP is: [get(%q0/STATSXP)].}},{@pemit %#=%ch%cm[mudname()] XP System:%cn ERROR: Cannot locate a player named '%0'.}<br/>
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>