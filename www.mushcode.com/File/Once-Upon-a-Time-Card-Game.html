<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Once Upon a Time Card Game</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Once-Upon-a-Time-Card-Game.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Once-Upon-a-Time-Card-Game.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Once-Upon-a-Time-Card-Game.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Once-Upon-a-Time-Card-Game.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Once-Upon-a-Time-Card-Game.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Once-Upon-a-Time-Card-Game.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Games.html">Games</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Once-Upon-a-Time-Card-Game.html#">Once Upon a Time Card Game</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Once Upon a Time Card Game
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>Once Upon a Time - A storytelling game based around cards. Can you get rid of all your cards?</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <span>
                    <a href="../Author/Walker@M-U-S-H.html">Walker</a>@<a href="../Source/M-U-S-H.html">M*U*S*H</a>
                </span>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Games.html">Games</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="http://www.mushcode.com/Command/@link" class="command">@link</a>,
                    <a href="http://www.mushcode.com/Command/@name" class="command">@name</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="http://www.mushcode.com/Command/@teleport" class="command">@teleport</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/after.html" class="function">after&#40;&#41;</a>,
                        <a href="../Function/ansi.html" class="function">ansi&#40;&#41;</a>,
                        <a href="../Function/aposs.html" class="function">aposs&#40;&#41;</a>,
                        <a href="../Function/art.html" class="function">art&#40;&#41;</a>,
                        <a href="../Function/before.html" class="function">before&#40;&#41;</a>,
                        <a href="../Function/cand.html" class="function">cand&#40;&#41;</a>,
                        <a href="../Function/capstr.html" class="function">capstr&#40;&#41;</a>,
                        <a href="../Function/ceil.html" class="function">ceil&#40;&#41;</a>,
                        <a href="../Function/cor.html" class="function">cor&#40;&#41;</a>,
                        <a href="../Function/create.html" class="function">create&#40;&#41;</a>,
                        <a href="../Function/default.html" class="function">default&#40;&#41;</a>,
                        <a href="../Function/edit.html" class="function">edit&#40;&#41;</a>,
                        <a href="../Function/elements.html" class="function">elements&#40;&#41;</a>,
                        <a href="../Function/emit.html" class="function">emit&#40;&#41;</a>,
                        <a href="../Function/eq.html" class="function">eq&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/fdiv.html" class="function">fdiv&#40;&#41;</a>,
                        <a href="../Function/first.html" class="function">first&#40;&#41;</a>,
                        <a href="../Function/gt.html" class="function">gt&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/hasattrval.html" class="function">hasattrval&#40;&#41;</a>,
                        <a href="../Function/if.html" class="function">if&#40;&#41;</a>,
                        <a href="../Function/inc.html" class="function">inc&#40;&#41;</a>,
                        <a href="../Function/inum.html" class="function">inum&#40;&#41;</a>,
                        <a href="../Function/isnum.html" class="function">isnum&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/itext.html" class="function">itext&#40;&#41;</a>,
                        <a href="../Function/last.html" class="function">last&#40;&#41;</a>,
                        <a href="../Function/lattr.html" class="function">lattr&#40;&#41;</a>,
                        <a href="../Function/lcon.html" class="function">lcon&#40;&#41;</a>,
                        <a href="../Function/lcstr.html" class="function">lcstr&#40;&#41;</a>,
                        <a href="../Function/ldelete.html" class="function">ldelete&#40;&#41;</a>,
                        <a href="../Function/left.html" class="function">left&#40;&#41;</a>,
                        <a href="../Function/lflags.html" class="function">lflags&#40;&#41;</a>,
                        <a href="../Function/ljust.html" class="function">ljust&#40;&#41;</a>,
                        <a href="../Function/lnum.html" class="function">lnum&#40;&#41;</a>,
                        <a href="../Function/localize.html" class="function">localize&#40;&#41;</a>,
                        <a href="../Function/locate.html" class="function">locate&#40;&#41;</a>,
                        <a href="../Function/lt.html" class="function">lt&#40;&#41;</a>,
                        <a href="../Function/lte.html" class="function">lte&#40;&#41;</a>,
                        <a href="../Function/match.html" class="function">match&#40;&#41;</a>,
                        <a href="../Function/matchall.html" class="function">matchall&#40;&#41;</a>,
                        <a href="../Function/member.html" class="function">member&#40;&#41;</a>,
                        <a href="../Function/mod.html" class="function">mod&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/neq.html" class="function">neq&#40;&#41;</a>,
                        <a href="../Function/not.html" class="function">not&#40;&#41;</a>,
                        <a href="../Function/null.html" class="function">null&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/pemit.html" class="function">pemit&#40;&#41;</a>,
                        <a href="../Function/remove.html" class="function">remove&#40;&#41;</a>,
                        <a href="../Function/repeat.html" class="function">repeat&#40;&#41;</a>,
                        <a href="../Function/rest.html" class="function">rest&#40;&#41;</a>,
                        <a href="../Function/revwords.html" class="function">revwords&#40;&#41;</a>,
                        <a href="../Function/right.html" class="function">right&#40;&#41;</a>,
                        <a href="../Function/rjust.html" class="function">rjust&#40;&#41;</a>,
                        <a href="../Function/secs.html" class="function">secs&#40;&#41;</a>,
                        <a href="../Function/set.html" class="function">set&#40;&#41;</a>,
                        <a href="../Function/setdiff.html" class="function">setdiff&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/setr.html" class="function">setr&#40;&#41;</a>,
                        <a href="../Function/setunion.html" class="function">setunion&#40;&#41;</a>,
                        <a href="../Function/shuffle.html" class="function">shuffle&#40;&#41;</a>,
                        <a href="../Function/squish.html" class="function">squish&#40;&#41;</a>,
                        <a href="../Function/strcat.html" class="function">strcat&#40;&#41;</a>,
                        <a href="../Function/strlen.html" class="function">strlen&#40;&#41;</a>,
                        <a href="../Function/strmatch.html" class="function">strmatch&#40;&#41;</a>,
                        <a href="../Function/subj.html" class="function">subj&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/t.html" class="function">t&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/wipe.html" class="function">wipe&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>,
                        <a href="../Function/wrap.html" class="function">wrap&#40;&#41;</a>,
                        <a href="../Function/xget.html" class="function">xget&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Once Upon a Time Card Game
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Once-Upon-a-Time-Card-Game.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @@ Project walkerOnceUponATime<br/>@@ Version 3<br/>@@<br/>@@ Description:<br/>@@     Once Upon a Time - A storytelling game based around cards.<br/>@@     Can you get rid of all your cards?<br/>@@<br/>@@ Version log:<br/>@@     Author: Walker &lt;Mush&gt;<br/>@@     Date:   Wed Dec 10 18:04:47 2008 -0800<br/>@@         v3v<br/>@@         <br/>@@         Now ignoring the PLAY tree, for active games.<br/>@@<br/>@@ Readme:<br/>@@     This creates Once Upon A Time parent: It is intended to be<br/>@@     parented to, not directly used.<br/>@@<br/>@@ Language: MushCode<br/>@@ Installer file created by RubySVC (Softcode Version Control)<br/>@@<br/>@@<br/>@@<br/>@@ Creating Rooms, Things and Exits.<br/>@@<br/>@@<br/>@set me=SVC`Tb1229d45e4233bba6d42:[default(SVC`Tb1229d45e4233bba6d42,create(Tb1229d45e4233bba6d42))]<br/>@set me=SVC`Tb64254f2839937ed3091:[default(SVC`Tb64254f2839937ed3091,create(Tb64254f2839937ed3091))]<br/>@set me=SVC`Tcab4976d21cb0af63681:[default(SVC`Tcab4976d21cb0af63681,create(Tcab4976d21cb0af63681))]<br/>@set me=SVC`T01645c003eb33c520362:[default(SVC`T01645c003eb33c520362,create(T01645c003eb33c520362))]<br/>@@<br/>@@<br/>@@ Objects created, now setting attributes, locks, etc.<br/>@@<br/>@@<br/>@@<br/>@@ Filling out Classic Fairy Tale Deck<br/>@@<br/>@name [v(SVC`Tb1229d45e4233bba6d42)]=Classic Fairy Tale Deck<br/>@tel [v(SVC`Tb1229d45e4233bba6d42)]=v(SVC`T01645c003eb33c520362)<br/>@set [v(SVC`Tb1229d45e4233bba6d42)]=iter(setdiff(lflags([v(SVC`Tb1229d45e4233bba6d42)]),NO_COMMAND VISUAL),!##) [setdiff(NO_COMMAND VISUAL,lflags([v(SVC`Tb1229d45e4233bba6d42)]))]<br/>&amp;ENDINGS [v(SVC`Tb1229d45e4233bba6d42)]=and so the prophecy was fulfilled|which proves that one should be more careful in choosing companions|and they lived happily ever after|and s/he never doubted his/her mother again|and the village returned to prosperity|and the land had a new king|and the land had a new queen|which proves that one should be careful what one wishes for|and it never troubled them again|and it has been like that to this day|which is why you never see them any more|but it was all a dream|and she resolved never to tell a lie again|and he never stole again|and so the riddle was finally answered|but it vanished as mysteriously as it had appeared|and everything returned to the way it was|which is why everyone should pay attention to details|and they had many fine children|and the tree still stands there as a reminder|and the river dried up|but they never saw their friend again|but they always remembered what they had learned|and so justice prevailed|and so mercy prevailed|and so love conquered all|which shows that the pen is mightier than the sword|which shows that the sword is mightier than the pen|which proves that if you can't beat them, join them|and s/he great up and became a great hero|and s/he returned home at last|and no one ever found out why|and the great danger was averted|the long Winter ended and Spring arrived at last|and parents still tell their children of the great sacrifice that saved us|which is why you should always doublecheck your figures|and the forest became a good place to live again|and people came from miles around to see it|and hope was restored|so they threw a huge party to celebrate|and a new age of peace and joy began|and so they built a new dam and saved the town|and that's why you should never rush things|and s/he smiled and walked off into the sunset|and now the minstrels sing of the mighty battle|and s/he lived meekly forever after<br/>&amp;COLORS.PLACE [v(SVC`Tb1229d45e4233bba6d42)]=g<br/>&amp;COLORS.ITEM [v(SVC`Tb1229d45e4233bba6d42)]=bh<br/>&amp;COLORS.EVENT [v(SVC`Tb1229d45e4233bba6d42)]=gh<br/>&amp;COLORS.ENDING [v(SVC`Tb1229d45e4233bba6d42)]=h<br/>&amp;COLORS.CHARACTER [v(SVC`Tb1229d45e4233bba6d42)]=ch<br/>&amp;COLORS.ASPECT [v(SVC`Tb1229d45e4233bba6d42)]=yh<br/>&amp;CARDS.PLACE [v(SVC`Tb1229d45e4233bba6d42)]=castle|cave|tower|forest|ruin|prison|ocean|river|mountain|valley|village|city|kingdom|foothills|tavern|chapel|stairs|hovel|palace|market|secret passage<br/>&amp;CARDS.ITEM [v(SVC`Tb1229d45e4233bba6d42)]=sword|boat|tree|ball|window|door|bird|lamp|sack|axe|shoes|hat|dress|knife|potion|ring|crown|stone|necklace|spinning wheel|food<br/>&amp;CARDS.EVENT [v(SVC`Tb1229d45e4233bba6d42)]=two people fall in love|people meet|a fight|a storm|this animal can talk|it grants a wish|it can fly|someone gets hurt|a spell is cast|an enchantment is broken|a journey|someone gets lost|something gets lost|a secret is revealed|a promise is made|help arrives|something surprising happens|an object breaks|it disappears|a group divides|a dream<br/>&amp;CARDS.CHARACTER [v(SVC`Tb1229d45e4233bba6d42)]=prince|frog|old man|old woman|witch/wizard|shepherdess|giant|wolf|stepmother|stepfather|fairy|monster|mother|father|thief|enemy|child|horse|king|queen|princess<br/>&amp;CARDS.ASPECT [v(SVC`Tb1229d45e4233bba6d42)]=ugly|beautiful|wise|foolish|rich|poor|fast|slow|hidden|loud|quiet|angry|happy|sad|frightened|golden|silver|evil|good|false|true<br/>@@<br/>@@ Filling out Science Fiction Deck<br/>@@<br/>@name [v(SVC`Tb64254f2839937ed3091)]=Science Fiction Deck<br/>@tel [v(SVC`Tb64254f2839937ed3091)]=v(SVC`T01645c003eb33c520362)<br/>@link [v(SVC`Tb64254f2839937ed3091)]=v(SVC`T01645c003eb33c520362)<br/>@set [v(SVC`Tb64254f2839937ed3091)]=iter(setdiff(lflags([v(SVC`Tb64254f2839937ed3091)]),NO_COMMAND VISUAL),!##) [setdiff(NO_COMMAND VISUAL,lflags([v(SVC`Tb64254f2839937ed3091)]))]<br/>&amp;TYPE [v(SVC`Tb64254f2839937ed3091)]=Parent game<br/>&amp;ENDINGS [v(SVC`Tb64254f2839937ed3091)]=and so the legends came true|which proves that one should be more careful in choosing companions|and they lived happily ever after|and s/he never doubted his/her teacher again|and the planet returned to prosperity|and the galaxy had a new ruler|which proves that one should be careful what one wishes for|and it never troubled them again|and it has been like that to this day|which is why you never see them any more|but it was all destroyed in an apocalypse, and is now just a memory|and she boarded her ship and flew off|and he never stole again|and so the riddle was finally answered|but it vanished as mysteriously as it had appeared|and everything returned to the way it was|which is why everyone should pay attention to details|and they had many fine children|and so the revolt was put down and freedom triumphed|and so the government was overthrown and freedom triumphed|but they never saw their friend again|but they always remembered what they had learned|and so justice prevailed|and so mercy prevailed|and so love conquered all|which shows that the pen is mightier than the blaster|which shows that the blaster is mightier than the pen|which proves that if you can't beat them, join them|and s/he grew up and became a great hero|and s/he returned home at last|and no one ever found out why|and the great danger was averted|and the universe returned to peace|and parents still tell their children of the great sacrifice that saved us|which is why you should always doublecheck your figures|and people and machines never warred again|and the galactic economy was restored|and hope was restored|so they threw a huge party to celebrate|and a new age of peace and joy began|and a new star was born|and that's why you should never rush things|so they signed the Accords instead|and there was induced pleasure for all|and the humans triumphed...or did they?|which is why you should obey the Prime Directive<br/>&amp;COLORS.PLACE [v(SVC`Tb64254f2839937ed3091)]=g<br/>&amp;COLORS.ITEM [v(SVC`Tb64254f2839937ed3091)]=bh<br/>&amp;COLORS.EVENT [v(SVC`Tb64254f2839937ed3091)]=gh<br/>&amp;COLORS.ENDING [v(SVC`Tb64254f2839937ed3091)]=h<br/>&amp;COLORS.CHARACTER [v(SVC`Tb64254f2839937ed3091)]=ch<br/>&amp;COLORS.ASPECT [v(SVC`Tb64254f2839937ed3091)]=yh<br/>&amp;CARDS.PLACE [v(SVC`Tb64254f2839937ed3091)]=aboard a spaceship|on a planet|wormhole|nebula|canals|alien city|space station|on a moon|in space|office|bedroom|city|continent|desert|palace|cantina|holodeck|slum|headquarters|hangar|secret passage<br/>&amp;CARDS.ITEM [v(SVC`Tb64254f2839937ed3091)]=laser|spaceship|analyzer|computer|tool|uniform|ritual object|light source|waldo/robot|time machine|sword|sensor|map|monolith|food|spacesuit|robotic body part|transporter|viewscreen|communicator|drug<br/>&amp;CARDS.EVENT [v(SVC`Tb64254f2839937ed3091)]=two people fall in love|people meet|a fight between people|a space battle|this creature/object is sapient|something explodes|it can fly|someone gets hurt|a computer is programmed|something breaks down|a journey|someone gets lost|something gets lost|a secret is revealed|a promise is made|help arrives|something surprising happens|an object is built|a new civilization is found|a group divides|a dream<br/>&amp;CARDS.CHARACTER [v(SVC`Tb64254f2839937ed3091)]=pilot|captain|officer|ensign|alien|android|robot|monster|governor|computer|AI|Martian|Terran|enemy|rebel|emperor/empress|telepath|scientist|engineer|creature|hacker<br/>&amp;CARDS.ASPECT [v(SVC`Tb64254f2839937ed3091)]=hyperspace/faster-than-light|psychic|automatic|subspace|gleaming|dull|fast|slow|hidden|loud|quiet|angry|happy|sad|frightened|silicon-based|carbon-based|evil|good|false|true<br/>@@<br/>@@ Filling out Horror/Slasher Movie Deck<br/>@@<br/>@name [v(SVC`Tcab4976d21cb0af63681)]=Horror/Slasher Movie Deck<br/>@tel [v(SVC`Tcab4976d21cb0af63681)]=v(SVC`T01645c003eb33c520362)<br/>@set [v(SVC`Tcab4976d21cb0af63681)]=iter(setdiff(lflags([v(SVC`Tcab4976d21cb0af63681)]),NO_COMMAND VISUAL),!##) [setdiff(NO_COMMAND VISUAL,lflags([v(SVC`Tcab4976d21cb0af63681)]))]<br/>&amp;TYPE [v(SVC`Tcab4976d21cb0af63681)]=parent game<br/>&amp;ENDINGS [v(SVC`Tcab4976d21cb0af63681)]=Moral: If a house tells you to "GO AWAY", do so immediately.|Moral: Never take a bath or shower with a maniac/creature in the house.|Moral: Never check to see if something you killed is really dead. |Moral: Whatever you do, DO NOT check upstairs! For any reason.|Moral: If plumbing fixtures spew body fluids, it's time to move out.|Moral: Never read a book of demon summoning aloud, even as a joke.|Moral: Don't look under the bed.|Moral: Do not search the basement if the power has just gone out.|Moral: If relatives or pets come back from the dead, stay as far away from them as possible.|Moral: If inanimate objects such as dolls, toys, or furniture attack you, be prudent and leave the area.|Moral: When you hide, don't peek out.|Moral: Never believe that a companion is truly "dispossessed"|Moral: Never back into a room.|Moral: If children speak to you in a language or voice they should not have, destroy them immediately.|Moral: When you have the benefit of numbers, *NEVER* pair off or go it alone!!!|Moral: Never get into a car without first checking the back seat for occupants.|Moral: Don't solve puzzles that open portals to Hell.|Moral: Don't fall asleep if you have a history of homicidal/suicidal nightmares.|Moral: Never stand in, on, above, below, beside, or near a grave, tomb, crypt, mausoleum, etc.|Moral: If you're searching for something which caused a noise and find out that it's just the cat, LEAVE THE ROOM IMMEDIATELY ELSE YOU WILL QUICKLY DIE.|Moral: Do not take anything from the dead.|Moral: If you find a town which looks deserted, it's probably for a reason.|Moral: Don't fool with recombinant DNA technology unless you're sure you know what you are doing.|Moral: Never take the dare to spend a night in a haunted house.|Moral: Beware of transvestite doctors that sing.|Moral: Avoid secluded mountain resorts.|Moral: Fooling around leads to gruesome death.|Moral: Curiosity killed the cat, and its owner too.|Moral: Stay out of the woods.|Moral: Don't accept gifts from thousand-year-old strangers.|Moral: Luck, and a weapon, will see you through most events.|Moral: The devil is in the details.|Moral: Everyone makes mistakes.|Moral: Haste makes waste.|Moral: People who live in glass houses should expect to bleed. A lot.|Moral: Once bitten, twice shy.|Moral: Measure twice, cut once.<br/>&amp;COLORS.PLACE [v(SVC`Tcab4976d21cb0af63681)]=g<br/>&amp;COLORS.ITEM [v(SVC`Tcab4976d21cb0af63681)]=bh<br/>&amp;COLORS.EVENT [v(SVC`Tcab4976d21cb0af63681)]=gh<br/>&amp;COLORS.ENDING [v(SVC`Tcab4976d21cb0af63681)]=h<br/>&amp;COLORS.CHARACTER [v(SVC`Tcab4976d21cb0af63681)]=ch<br/>&amp;COLORS.ASPECT [v(SVC`Tcab4976d21cb0af63681)]=yh<br/>&amp;CARDS.PLACE [v(SVC`Tcab4976d21cb0af63681)]=schoolyard|cave|old house|forest|ruin|prison|street|campsite|crypt|churchyard|village|city|in a church|hotel|pub|under a bridge|stairs|underground|behind the curtain|THERE! RIGHT THERE, OH MY GOD!|secret passage<br/>&amp;CARDS.ITEM [v(SVC`Tcab4976d21cb0af63681)]=bible|chainsaw|knife|silver bullet|cross|garlic|raven|torch|sack|axe|shoes|hat|mask|book|food|drink|poison|stone|fire|secret ingredient|bandages<br/>&amp;CARDS.EVENT [v(SVC`Tcab4976d21cb0af63681)]=two people make out|people meet|a fight|a storm|its eyes glow red|it rises from the dead|someone takes a shower|someone gets hurt|a spell is cast|an enchantment is broken|the power goes out|someone gets lost|something gets lost|a secret is revealed|someone is possessed|help arrives|something surprising happens|an object shatters|it disappears|a group divides|a nightmare<br/>&amp;CARDS.CHARACTER [v(SVC`Tcab4976d21cb0af63681)]=teenager|child|old man|old woman|ghost|spirit|demon|monster|werewolf|mummy|zombie|witch|sorceror|cheerleader|camper|jason/freddy/etc|vampire|cat|cultist|alien|victim<br/>&amp;CARDS.ASPECT [v(SVC`Tcab4976d21cb0af63681)]=ugly|beautiful|helpless|shrieking|bloody|painful|disembodied|fleeing|hidden|loud|quiet|angry|happy|sad|frightened|mangled|whole/complete|evil|good|false|true<br/>@@<br/>@@ Filling out Once Upon a Time parent<br/>@@<br/>@name [v(SVC`T01645c003eb33c520362)]=Once Upon a Time parent<br/>@lock/USER:Basic [v(SVC`T01645c003eb33c520362)]==%!<br/>@set [v(SVC`T01645c003eb33c520362)]=iter(setdiff(lflags([v(SVC`T01645c003eb33c520362)]),LINK_OK OPAQUE),!##) [setdiff(LINK_OK OPAQUE,lflags([v(SVC`T01645c003eb33c520362)]))]<br/>&amp;VB.HELP [v(SVC`T01645c003eb33c520362)]=@@(%vb: The currently chosen deck of cards)<br/>@set [v(SVC`T01645c003eb33c520362)]=VB:[v(SVC`Tb1229d45e4233bba6d42)]<br/>&amp;VA.HELP [v(SVC`T01645c003eb33c520362)]=@@(%va: The dbref of the object containing the card decks)<br/>@set [v(SVC`T01645c003eb33c520362)]=VA:[v(SVC`T01645c003eb33c520362)]<br/>&amp;USE [v(SVC`T01645c003eb33c520362)]=[ansi(h,Once Upon a Time ...)]%rSetup:%r%b%b[ansi(h,join)] - Join the game.%r%b%b[ansi(h,quit)] - Quit the game.%r%b%b[ansi(h,deal)] - Clear and re-deal the game with the most recently chosen deck.%r%b%b[ansi(h,decks)] - List decks available for playing.%r%b%b[ansi(h,deal &lt;deckname&gt;)] - Deal out cards, but using the chosen deck.%r%rGameplay:%r%b%b[ansi(h,cards)] - See the cards in your hand.%r%b%b[ansi(h,play &lt;name|number&gt;)] - Plays the chosen playing card. (In turn)%r%tIf you're out of playing cards, it'll test against the endings.%r%b%b[ansi(h,interject &lt;name|number&gt;)] - Take over storytelling with your card. (Out of turn)%r%b%b[ansi(h,pass &lt;name|number)] - Passes your turn, discarding the selected card. (In turn)%r%b%b[ansi(h,refute)] - Refute the most recent play; normal or interjection.%r%b%b[ansi(h,interrupt &lt;name|number&gt;)] - Plays an interrupt card. (Out of turn)%r%rAdditional commands (in or out of turn):%r%b%b[ansi(h,draw)]%r%b%b[ansi(h,discard &lt;name|number)] - Discard a card.%r%b%b[ansi(h,draw ending)] - Draw an (additional) ending. Good for easier games or newbies.%r<br/>&amp;TYPE [v(SVC`T01645c003eb33c520362)]=Parent game<br/>&amp;S`RIGHT [v(SVC`T01645c003eb33c520362)]=[edit(wrap(iter(v(play`words),u(fun`display_name,itext(0)),|,\,%b),48),%r,if(gte(words(edit(v(play`words),|,%b)),35),%r,%r%r))]<br/>&amp;S`LINE [v(SVC`T01645c003eb33c520362)]=|%b[ljust(left(%0,19),19)]%b|%b[ljust(left(%1,50),50)]%b||<br/>&amp;S`LEFT [v(SVC`T01645c003eb33c520362)]=[iter(v(play`players),strcat(ansi([if(strmatch(##,v(play`turn)),h)]g,name(##)),%r,ljust(if(words(v(play`##.cards),|),ansi(r,\[[repeat(\],words(v(play`##.cards),|))])),10),rjust(if(words(v(play`##.ending),|),ansi(ch,\[\])),5),if(lt(words(v(play`players)),6),%r)),%b,%r)<br/>&amp;S`HEADER [v(SVC`T01645c003eb33c520362)]=%b%b______%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%r|¨%b%b%b%b%b%b¨¨¨¨---..__%b%b%b%b%b%b%b%b%b%b%b______________________%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%r|%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b¨-.%b.-¨¨¨¨¨%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b¨¨¨¨¨¨¨¨¨¨¨¨-------...._%b<br/>&amp;S`FOOTER [v(SVC`T01645c003eb33c520362)]=|%b______%b%b%b%b%b%b%b%b%b%b%b%b%b%b|%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b||%r%b=---___¨¨¨¨---..__%b%b%b|%b%b%b%b%b%b%b______________________%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b||%r%b%b%b%b%b%b%b%b¨¨¨---___%b%b¨-.|.-¨¨¨¨¨%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b¨¨¨¨¨¨¨¨¨¨¨¨-------....||%r%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b%b¨¨¨¨¨%b¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨%b%r<br/>&amp;SVC`IGNORE [v(SVC`T01645c003eb33c520362)]=PLAY<br/>&amp;SVC [v(SVC`T01645c003eb33c520362)]=<br/>&amp;S [v(SVC`T01645c003eb33c520362)]=String attributes<br/>&amp;PEMIT [v(SVC`T01645c003eb33c520362)]=pemit(%0,Storybook: %1)<br/>&amp;FUN`START_CARDS [v(SVC`T01645c003eb33c520362)]=switch(words(v(play`players)),1,10,2,10,3,8,4,7,5,6,5)<br/>&amp;FUN`SHUFFLE [v(SVC`T01645c003eb33c520362)]=strcat(set(me,play`cards:[shuffle(iter(edit(lattr(%vb/cards.*),CARDS.,),strcat(setq(c,ceil(fdiv(words(squish(xget(%vb,CARDS.##),|),|),10))),iter(shuffle(squish(xget(%vb,cards.##),|),|),##:[itext(0)][if(lte(inum(0),%qc),~)],|,|)),%b,|),|)]))<br/>&amp;FUN`POPCARD [v(SVC`T01645c003eb33c520362)]=localize(null(strcat(switch(1,isnum(3),<br/>&amp;FUN`NEXT [v(SVC`T01645c003eb33c520362)]=set(me,play`turn:[elements(v(play`players),inc(mod(match(v(play`players),v(play`turn)),words(v(play`players)))))])<br/>&amp;FUN`FINDDECK [v(SVC`T01645c003eb33c520362)]=if(num(%0),num(%0),locate(%va,%0,iT))<br/>&amp;FUN`FINDCARD [v(SVC`T01645c003eb33c520362)]=localize(switch(1,cand(isnum(%1),gte(%1,1),lte(%1,words(v(play`%0.cards),|))),CARD:[squish(%1)],cand(isnum(%1),eq(words(v(play`%0.cards),|),0),gte(%1,1),lte(%1,words(v(play`%0.ending),|))),ENDING:[squish(%1)],t(setr(0,matchall(v(play`%0.cards),*:*%1*,|))),if(eq(words(%q0,|),1),CARD:%q0,ERROR:Multiple playing cards matching '%1'.),cand(neq(words(v(play`%0.cards),|),0),not(strlen(%2))),ERROR:Cannot find playing card named '%1'.,strmatch(%1,ending),ENDING:1,t(setr(0,matchall(v(play`%0.ending),*:*%1*,|))),if(eq(words(%q0,|),1),ENDING:%q0,ERROR:Multiple endings matching '%1'.),ERROR:Cannot find ending card named '%1'.)<br/>&amp;FUN`DRAWENDING [v(SVC`T01645c003eb33c520362)]=localize(strcat(setq(1,v(play`%0.ending)),setq(0,shuffle(v(play`endings),|)),set(me,play`%0.ending:[setunion(%0.ENDING:[first(%q0,|)],%q1,|)]),set(me,play`endings:[rest(%q0,|)])))<br/>&amp;FUN`DRAW [v(SVC`T01645c003eb33c520362)]=localize(strcat(setq(0,v(play`%0.cards)),setq(1,shuffle(v(play`cards),|)),set(me,play`%0.cards:[setunion(%q0,[iter(extract(%q1,1,%1,|),%0.[itext(0)],|,|)],|)]),set(me,play`cards:[extract(%q1,inc(%1),10000,|)])))<br/>&amp;FUN`DISPLAY_NAME [v(SVC`T01645c003eb33c520362)]=localize(strcat(setq(0,after(%0,.)),setq(a,xget(%vb,colors.[before(%q0,:)])[if(strmatch(~,right(%q0,1)),u)]),iter(before(after(%q0,:),~),ansi(%qa,capstr(itext(0))),%b,%b)))<br/>&amp;FUN`DISCARD [v(SVC`T01645c003eb33c520362)]=switch(%1,CARD:*,set(me,play`%0.cards:[ldelete(v(play`%0.cards),after(%1,:),|)]),ENDING:*,set(me,play`%0.ending:[ldelete(v(play`%0.ending),after(%1,:),|)]))<br/>&amp;FUN`DEAL [v(SVC`T01645c003eb33c520362)]=strcat(setq(0,shuffle(v(play`players))),set(me,play:Current Game Tree),wipe(me/play`**),set(me,play`players:%q0),set(me,play`turn:[first(%q0)]),u(fun`shuffle),set(me,play`endings:[xget(%vb,endings)]),iter(%q0,strcat(set(me,play`##.cards:),u(fun`drawending,##),u(fun`draw,##,u(fun`start_cards))),%b,))<br/>&amp;FUN [v(SVC`T01645c003eb33c520362)]=Functions, no_command<br/>&amp;EMIT [v(SVC`T01645c003eb33c520362)]=emit(Storybook: %0)<br/>&amp;DESCRIBE [v(SVC`T01645c003eb33c520362)]=strcat(setq(l,u(s`left)),setq(r,u(s`right)),u(s`header),%r,iter(lnum(1,16),u(s`line,elements(%ql,##,%r),elements(%qr,##,%r)),%b,%r)%r,u(s`footer))<br/>&amp;CMD`REFUTE [v(SVC`T01645c003eb33c520362)]=$refute:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't playing!),strmatch(setr(r,v(play`refuted)),passed),u(pemit,%#,You can't refute a player passing!),strmatch(%qr,refuted),u(pemit,%#,Sorry\, I only support one level of refutation),strmatch(%qr,interrupted),u(pemit,%#,Interrupt cards are inviolate),eq(words(v(play`words),|),0),u(pemit,%#,The game hasn't even started yet!),strcat(u(emit,%N refutes the play.),set(me,play`refutes:[setunion(v(play`refutes),%#)]),if(cor(strmatch(%#,v(play`turn)),gte(words(v(play`refutes)),ceil(fdiv(words(v(play`players)),2)))),switch(1,t(strlen(setr(0,v(play`interrupt)))),strcat(u(emit,The interjection has been refuted. [name(v(play`turn))] draws 2 cards\, and [name(before(%q0,.))] shuffles [aposs(before(%q0,.))] new card back into the deck.),u(fun`draw,v(play`turn),2),set(me,play`cards:[v(play`cards)]|[after(%q0,.)]),set(me,play`words:[revwords(rest(revwords(v(play`words),|),|),|)]),set(me,play`turn:[before(%q0,.)]),set(me,play`[v(play`turn)].cards:[setdiff(v(play`[v(play`turn)].cards),%q0,|)])),strcat(setq(0,v(play`turn)),u(fun`next),setq(1,v(play`turn)),u(emit,[name(%q0)]'s play has been refuted. [capstr(subj(%q0))] draws two cards and play passes to [name(%q1)].),u(fun`draw,%q0,2),set(me,play`words:[revwords(rest(revwords(v(play`words),|),|),|)])))<br/>&amp;CMD`QUIT [v(SVC`T01645c003eb33c520362)]=$quit:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't playing!),strcat(wipe(me/play`%#.*),set(me,play`players:[remove(v(play`players),%#)]),if(strmatch(v(play`turn),%#),u(fun`next)),u(emit,%N stops playing "Once Upon A Time" and discards all of %p cards.))<br/>&amp;CMD`PLAY [v(SVC`T01645c003eb33c520362)]=$play *:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't playing.),strmatch(v(play`words),*ENDING*),u(pemit,%#,The game is over.),not(strmatch(v(play`turn),%#)),u(pemit,%#,It's not your turn.),lte(secs(),add(10,v(play`secs))),u(pemit,%#,Too late),strmatch(setr(0,u(fun`findcard,%#,%0)),ERROR:*),u(pemit,%#,after(%q0,:)),strmatch(%q0,CARD:*),strcat(set(me,play`secs:[secs()]),wipe(me/play`refuted),wipe(me/play`refutes),wipe(me/play`interrupt),set(me,play`words:[v(play`words)][if(hasattrval(me,play`words),|)][setr(1,elements(v(play`%#.cards),after(%q0,:),|))]),u(emit,%N plays [art(setr(2,before(after(%q1,.),:)))] [ansi(xget(%vb,colors.%q2),capstr(lcstr(%q2)))]: [u(fun`display_name,%q1)].),u(fun`discard,%#,%q0)),strmatch(%q0,ENDING:*),strcat(set(me,play`secs:[secs()]),wipe(me/play`refuted),wipe(me/play`refutes),wipe(me/play`interrupt),set(me,play`words:[v(play`words)][if(hastrval(me,play`words),|)][setr(1,elements(v(play`%#.ending),after(%q0,:),|))]),u(emit,%N plays %p ending card: [u(fun`display_name,%q1)]),u(fun`discard,%#,%q0))<br/>&amp;CMD`PASS [v(SVC`T01645c003eb33c520362)]=$pass *:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't a player!),strmatch(v(play`words),*ENDING*),u(pemit,%#,The game is over!),not(strmatch(v(play`turn),%#)),u(pemit,%#,It's not your turn!),strmatch(setr(0,u(fun`findcard,%#,%0)),ERROR:*),u(pemit,%#,after(%q0,:)),cor(strmatch(%q0,CARD:*),strmatch(%q0,ENDING:*)),strcat(set(me,play`refuted:passed),wipe(me/play`secs),wipe(me/play`interrupt),u(fun`next),u(emit,%N passes\, discarding [switch(%q0,CARD:*,a playing card,an ending)] and drawing a new one. It is now [name(v(play`turn))]'s turn.),u(fun`discard,%#,%q0),switch(%q0,CARD:*,u(fun`draw,%#,1),ENDING:*,u(fun`drawending,%#)),wipe(me/play`refutes))<br/>&amp;CMD`JOIN [v(SVC`T01645c003eb33c520362)]=$join:think switch(1,t(member(v(play`players),%#)),u(pemit,%#,You are already playing!),gte(words(v(play`players)),8),u(pemit,%#,Sorry, the game is full.),strmatch(v(play`words),*ENDING:*),strcat(u(emit,%N joins the game.),set(me,play`players:[v(play`players)] %#),if(not(hasattrval(me,play`turn)),set(me,play`turn:%#))),strcat(set(me,play`players:[v(play`players)] %#),u(fun`draw,%#,u(fun`start_cards)),u(fun`drawending,%#),u(emit,%N joins the game and draws [words(v(play`%#.cards),|)] cards and an ending.),if(strmatch(v(play`turn),),set(me,play`turn:%#)))<br/>&amp;CMD`INTERRUPT [v(SVC`T01645c003eb33c520362)]=$interrupt *:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't playing.),strmatch(v(play`words),*ENDING*),u(pemit,%#,The game is over.),strmatch(v(play`turn),%#),u(pemit,%#,But it's your turn!),lt(secs(),add(0[v(play`secs)],10)),u(pemit,%#,Too late.),strmatch(v(play`refuted),interrupted),u(pemit,%#,You can't interrupt an interrupt!),strmatch(v(play`refuted),passed),u(pemit,%#,The player of the last card has already passed\, you can't interrupt now.),strmatch(setr(0,u(fun`findcard,%#,%0)),ERROR:*),u(pemit,%#,after(%q0,:)),not(strmatch(%q0,CARD:*)),u(pemit,%#,You can't interrupt with an ending!),not(strmatch(right(setr(c,elements(v(play`%#.cards),after(%q0,:),|)),1),~)),u(pemit,%#,That card isn't an interrupt!),not(strmatch(setr(1,before(after(last(v(play`words),|),.),:)),setr(2,before(after(%qc,.),:)))),u(pemit,%#,You can't interrupt a [capstr(lcstr(%q1))] with a [capstr(lcstr(%q2))]!),strcat(set(me,play`refuted:interrupted),set(me,play`secs:[secs()]),setq(i,v(play`turn)),set(me,play`turn:%#),u(emit,%N interrupts with [art(setr(2,before(after(%qc,.),:)))] [ansi(xget(%vb,colors.%q2),capstr(lcstr(%q2)))] interrupt \, and [name(%qi)] draws a card.),u(fun`discard,%#,%q0),u(fun`draw,%qi,1)))<br/>&amp;CMD`INTERJECT [v(SVC`T01645c003eb33c520362)]=$interject *:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't playing.),strmatch(v(play`words),*ENDING*),u(pemit,%#,The game is over.),lt(secs(),add(0[v(play`secs)],10)),u(pemit,%#,Too late.),strmatch(v(play`turn),%#),u(pemit,%#,But it's your turn!),strmatch(setr(0,u(fun`findcard,%#,%0)),ERROR:*),u(pemit,%#,after(%q0,:)),strmatch(%q0,CARD:*),strcat(wipe(me/play`refuted),set(me,play`secs:[secs()]),wipe(me/play`refutes),setq(i,v(play`turn)),setq(o,v(play`%qi.cards)),u(fun`draw,%qi,1),setq(n,v(play`%qi.cards)),set(me,play`interrupt:[setdiff(%qn,%qo,|)]),set(me,play`turn:%#),set(me,play`words:[squish([v(play`words)]|[setr(1,elements(v(play`%#.cards),after(%q0,:),|))],|)]),u(emit,%N interjects with [art(setr(2,before(after(%q1,.),:)))] [ansi(xget(%vb,colors.%q2),capstr(lcstr(%q2)))]: [u(fun`display_name,%q1)]\, and [name(%qi)] draws a card..),u(fun`discard,%#,%q0)),strmatch(%q0,ENDING:*),strcat(wipe(me/play`refuted),set(me,play`secs:[secs()]),wipe(me/play`refutes),setq(i,v(play`turn)),setq(o,v(play`%qi.cards)),u(fun`draw,%qi,1),setq(n,v(play`%qi.cards)),set(me,play`interrupt:[setdiff(%qn,%qo,|)]),set(me,play`words:[v(play`words)][if(hastrval(me,play`words),|)][setr(1,elements(v(play`%#.ending),after(%q0,:),|))]),u(emit,%N interjects with %p ending card: [u(fun`display_name,%q1)]\, and [name(v(play`interrupt))] draws a card.),u(fun`discard,%#,%q0),set(me,play`turn:%#))<br/>&amp;CMD`DRAWENDING [v(SVC`T01645c003eb33c520362)]=$draw ending:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't a player!),strmatch(v(play`words),*ENDING*),u(pemit,%#,The game is over!),strcat(u(emit,%N draws an ending card.),u(fun`drawending,%#)))<br/>&amp;CMD`DRAW [v(SVC`T01645c003eb33c520362)]=$draw:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't a player!),strmatch(v(play`words),*ENDING*),u(pemit,%#,The game is over!),strcat(u(emit,%N draws a playing card.),u(fun`draw,%#,1)))<br/>&amp;CMD`DISCARD [v(SVC`T01645c003eb33c520362)]=$discard *:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't a player!),strmatch(v(play`words),*ENDING*),u(pemit,%#,The game is over!),strmatch(setr(0,u(fun`findcard,%#,%0,true)),ERROR:*),u(pemit,%#,after(%q0,:)),cor(strmatch(%q0,CARD:*),strmatch(%q0,ENDING:*)),strcat(u(emit,%N discards [switch(%q0,CARD:*,a playing card,an ending)].),u(fun`discard,%#,%q0)))<br/>&amp;CMD`DECKS [v(SVC`T01645c003eb33c520362)]=$decks:think u(pemit,%#,[ansi(g,%rAvailable decks:)]%r[iter(setunion(lcon(me),lcon(%va)),%b%b[name(##)],%b,%r)<br/>&amp;CMD`DEAL_DECK [v(SVC`T01645c003eb33c520362)]=$deal *:th switch(0,t(member(v(play`players),%#)),u(pemit,%#,You aren't playing!),t(setr(d,u(fun`finddeck,%0))),u(pemit,%#,I can't find that deck!),u(emit,%N deals a new game with [set(me,vb:%qd)][name(%vb)].[null(u(fun`deal))] It is now [name(v(play`turn))]'s turn.)<br/>&amp;CMD`DEAL [v(SVC`T01645c003eb33c520362)]=$deal:think switch(1,not(member(v(play`players),%#)),u(pemit,%#,You aren't playing!),u(emit,%N deals a new game with [name(%vb)].[null(u(fun`deal))] It is now [name(v(play`turn))]'s turn.)<br/>&amp;CMD`CARDS [v(SVC`T01645c003eb33c520362)]=$cards:think u(pemit,%#,switch(1,not(member(v(play`players),%#)),You aren't playing the game!,strmatch(v(play`words),*ENDING*),The game is over.,strcat(%r,if(hasattrval(me,play`%#.cards),Your cards:%r[iter(v(play`%#.cards),strcat(%b%b,rjust(#@,3),rjust(capstr(lcstr(after(before(setr(0,itext(0)),:),.))):%b,13),u(fun`display_name,%q0),if(strmatch(right(%q0,1),~),\, Interrupt)),|,%r)]%r),if(hasattrval(me,play`%#.ending),The ending[if(gt(words(v(play`%#.ending),|),1),s)] you want:%r[iter(v(play`%#.ending),[rjust(#@,5)]%b%b[u(fun`display_name,itext(0))],|,%r)])<br/>&amp;CMD [v(SVC`T01645c003eb33c520362)]=Commands, not set no_command<br/>&amp;AUTHOR [v(SVC`T01645c003eb33c520362)]=Walker @ M*U*S*H with help from Viila and Javelin. OUaT deck created by Javelin @ M*U*S*H<br/>@set [v(SVC`T01645c003eb33c520362)]/USE=no_command prefixmatch<br/>@set [v(SVC`T01645c003eb33c520362)]/S=no_command <br/>@set [v(SVC`T01645c003eb33c520362)]/FUN=no_command <br/>@set [v(SVC`T01645c003eb33c520362)]/DESCRIBE=no_command visual public nearby<br/>@@<br/>@@ Triggering all startups, oncreates, onupdates.<br/>@@<br/>
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>