<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Code: Keno</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Apple devices fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- Apple devices fullscreen -->
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Bootstrap -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap.min.css">
	<!-- Bootstrap responsive -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/bootstrap-responsive.min.css">
	<!-- jQuery UI -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../Theme/Flat/html/css/plugins/jquery-ui/smoothness/jquery.ui.theme.css">
	<!-- Theme CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/style.css">
	<!-- Color CSS -->
	<link rel="stylesheet" href="../Theme/Flat/html/css/themes.css">


    <link rel="stylesheet" href="../Content/site.css">

    <!-- jQuery -->
    <script src="../Theme/Flat/html/js/jquery.min.js"></script>
    <!-- Nice Scroll -->
    <script src="../Theme/Flat/html/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    <!-- jQuery UI -->
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.core.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.widget.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.mouse.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.resizable.min.js"></script>
    <script src="../Theme/Flat/html/js/plugins/jquery-ui/jquery.ui.sortable.min.js"></script>
    <!-- slimScroll -->
    <script src="../Theme/Flat/html/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <!-- Bootstrap -->
    <script src="../Theme/Flat/html/js/bootstrap.min.js"></script>
    <!-- Form -->
    <script src="../Theme/Flat/html/js/plugins/form/jquery.form.min.js"></script>

    <!-- Theme framework -->
    <script src="../Theme/Flat/html/js/eakroko.min.js"></script>
    <!-- Theme scripts -->
    <script src="../Theme/Flat/html/js/application.min.js"></script>

    <!--[if lte IE 9]>
		<script src="js/plugins/placeholder/jquery.placeholder.min.js"></script>
		<script>
			$(document).ready(function() {
				$('input, textarea').placeholder();
			});
		</script>
	<![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="http://www.mushcode.com/File/img/favicon.ico" />
    <!-- Apple devices Homescreen icon -->
    <link rel="apple-touch-icon-precomposed" href="http://www.mushcode.com/File/img/apple-touch-icon-precomposed.png" />

</head>

<body class="theme-green">
    <div id="navigation">
        <div class="container-fluid">
            <a href="../index.html" id="brand">MUSHCode.com</a>
        </div>
    </div>
    <div class="container-fluid" id="content">
        <div id="left">
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Keno.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>About</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../index.html">Overview</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Keno.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Files</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li class='dropdown'>
                        <a href="Keno.html#" data-toggle="dropdown">Code</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Bulletin-Board.html">Bulletin Board</a>
        </li>
        <li>
            <a href="../Category/Combat.html">Combat</a>
        </li>
        <li>
            <a href="../Category/Dynamic-Space.html">Dynamic Space</a>
        </li>
        <li>
            <a href="../Category/Fonts.html">Fonts</a>
        </li>
        <li>
            <a href="../Category/Functions.html">Functions</a>
        </li>
        <li>
            <a href="../Category/Games.html">Games</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Mail-Systems.html">Mail Systems</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Schedulers.html">Schedulers</a>
        </li>
        <li>
            <a href="../Category/Time.html">Time</a>
        </li>
        <li>
            <a href="../Category/Vehicles.html">Vehicles</a>
        </li>
        <li>
            <a href="../Category/Vendors.html">Vendors</a>
        </li>
        <li>
            <a href="../Category/Weather-Systems.html">Weather Systems</a>
        </li>
</ul>
                    </li>
                    <li class='dropdown'>
                        <a href="Keno.html#" data-toggle="dropdown">Classes</a>
                        
<ul class="dropdown-menu">
        <li>
            <a href="../Category/Administration.html">Administration</a>
        </li>
        <li>
            <a href="../Category/Building.html">Building</a>
        </li>
        <li>
            <a href="../Category/Globals.html">Globals</a>
        </li>
        <li>
            <a href="../Category/Hardcode.html">Hardcode</a>
        </li>
        <li>
            <a href="../Category/Other.html">Other</a>
        </li>
        <li>
            <a href="../Category/Softcode.html">Softcode</a>
        </li>
</ul>
                    </li>
                    <li>
                        <a href="../Manuals.html">Manuals</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Keno.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Misc</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Ascii2Mu.html">ASCII To MUSHCode</a>
                    </li>
                    <li>
                        <a href="../MushList.html">MUSH/MUX List</a>
                    </li>
                    <li>
                        <a href="../MushRoom.html">MUSHRoom</a>
                    </li>
                </ul>
            </div>
            <div class="subnav">
                <div class="subnav-title">
                    <a href="Keno.html#" class='toggle-subnav'>
                        <i class="icon-angle-down"></i>
                        <span>Contribute</span>
                    </a>
                </div>
                <ul class="subnav-menu">
                    <li>
                        <a href="../Submit.html">Submit</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="main">
            <div class="container-fluid">
                <div class="breadcrumbs">
                    <ul>
                        
    <li>
        <a href="../index.html">Home</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="../Category/Games.html">Games</a>
        <i class="icon-angle-right"></i>
    </li>
    <li>
        <a href="Keno.html#">Keno</a>
    </li>

                    </ul>
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        



<div class="box">
    <div class="box-title title">
        <h2>
            Keno
        </h2>
    </div>
    <div class="box-content">

        <div class="description">
            <p>A keno table with ANSI graphics. (This keno game uses a Role Playing MUSH money system, and the &amp;VAR_MONEY has to be changed accordingly. With a little work it could be made to work using the built-in MUSH currency.)</p>
        </div>

        <div class="author">
            <strong>Author:</strong>
                <a href="../Author/Demonic.html">Demonic</a>
        </div>

        <div class="author">
            <strong>Category:</strong>
            <a href="../Category/Games.html">Games</a>
        </div>

            <div class="commands">
            <strong>Commands:</strong>
                    <a href="../Command/@aenter.html" class="command">@aenter</a>,
                    <a href="../Command/@aleave.html" class="command">@aleave</a>,
                    <a href="http://www.mushcode.com/Command/@create" class="command">@create</a>,
                    <a href="http://www.mushcode.com/Command/@describe" class="command">@describe</a>,
                    <a href="../Command/@enter.html" class="command">@enter</a>,
                    <a href="http://www.mushcode.com/Command/@failure" class="command">@failure</a>,
                    <a href="../Command/@idescribe.html" class="command">@idescribe</a>,
                    <a href="../Command/@leave.html" class="command">@leave</a>,
                    <a href="../Command/@oenter.html" class="command">@oenter</a>,
                    <a href="../Command/@oleave.html" class="command">@oleave</a>,
                    <a href="../Command/@oxenter.html" class="command">@oxenter</a>,
                    <a href="../Command/@oxleave.html" class="command">@oxleave</a>,
                    <a href="http://www.mushcode.com/Command/@parent" class="command">@parent</a>,
                    <a href="http://www.mushcode.com/Command/@set" class="command">@set</a>,
                    <a href="http://www.mushcode.com/Command/@switch" class="command">@switch</a>.
            </div>

            <div class="functions">
                <strong>Functions:</strong>
                        <a href="../Function/add.html" class="function">add&#40;&#41;</a>,
                        <a href="../Function/and.html" class="function">and&#40;&#41;</a>,
                        <a href="../Function/ansi.html" class="function">ansi&#40;&#41;</a>,
                        <a href="../Function/center.html" class="function">center&#40;&#41;</a>,
                        <a href="../Function/default.html" class="function">default&#40;&#41;</a>,
                        <a href="../Function/edit.html" class="function">edit&#40;&#41;</a>,
                        <a href="../Function/eq.html" class="function">eq&#40;&#41;</a>,
                        <a href="../Function/extract.html" class="function">extract&#40;&#41;</a>,
                        <a href="../Function/gte.html" class="function">gte&#40;&#41;</a>,
                        <a href="../Function/hasflag.html" class="function">hasflag&#40;&#41;</a>,
                        <a href="../Function/hastype.html" class="function">hastype&#40;&#41;</a>,
                        <a href="../Function/ifelse.html" class="function">ifelse&#40;&#41;</a>,
                        <a href="../Function/isdbref.html" class="function">isdbref&#40;&#41;</a>,
                        <a href="../Function/iter.html" class="function">iter&#40;&#41;</a>,
                        <a href="../Function/last.html" class="function">last&#40;&#41;</a>,
                        <a href="../Function/ljust.html" class="function">ljust&#40;&#41;</a>,
                        <a href="../Function/lnum.html" class="function">lnum&#40;&#41;</a>,
                        <a href="../Function/loc.html" class="function">loc&#40;&#41;</a>,
                        <a href="../Function/lock.html" class="function">lock&#40;&#41;</a>,
                        <a href="../Function/lte.html" class="function">lte&#40;&#41;</a>,
                        <a href="../Function/match.html" class="function">match&#40;&#41;</a>,
                        <a href="../Function/member.html" class="function">member&#40;&#41;</a>,
                        <a href="../Function/mul.html" class="function">mul&#40;&#41;</a>,
                        <a href="../Function/name.html" class="function">name&#40;&#41;</a>,
                        <a href="../Function/not.html" class="function">not&#40;&#41;</a>,
                        <a href="../Function/num.html" class="function">num&#40;&#41;</a>,
                        <a href="../Function/or.html" class="function">or&#40;&#41;</a>,
                        <a href="../Function/pemit.html" class="function">pemit&#40;&#41;</a>,
                        <a href="../Function/pmatch.html" class="function">pmatch&#40;&#41;</a>,
                        <a href="../Function/poss.html" class="function">poss&#40;&#41;</a>,
                        <a href="../Function/remit.html" class="function">remit&#40;&#41;</a>,
                        <a href="../Function/repeat.html" class="function">repeat&#40;&#41;</a>,
                        <a href="../Function/revwords.html" class="function">revwords&#40;&#41;</a>,
                        <a href="../Function/rjust.html" class="function">rjust&#40;&#41;</a>,
                        <a href="../Function/secure.html" class="function">secure&#40;&#41;</a>,
                        <a href="../Function/set.html" class="function">set&#40;&#41;</a>,
                        <a href="../Function/setinter.html" class="function">setinter&#40;&#41;</a>,
                        <a href="../Function/setq.html" class="function">setq&#40;&#41;</a>,
                        <a href="../Function/setr.html" class="function">setr&#40;&#41;</a>,
                        <a href="../Function/setunion.html" class="function">setunion&#40;&#41;</a>,
                        <a href="../Function/shuffle.html" class="function">shuffle&#40;&#41;</a>,
                        <a href="../Function/sort.html" class="function">sort&#40;&#41;</a>,
                        <a href="../Function/space.html" class="function">space&#40;&#41;</a>,
                        <a href="../Function/sub.html" class="function">sub&#40;&#41;</a>,
                        <a href="../Function/switch.html" class="function">switch&#40;&#41;</a>,
                        <a href="../Function/trunc.html" class="function">trunc&#40;&#41;</a>,
                        <a href="../Function/u.html" class="function">u&#40;&#41;</a>,
                        <a href="../Function/v.html" class="function">v&#40;&#41;</a>,
                        <a href="../Function/words.html" class="function">words&#40;&#41;</a>.
            </div>


            <div class="servers">
                <strong>Compatibility:</strong>
                        <a href="../Server/CobraMUSH.html" class="server">CobraMUSH</a>,
                        <a href="../Server/PennMUSH.html" class="server">PennMUSH</a>,
                        <a href="../Server/TinyBit.html" class="server">TinyBit</a>,
                        <a href="../Server/TinyMUX.html" class="server">TinyMUX</a>.
            </div>

    </div>
</div>

    <div class="box box-color green box-condensed box-bordered">
	    <div class="box-title">
            <h3>Instructions</h3>
        </div>
	    <div class="box-content">
		    Copy and paste the below code into a compatible MUSH or MUX.
	    </div>
    </div>

<div class="box box-bordered box-condensed">
    <div class="box-title">
        <h3>
	        <i class="icon-reorder"></i>
	        MUSHCode for Keno
        </h3>
        <div class="actions">
	        <a class="btn btn-mini select-all" href="Keno.html#">
                    <i class="icon-resize-full"></i> Select Code
            </a>
        </div>
    </div>
    <div id="code" class="box-content content">
        @set me=quiet<br/>@switch [isdbref(num(Keno Parent))]=0,{think [ansi(hm,INSTALL:)] No "Keno Parent" object found -- creating...;@create Keno Parent},1,{think [ansi(hm,INSTALL:)] "Keno Parent" object already exists... skipping creation.}<br/>@set Keno Parent=Safe<br/>@set Keno Parent=no_command<br/>@set Keno Parent=!halt<br/>think [ansi(hm,INSTALL:)] Downloading Keno Commands...<br/>&amp;CMD_KENO.BET Keno Parent=$keno/bet *:[switch([u(FUN_PLR.Valid,%#)][u(FUN_PLR.Banned,%#)][or(u(FUN_PLR.Playing,%#),eq(words(v(DATA_PLAYER.DB)),0))][u(FUN_ENOUGH.Money,%#,trunc(secure(%0)))][u(FUN_BET.Valid,trunc(secure(%0)))][u(FUN_KENO.Enough-Money,mul(mul(trunc(secure(%0)),v(DATA_CREDIT.Value)),last(v(LIST_PAYOFF.[v(DATA_PICKS.Max)]))))],0?????,u(TRI_ERROR,%#,PLR_!VALID),11????,u(TRI_ERROR,%#,PLR_BANNED),100???,u(TRI_ERROR,%#,PLR_!PLAYING),1010??,u(TRI_ERROR,%#,!ENOUGH_MONEY),10110?,u(TRI_ERROR,%#,BET_!VALID),101110,u(TRI_ERROR,%#,OUT_OF_MONEY),101111,u(TRI_KENO.Bet,%#,trunc(secure(%0))),u(TRI_SYSERR,%#))]<br/>&amp;CMD_KENO.START Keno Parent=$keno/start:[switch([u(FUN_PLR.Playing,%#)][u(FUN_PICKS.Valid,v(DATA_PLAYER.Nums))],0?,u(TRI_ERROR,%#,PLR_!PLAYING),10,u(TRI_ERROR,%#,MUST_PICK),11,u(TRI_KENO.Start,%#),u(TRI_SYSERR,%#))]<br/>&amp;CMD_KENO.PAYOFFS Keno Parent=$keno/pay*:[pemit(%#,[u(DRAW_PAYOFFS.Header)][iter(lnum(v(DATA_PICKS.Max)),%r[u(DRAW_PAYOFF.Line,#@)])]%r[u(DRAW_PAYOFFS.Footer)])]<br/>&amp;CMD_KENO.SCREEN Keno Parent=$keno/screen:[pemit(%#,u(DRAW_KENO.Screen,%#))]<br/>&amp;CMD_KENO.MARK Keno Parent=$keno/mark *:[switch([u(FUN_PLR.Playing,%#)][u(FUN_PICKS.Valid,setunion(secure(%0),))],0?,u(TRI_ERROR,%#,PLR_!PLAYING),10,u(TRI_ERROR,%#,PICKS_!VALID),11,u(TRI_KENO.Mark,%#,setunion(secure(%0),)),u(TRI_SYSERR,%#))]<br/>&amp;CMD_KENO.HELP Keno Parent=$keno/help:[pemit(%#,[ansi(v(FONT_HELP.Border),[repeat(-,78)]%r&lt;&lt;&lt;&lt;&lt;)][ansi(v(FONT_HELP.Header),center(KENO -- HELP SECTION,68))][ansi(v(FONT_HELP.Border),&gt;&gt;&gt;&gt;&gt;%r[repeat(-,78)])]%rKeno is like a Lottery system\, but a bit more flexible.  In Keno\, you can choose how many numbers you want to 'mark' and your winnings will be calculated based on that. Also\, your winnings are directly ratio'd to the amount you bet -- thus allowing more control on your rewards and losses.%r%r[ansi(v(FONT_HELP.Title),Commands:%r---------)]%r%b%b[ansi(v(FONT_HELP.Cmds),ljust(keno/setup,16))] - Resets the Keno Machine \(Admin Only\).%r%b%b[ansi(v(FONT_HELP.Cmds),ljust(keno/bet &lt;#&gt;,16))] - Makes a bet using specified number of credits.%r%b%b[ansi(v(FONT_HELP.Cmds),ljust(keno/mark &lt;list&gt;,16))] - Marks the specified list of numbers.%r%b%b[ansi(v(FONT_HELP.Cmds),ljust(keno/start,16))] - Causes the Keno random selection to begin.%r%b%b[ansi(v(FONT_HELP.Cmds),ljust(keno/screen,16))] - Views the current Keno screen.%r%b%B[ansi(v(FONT_HELP.CMds),ljust(keno/payoffs,16))] - Shows a chart of Keno payoffs.%r%b%b[ansi(v(FONT_HELP.Cmds),ljust(keno/copyright,16))] - Shows Copyright information.%r%r* Type '[ansi(v(FONT_HELP.Cmds),keno/rules)]' for instructions on how to play the game.%r[ansi(v(FONT_HELP.Border),repeat(-,78))])]<br/>&amp;CMD_KENO.COPYRIGHT Keno Parent=$keno/copy*:[pemit(%#,Keno Code v[v(DATA_VERSION)] -- Created by: Demonic \(1999\)%rUpdated versions of this code can be found on:%r%b%bhttp://www.mindspring.com/~loparo)]<br/>&amp;CMD_KENO.RULES Keno Parent=$keno/rules:[pemit(%#,[ansi(v(FONT_RULES.Border),[repeat(-,78)]%r&lt;&lt;&lt;&lt;&lt;)][ansi(v(FONT_RULES.Header),center(KENO -- RULES SECTION,68))][ansi(v(FONT_RULES.Border),&gt;&gt;&gt;&gt;&gt;%r[repeat(-,78)])]%rThe first thing you must do is place a bet.  The amount you bet directly influences your winnings.  For example\, if you bet 4 credits you will win four times as much as if you were to bet only 1 credit -- on the flipside\, you will also lose four times as much should you not win.%r%rNext you must choose the numbers you want.  You can select between [v(DATA_PICKS.Min)] and [v(DATA_PICKS.Max)] numbers at a time -- each one must be between 1 and 80.  The more numbers you pick\, the more numbers you must 'match' to win\, but the rewards will also be higher.%r%rNext you must '[ansi(v(FONT_RULES.Cmds),keno/start)]'.  This will cause the machine to randomly pick twenty numbers (between 1 and 80).  For each number that it picks\, it will check to see if you 'marked' it.  If you have\, it is called a MATCH -- and if you get enough matches\, you will win money according to your bet and according to the payoff chart.  To see the payoff chart\, type '[ansi(v(FONT_RULES.Cmds),keno/payoffs)]'.%r[ansi(v(FONT_RULES.Border),repeat(-,78))])]<br/>&amp;CMD_KENO.SETUP Keno Parent=$keno/setup:[ifelse(u(FUN_PLR.Auth,%#),u(TRI_KENO.Setup,%#),u(TRI_ERROR,%#,PLR_!AUTH))]<br/>think [ansi(hm,INSTALL:)] Downloading Keno Triggers...<br/>&amp;TRI_ERROR Keno Parent=[pemit(%0,[u(DATA_PREFIX.Error)][space(not(not(words(u(DATA_PREFIX.Error)))))][u(ERR_%1,%2,%3,%4)])]<br/>&amp;TRI_SYSERR Keno Parent=[pemit(%0,[ansi(hfr,SYSERR:)] There is a bug in the code. Report this to an Admin immediately.)]<br/>&amp;TRI_MESSAGE Keno Parent=[remit(me,[u(DATA_PREFIX.Game)][space(not(not(words(u(DATA_PREFIX.Game)))))][u(MSG_%0,%1,%2,%3)])]<br/>&amp;TRI_KENO.BET Keno Parent=[setq(1,0)][ifelse(eq(words(v(DATA_PLAYER.DB)),0),[u(TRI_MESSAGE,NEW_PLAYER,%0,%1)][set(me,DATA_PLAYER.DB:%0)][set(me,DATA_PLAYER.Bet:%1)][u(TRI_SET.Plr-Money,%0,sub(u(FUN_GET.Plr-Money,%0),setr(1,mul(%1,v(DATA_CREDIT.Value)))))][ifelse(member(v(DATA_PLAYER.Last),%0),,[set(me,DATA_PLAYER.Last:%0)][set(me,DATA_PLAYER.Nums:)])],[u(TRI_MESSAGE,SAME_PLAYER,%0,%1)][u(TRI_SET.Plr-Money,%0,add(u(FUN_GET.Plr-Money,%0),setr(1,sub(mul(v(DATA_PLAYER.Bet),v(DATA_CREDIT.Value)),mul(v(DATA_CREDIT.Value),%1)))))][setq(1,mul(%q1,-1))][set(me,DATA_PLAYER.Bet:%1)])][u(TRI_INCREASE.Keno,%q1)][u(TRI_MESSAGE,NEXT_PICK,%0)]<br/>&amp;TRI_SET.PLR-MONEY Keno Parent=[ifelse(gte(%1,v(DATA_MAX.Money)),[set(%0,[v(VAR_MONEY)]:[v(DATA_MAX.Money)])][pemit(%0,[u(DATA_PREFIX.Warn)] You cannot carry any more money! Any money won from this point on will NOT be given to you.)][set(me,DATA_KENO.Money:[add(v(DATA_KENO.Money),sub(%1,v(DATA_MAX.Money)))])],set(%0,[v(VAR_MONEY)]:%1))]<br/>&amp;TRI_KENO.START Keno Parent=[setq(2,0)][set(me,LAST_SELECTED:[sort(extract(shuffle(lnum(80,1)),1,20),n)])][u(TRI_MESSAGE,GAME_SELECTED,v(LAST_SELECTED))][setq(0,words(setinter(v(LAST_SELECTED),v(DATA_PLAYER.Nums))))][ifelse(eq(words(setr(1,extract(v(LIST_PAYOFF.[words(v(DATA_PLAYER.Nums))]),%q0,1))),0),setq(1,0),)][ifelse(eq(%q0,0),u(TRI_MESSAGE,PLR_LOST,%0),ifelse(eq(%q1,0),u(TRI_MESSAGE,PLR_WON_NOTHING,%0,%q0),[u(TRI_MESSAGE,PLR_WON,%0,%q0,setr(2,mul(mul(%q1,v(DATA_CREDIT.Value)),v(DATA_PLAYER.Bet))))][u(TRI_SET.Plr-Money,%0,add(u(FUN_GET.Plr-Money,%0),%q2))]))][u(TRI_DECREASE.Keno,%q2)][u(TRI_RESET)][pemit(%0,u(DRAW_KENO.Screen,%0))]<br/>&amp;TRI_RESET Keno Parent=[set(me,DATA_PLAYER.DB:)][set(me,DATA_PLAYER.Bet:)]<br/>&amp;TRI_INCREASE.KENO Keno Parent=[set(me,DATA_KENO.Money:[add(v(DATA_KENO.Money),%0)])]<br/>&amp;TRI_DECREASE.KENO Keno Parent=[set(me,DATA_KENO.Money:[sub(v(DATA_KENO.Money),%0)])]<br/>&amp;TRI_AUTO.STUFF Keno Parent=[ifelse(and(match(pmatch(%1),%0),match(v(DATA_PLAYER.DB),%0)),u(TRI_AUTO.FORFEIT,%0),)]<br/>&amp;TRI_AUTO.FORFEIT Keno Parent=[u(TRI_MESSAGE,PLR_FORFEITS,%0)][u(TRI_RESET)]<br/>&amp;TRI_KENO.MARK Keno Parent=[ifelse(words(v(DATA_PLAYER.Nums)),u(TRI_MESSAGE,PLR_CHANGES-Picks,%0,%1),u(TRI_MESSAGE,PLR_NEW-Picks,%0,%1))][set(me,DATA_PLAYER.Nums:%1)][pemit(%0,u(DRAW_KENO.Screen,%0))][u(TRI_MESSAGE,NEXT_START,%0)]<br/>&amp;TRI_KENO.SETUP Keno Parent=[lock(me,me)][lock(me/use,LOCK_AT.Machine/1)][set(me,LISTEN_DISCONNECT:^* has disconnected.:\[u\(TRI_AUTO.Stuff\,\%#\,\%0\)\])][set(me,DATA_CREDIT.Value:[v(DATA_CREDIT.Value)])][set(me,DATA_PLAYER.DB:)][set(me,DATA_PLAYER.Nums:)][set(me,DATA_PLAYER.Last:)][set(me,DATA_PLAYER.Bet:)][set(me,LAST_SELECTED:)][set(me,MONITOR)][set(me,ENTER_OK)][u(TRI_MESSAGE,PLR_SETUP,%0)]<br/>think [ansi(hm,INSTALL:)] Downloading Keno Variables...<br/>&amp;VAR_MONEY Keno Parent=Econ_Money<br/>think [ansi(hm,INSTALL:)] Downloading Keno Data...<br/>&amp;DATA_BET.MIN Keno Parent=1<br/>&amp;DATA_BET.MAX Keno Parent=6<br/>&amp;DATA_CREDIT.VALUE Keno Parent=1<br/>&amp;DATA_MONEY.SINGULAR Keno Parent=dollar<br/>&amp;DATA_MEONY.PLURAL Keno Parent=dollars<br/>&amp;DATA_MONEY.PLURAL Keno Parent=dollars<br/>&amp;DATA_PICKS.MIN Keno Parent=2<br/>&amp;DATA_PICKS.MAX Keno Parent=10<br/>&amp;DATA_VERSION Keno Parent=2.1<br/>&amp;DATA_KENO.Money Keno Parent=1000000<br/>&amp;DATA_MAX.MONEY Keno Parent=200000<br/>think [ansi(hm,INSTALL:)] Downloading Keno ASCII-Art...<br/>&amp;DRAW_PAYOFF.LINE Keno Parent=[ansi(v(FONT_PAYOFFS.Title2),rjust(%0,5))]%b [ansi(v(FONT_PAYOFFS.Border),|)][iter(revwords(lnum(trunc(v(DATA_PICKS.Max)),trunc(v(DATA_PICKS.Min)))),[rjust(ifelse(words(setr(2,extract(v(LIST_PAYOFF.##),%0,1))),%q2,0),ifelse(eq(#@,1),5,7))])]<br/>&amp;DRAW_PAYOFFS.HEADER Keno Parent=[ansi(v(FONT_PAYOFFS.Border),[repeat(-,78)]%r&lt;&lt;&lt;&lt;&lt;)][ansi(v(FONT_PAYOFFS.Header),center(KENO PAYOFFS,68))][ansi(v(FONT_PAYOFFS.Border),&gt;&gt;&gt;&gt;&gt;%r-------.[repeat(-,70)])]%r[ansi(v(FONT_PAYOFFS.Title),Amount)] [ansi(v(FONT_PAYOFFS.Border),|)][ansi(v(FONT_PAYOFFS.Title),[center(Number of Selections You Made,70)]%rMatched)][ansi(v(FONT_PAYOFFS.Border),|)][ansi(v(FONT_PAYOFFS.Title2),iter(revwords(lnum(trunc(v(DATA_PICKS.Max)),trunc(v(DATA_PICKS.Min)))),rjust(##,ifelse(eq(#@,1),5,7))))]%r[ansi(v(FONT_PAYOFFS.Border),-------|[repeat(-,70)])]<br/>&amp;DRAW_PAYOFFS.FOOTER Keno Parent=[ansi(v(FONT_PAYOFFS.Border),repeat(-,78))]<br/>&amp;DRAW_KENO.SCREEN Keno Parent=[setq(0,space(0))][iter(lnum(80),setq(0,%q0 [ifelse(v(DATA_PLAYER.Bet),n,ifelse(member(v(LAST_SELECTED),#@),ifelse(member(v(DATA_PLAYER.Nums),#@),v(FONT_SCREEN.Hit),v(FONT_SCREEN.Miss)),n))]))][repeat(_,79)][u(DRAW_SCREEN.Line,1,%q0)][u(DRAW_SCREEN.Line,21,%q0)]%r%r[ifelse(v(DATA_PLAYER.Bet),[ansi(v(FONT_SCREEN.YouBet),[ifelse(member(v(DATA_PLAYER.DB),%0),You have,[name(v(DATA_PLAYER.DB))] has)] bet: [v(DATA_PLAYER.Bet)] Credit \([setr(3,mul(v(DATA_PLAYER.Bet),v(DATA_CREDIT.Value)))] [u(FUN_MONEY.Name,%q3)]\))]%r[ansi(v(FONT_SCREEN.YouMarked),[ifelse(member(v(DATA_PLAYER.DB),%0),You have,[name(v(DATA_PLAYER.DB))] has)] marked: [edit(v(DATA_PLAYER.Nums),%b,\,%b)])]%r[ansi(v(FONT_SCREEN.LastNums),Last numbers:%r[edit(v(LAST_SELECTED),%b,\,%b)])],* - The number was marked.%r[ansi(v(FONT_SCREEN.Hit),%b)] - The number was randomly selected and marked \(a MATCH\).%r[ansi(v(FONT_SCREEN.Miss),%b)] - The number was randomly selected but not marked.%r%rType '[ansi(v(FONT_SCREEN.Cmds),keno/bet &lt;#&gt;)]' to start a new game.)]%r[repeat(_,79)][u(DRAW_SCREEN.Line,41,%q0)][u(DRAW_SCREEN.Line,61,%q0)]<br/>&amp;DRAW_SCREEN.LINE Keno Parent=%r[ansi(extract(%1,%0,1),%b%b%b)][iter(lnum(19),|[ansi(extract(%1,add(#@,%0),1),%b%b%b)],%b,space(0))]%r[ansi(extract(%1,%0,1),[rjust(ifelse(member(v(DATA_PLAYER.Nums),%0),*,%0),2)]%b)][iter(lnum(19),|[ansi(extract(%1,add(#@,%0),1),[rjust(ifelse(member(v(DATA_PLAYER.Nums),add(#@,%0)),*,add(#@,%0)),2)]%b)],%b,space(0))]%r[ansi(extract(%1,%0,1),___)][iter(lnum(19),|[ansi(extract(%1,add(#@,%0),1),___)],%b,space(0))]<br/>think [ansi(hm,INSTALL:)] Downloading Keno Error Messages...<br/>&amp;ERR_PLR_!VALID Keno Parent=You are not a valid player.<br/>&amp;ERR_PLR_BANNED Keno Parent=You are banned from playing Keno.<br/>&amp;ERR_!ENOUGH_MONEY Keno Parent=You do not have enough money to do that.<br/>&amp;ERR_PLR_!PLAYING Keno Parent=[ifelse(words(v(DATA_PLAYER.DB)),But [name(v(DATA_PLAYER.DB))] is already playing.,But you have not bet yet.)]<br/>&amp;ERR_BET_!VALID Keno Parent=Your bet must be between [v(DATA_BET.Min)] and [v(DATA_BET.Max)] credits.<br/>&amp;ERR_PICKS_!VALID Keno Parent=One or more of your picks are not valid. You must choose between [v(DATA_PICKS.Min)] and [v(DATA_PICKS.Max)] numbers\, with each one being between 1 and 80.<br/>&amp;ERR_MUST_PICK Keno Parent=You must pick your numbers before starting the machine.<br/>&amp;ERR_OUT_OF_MONEY Keno Parent=This machine does not have enough money to cover that bet. Please contact the Casino owner.<br/>think [ansi(hm,INSTALL:)] Downloading Keno Fonts...<br/>&amp;FONT_PAYOFFS.BORDER Keno Parent=hb<br/>&amp;FONT_PAYOFFS.TITLE Keno Parent=hc<br/>&amp;FONT_PAYOFFS.TITLE2 Keno Parent=hm<br/>&amp;FONT_PAYOFFS.HEADER Keno Parent=hm<br/>&amp;FONT_SCREEN.HIT Keno Parent=Rw<br/>&amp;FONT_SCREEN.MISS Keno Parent=Bw<br/>&amp;FONT_SCREEN.CMDS Keno Parent=hc<br/>&amp;FONT_SCREEN.YOUBET Keno Parent=hg<br/>&amp;FONT_SCREEN.YOUMARKED Keno Parent=hm<br/>&amp;FONT_SCREEN.LASTNUMS Keno Parent=hc<br/>&amp;FONT_KENO.CMDS Keno Parent=hc<br/>&amp;FONT_HELP.BORDER Keno Parent=hb<br/>&amp;FONT_HELP.HEADER Keno Parent=hc<br/>&amp;FONT_HELP.CMDS Keno Parent=hc<br/>&amp;FONT_HELP.TITLE Keno Parent=hb<br/>&amp;FONT_RULES.CMDS Keno Parent=hc<br/>&amp;FONT_RULES.BORDER Keno Parent=hb<br/>&amp;FONT_RULES.HEADER Keno Parent=hc<br/>&amp;FONT_DESC.INFO Keno Parent=hg<br/>&amp;FONT_DESC.BORDER Keno Parent=hb<br/>think [ansi(hm,INSTALL:)] Downloading Keno Functions...<br/>&amp;FUN_PLR.PLAYING Keno Parent=[member(v(DATA_PLAYER.DB),%0)]<br/>&amp;FUN_ENOUGH.MONEY Keno Parent=[gte(trunc(u(FUN_GET.Plr-Money,%0)),trunc(%1))]<br/>&amp;FUN_PLR.VALID Keno Parent=[hastype(%0,PLAYER)]<br/>&amp;FUN_PLR.BANNED Keno Parent=[not(not(member(v(LIST_KENO.Banned),%0)))]<br/>&amp;FUN_BET.VALID Keno Parent=[and(gte(%0,trunc(v(DATA_BET.Min))),lte(%0,trunc(v(DATA_BET.Max)))]<br/>&amp;FUN_GET.PLR-MONEY Keno Parent=[default(%0/[v(VAR_MONEY)],0)]<br/>&amp;FUN_MONEY.NAME Keno Parent=[ifelse(eq(%0,1),u(DATA_MONEY.Singular),u(DATA_MONEY.Plural))]<br/>&amp;FUN_PICKS.VALID Keno Parent=[and(and(gte(words(%0),v(DATA_PICKS.Min)),lte(words(%0),v(DATA_PICKS.Max))),not(member(iter(%0,member(lnum(80,1),##)),0)))]<br/>&amp;FUN_PLR.AUTH Keno Parent=[hasflag(%0,Wizard)]<br/>&amp;FUN_KENO.ENOUGH-MONEY Keno Parent=[gte(v(DATA_KENO.Money),%0)]<br/>think [ansi(hm,INSTALL:)] Downloading Keno Lists...<br/>&amp;LIST_ATTRIBUTES Keno Parent=AENTER ALEAVE CMD DATA DESCRIBE DRAW ENTER ERR FAILURE FONT FUN LEAVE LIST LISTEN LOCK MSG OENTER OLEAVE OXENTER OXLEAVE TRI VAR<br/>&amp;LIST_PAYOFF.2 Keno Parent=2   4<br/>&amp;LIST_PAYOFF.6 Keno Parent=0   0  1   6   90  1600<br/>&amp;LIST_PAYOFF.5 Keno Parent=.25 .5 2   14  810<br/>&amp;LIST_PAYOFF.7 Keno Parent=0   0  .25   3   21  400  7000<br/>&amp;LIST_PAYOFF.8 Keno Parent=0   0  0   2   12  90   1650 25000<br/>&amp;LIST_PAYOFF.9 Keno Parent=0   0  0   1   5   45   335  4700  50000<br/>&amp;LIST_PAYOFF.10 Keno Parent=0   0  0 .5  3   24   140  1000  7500  100000<br/>&amp;LIST_PAYOFF.3 Keno Parent=1   3  20<br/>&amp;LIST_PAYOFF.4 Keno Parent=.75 1  10  40<br/>think [ansi(hm,INSTALL:)] Downloading Keno Monitors...<br/>&amp;LISTEN_DISCONNECT Keno Parent=^* has disconnected.:[u(TRI_AUTO.Stuff,%#,%0)]<br/>think [ansi(hm,INSTALL:)] Downloading Keno Locks...<br/>&amp;LOCK_AT.MACHINE Keno Parent=[member(%l,%!)]<br/>think [ansi(hm,INSTALL:)] Downloading Keno Game Messages...<br/>&amp;MSG_NEW_PLAYER Keno Parent=[name(%0)] BETS %1 [ifelse(eq(%1,1),credit,credits)] \([mul(%1,v(DATA_CREDIT.Value))] [u(FUN_MONEY.Name,mul(%1,v(DATA_CREDIT.Value)))]\) at the Keno Machine.<br/>&amp;MSG_SAME_PLAYER Keno Parent=[name(%0)] changes [poss(%0)] Keno BET to %1 [ifelse(eq(%1,1),credit,credits)] \([mul(%1,v(DATA_CREDIT.Value))] [u(FUN_MONEY.Name,mul(%1,v(DATA_CREDIT.Value)))]\).<br/>&amp;MSG_PLR_CHANGES-PICKS Keno Parent=[name(%0)] changes [poss(%0)] PICKS to: [edit(%1,%b,\,%b)].<br/>&amp;MSG_PLR_NEW-PICKS Keno Parent=[name(%0)] makes the following Keno PICKS: [edit(%1,%b,\,%b)].<br/>&amp;MSG_PLR_LOST Keno Parent=[name(%0)] has no matches this time.<br/>&amp;MSG_PLR_WON Keno Parent=[name(%0)] WON %2 [u(FUN_MONEY.Name,%2)] with %1 matches!<br/>&amp;MSG_GAME_SELECTED Keno Parent=The game selects the numbers: %r[iter(%0,ifelse(member(v(DATA_PLAYER.Nums),##),ansi(hr,##),ansi(hc,##)),%b,\,%b)]<br/>&amp;MSG_PLR_WON_NOTHING Keno Parent=[name(%0)] matched %1 [ifelse(eq(%1,1),number,numbers)] but won nothing.<br/>&amp;MSG_NEXT_PICK Keno Parent=[name(%0)]\, you may now '[ansi(v(FONT_KENO.Cmds),keno/mark &lt;list&gt;)]'[ifelse(words(v(DATA_PLAYER.Nums)),%bor '[ansi(v(FONT_KENO.Cmds),keno/start)]',)].<br/>&amp;MSG_NEXT_START Keno Parent=[name(%0)]\, you may now '[ansi(v(FONT_KENO.Cmds),keno/start)]'.<br/>&amp;MSG_PLR_FORFEITS Keno Parent=[name(%0)]\(%0\) automatically forfeits [poss(%0)] bet!<br/>&amp;MSG_PLR_SETUP Keno Parent=[name(%0)]\(%0\) has RESET the Keno Machine.<br/>think [ansi(hm,INSTALL:)] Downloading Keno Object Messages...<br/>@OENTER Keno Parent=approaches the Keno Machine from [name(loc(me))].<br/>@OLEAVE Keno Parent=departs the Keno Machine and heads back toward [name(loc(me))].<br/>@OXENTER Keno Parent=departs toward [name(me)]'s area.<br/>@OXLEAVE Keno Parent=approaches from [name(me)]'s area.<br/>@AENTER Keno Parent=[pemit(%#,* Type '[ansi(v(FONT_KENO.Cmds),keno/help)]' for more information.)]<br/>@ALEAVE Keno Parent=[u(TRI_AUTO.Stuff,%#,%n)]<br/>@LEAVE Keno Parent=You depart [name(me)]'s area.<br/>@FAILURE Keno Parent=It seems to be bolted to the ground.<br/>@ENTER Keno Parent=You approach [name(me)]'s area.<br/>@IDESCRIBE Keno Parent=[u(ADD_DESC)][ansi(v(FONT_DESC.Border),%r--------------%r)]This is a [ansi(v(FONT_DESC.Info),[v(DATA_CREDIT.Value)] [u(FUN_MONEY.Name,v(DATA_CREDIT.Value))])] per 'credit' Keno Machine.<br/>@DESCRIBE Keno Parent=Type '[ansi(hc,enter [name(me)])]' to play a game.<br/>think [ansi(hm,INSTALL:)] Downloading Keno Prefixes...<br/>&amp;DATA_PREFIX.WARN Keno Parent=[ansi(hy,WARN:)]<br/>&amp;DATA_PREFIX.GAME Keno Parent=[ansi(hg,GAME:)]<br/>&amp;DATA_PREFIX.ERROR Keno Parent=[ansi(hr,ERROR:)]<br/>&amp;DATA_PREFIX.SYSERR Keno Parent=[ansi(fhr,SYSERR:)]<br/>think [ansi(hm,INSTALL:)] [ansi(hr,Download is complete!  Now you must do the following:)]<br/>think [ansi(hm,INSTALL:)] %b%b%b- @create a Keno Machine and drop it<br/>think [ansi(hm,INSTALL:)] %b%b%b- @parent the created object to the Keno Parent<br/>think [ansi(hm,INSTALL:)] %b%b%b- @set the created object !NO_COMMAND and !HALT<br/>think [ansi(hm,INSTALL:)] %b%b%b- Enter the created object and type keno/setup<br/>think [ansi(hm,INSTALL:)] %b%b%b- Set the created object WIZARD if others will be using it.<br/>think [ansi(hm,INSTALL:)] %b%b%b- BE SURE TO SET &amp;VAR_MONEY ON THE KENO PARENT.  It<br/>think [ansi(hm,INSTALL:)] %b%b%b%b should be set to the name of the variable you use for money.<br/>think [ansi(hm,INSTALL:)] <br/>think [ansi(hm,INSTALL:)] The Copyright must stay with this code.  If you have any questions<br/>think [ansi(hm,INSTALL:)] or complaints \(bug reports\) concerning this code\, please contact<br/>think [ansi(hm,INSTALL:)] me at: [ansi(hc,worldwar@bb6.betterbox.net)].  Thank you.<br/>@set me=!quiet<br/><br/><br/><br/>
    </div>
</div>
<script type="text/javascript">
    var selectText = function(element) {
        var doc = document;
        var text = doc.getElementById(element);

        if (doc.body.createTextRange) { // ms
            var range = doc.body.createTextRange();
            range.moveToElementText(text);
            range.select();
        } else if (window.getSelection) { // moz, opera, webkit
            var selection = window.getSelection();
            var range = doc.createRange();
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    $('a.select-all').click(function () {
        selectText('code');
    });
</script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>

</html>
<script src="../Scripts/Google.js" type="text/javascript"></script>