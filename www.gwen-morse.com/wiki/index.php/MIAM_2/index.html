<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" /><title>MIAM 2 - Gwen Morse's Wiki</title>
<meta name="generator" content="MediaWiki 1.22.8" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="Gwen Morse's Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://www.gwen-morse.com/wiki/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Gwen Morse's Wiki Atom feed" href="/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://www.gwen-morse.com/wiki/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: homesitewiki-mw_:resourceloader:filter:minify-css:7:caed6998fab899483c805c3e2c432ff5 */</style>

<script src="http://www.gwen-morse.com/wiki/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"MIAM_2","wgTitle":"MIAM 2","wgCurRevisionId":1315,"wgRevisionId":1315,"wgArticleId":230,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"MIAM_2","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: homesitewiki-mw_:resourceloader:filter:minify-js:7:5a69c7e0fa6557851b6dea8a62efaffb */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-MIAM_2 skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">MIAM 2</span></h1>
			<div id="bodyContent">
								<div id="siteSub">From Gwen Morse&#039;s Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><pre>
#2
#-1
#-1
#1
@dig/teleport Heaven
&amp;NOTE here=Heaven^^flags^ Everyone is trying to get to the bar. The name of the bar? The bar is called Heaven. Oooh, heaven! Heaven is the place where nothing ever happens! The band in Heaven, they play my favourite song -- play it one more time, play it all night long!
@Desc here=Master-room. If you don't now what one is, please leave&#160;%xhnow%xn. -c-
@set here=FLOATING
@set here=HALTED
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#266
@alias #2=
---
#69
#2
#70
#1
@create bbpocket=10
@lock bbpocket=*Mother
@Desc bbpocket=[iter(setdiff(lattr(me),Desc),ljust(##,18))]
&amp;BBTIME bbpocket=extract(time(), 1, 3)
&amp;GET_GROUP bbpocket=switch(isnum(%0),1,extract(v(groups),%0,1),locate(#69,%0,ni))
&amp;NXT_MESS bbpocket=AI
&amp;VALID_GROUPS bbpocket=iter(v(groups),switch(and(or(and(gt(match(gettext(%0,bkapprove),approved),0),u(##/can%1,%0)),streq(get(##/can%1),1)),not(member(get(%0/bb_omit),##))),1,##))
&amp;ISGROUPREAD bbpocket=switch(setdiff(%1,get(%0/bb_read)),,,U)
&amp;UNREADNUMS bbpocket=sort(iter(setdiff(get(%1/mess_lst),get(%0/bb_read)),member(get(%1/mess_lst),##)))
&amp;FN_MAKELIST bbpocket=map(me/fn_maplist,secure(%0))
&amp;FN_MAPLIST bbpocket=switch(strmatch(%0,*-*),1,lnum(before(%0,-),after(%0,-)),%0)
&amp;ADDEM bbpocket=add(%0,%1)
&amp;B36_DIGITS bbpocket=0 1 2 3 4 5 6 7 8 9 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
&amp;B36_POWS bbpocket=1 36 1296 46656 1679616 60466176
&amp;FN_B36_MAGS bbpocket=revwords(iter(v(b36_pows),switch([div(##,%0)]:[eq(##,%0)],0:*,##,*:1,##)))
&amp;FN_B36-TO-B10 bbpocket=[setq(0,ucstr(%0))][setq(1,strlen(%q0))][fold(me/addem,[iter(lnum(%q1),mul(sub(member(v(b36_digits),mid(%q0,##,1)),1),power(36,sub(sub(%q1,##),1))))])]
&amp;FN_B10-TO-B36 bbpocket=[setq(0,%0)][edit(iter(u(fn_b36_mags,%q0),[extract(v(b36_digits),add(div(%q0,##),1),1)][setq(0,sub(%q0,mul(##,div(%q0,##))))]),%b,)]
&amp;FN_INC_NEXT_MESS bbpocket=u(fn_b10-to-b36,add(u(fn_b36-to-b10,%0),1))
&amp;VALID_CONFIGS bbpocket=anonymous timeout
&amp;VALID_GLOBAL_CONFIGS bbpocket=timeout autotimeout
&amp;CONFIG_TIMEOUT bbpocket=2592000
&amp;TR_TIMEOUT bbpocket=@dolist v(groups)={@trigger me/tr_timeout_group=##}
&amp;TR_TIMEOUT_GROUP bbpocket=@dolist get(%0/mess_lst)={@switch and(extract(get(%0/hdr_##),5,1,|),gt(secs(),extract(get(%0/hdr_##),5,1,|)))=1,{&amp;hdr_##&#160;%0; &amp;bdy_##&#160;%0; &amp;mess_lst&#160;%0=[remove(get(%0/mess_lst),##)]; &amp;master_lst #69=[remove(get(#69/master_lst),##)]}}
&amp;DO_TIMEOUTS bbpocket=@trigger me/tr_timeout; @wait 86400={@trigger me/do_timeouts}
&amp;TR_CONFIG_ANONYMOUS bbpocket=&amp;anonymous&#160;%0=[ifelse([%1],[%1],)]; @pemit&#160;%2=Posters on the [name(%0)] group will show up as [ifelse([%1],['%1'],themselves)].
&amp;TR_CONFIG_TIMEOUT bbpocket=&amp;config_timeout&#160;%0=[mul(%1,86400)]; @pemit&#160;%2=New messages for group '[name(%0)]' have [ifelse(%1,a&#160;%1 day,no)] timeout.
&amp;TR_GCONFIG_TIMEOUT bbpocket=&amp;config_timeout me=[mul(%0,86400)]; @pemit&#160;%1=BB global config parameter 'timeout': [ifelse(%0,%0 days,none)].%rAny new groups will have this value set as their default timeout.
&amp;TR_GCONFIG_AUTOTIMEOUT bbpocket=@switch [eq(hasattr(me,startup),setr(0,switch(%0,on,1,0)))]:%0=1:*,{@pemit&#160;%1=BB autotimeout is already [ifelse(%q0,on,off)].},0:on,{@startup me=@trigger me/do_timeouts; @trigger me/do_timeouts; @pemit&#160;%1=BB autotimeout turned on.},{@startup me; @pemit&#160;%1=BB autotimeout turned off.; @halt me}
&amp;FN_MSG_FLAGS bbpocket=switch([member(get(%0/bb_read),%2)]:[u(fn_timeout_close,index(get(%1/hdr_%2),|,5,1))],0:*,U,*:1,T)
&amp;TR_POST_NOTIFY bbpocket=@switch hasflag(%0,DARK)=0,{@pemit/list iter(remove(lwho(),%0),switch(or(member([get(##/bb_omit)] [get(##/bb_silent)],%1),not(u(%1/canread,##))),0,##))=(New BB message&#160;%3 posted to '[name(%1)]' by [name(%0)]:&#160;%2)}
&amp;FN_TIMEOUT_CLOSE bbpocket=switch(%0:[lte(sub(%0,secs()),259200)],0:*,0,*:1,1,0)
&amp;FN_HASCONFIG bbpocket=or(hasattr(%0,anonymous),neq(get(%0/config_timeout),get(#69/config_timeout)))
&amp;VERSION bbpocket=4.0.2
&amp;GROUPS bbpocket=#90 #89 #88 #87 #86 #85 #95 #96 #97 #98 #99 #100 #101 #102 #103 #104 #105 #141 #509 #661 #1397 #1411 #1474 #1481 #1521
&amp;MASTER_LST bbpocket=1 D 12 1D 1E 1G 1I 1L 1U 1X 20 23 24 25 26 27 29 2B 2E 2G 2S 2T 32 33 34 35 36 37 38 3D 3H 3J 3K 3L 3U 3W 40 41 44 45 48 49 4C 4D 4E 4F 4H 4J 4K 4U 4V 4Y 56 57 59 5A 5B 5C 5D 5E 5G 5I 5K 5N 5O 5P 5Q 5V 5W 5X 5Y 5Z 60 63 68 6A 6B 6F 6H 6O 6Q 6R 6V 6W 6Z 70 71 73 74 75 76 77 78 79 7A 7B 7C 7D 7E 7F 7G 7H 7I 7J 7K 7L 7M 7O 7Q 7T 7U 7V 7X 7Y 82 89 8B 8C 8D 8E 8F 8G 8H 8K 8L 8M 8N 8O 8Q 8U 90 91 93 94 95 96 97 98 99 9A 9B 9C 9D 9E 9F 9G 9H 9I 9K 9L 9M 9N 9O 9P 9Q 9R 9S 9T 9U 9V 9W 9X 9Z A0 A1 A2 A3 A4 A5 A6 A7 A8 A9 AA AB AC AD AE AG
@set bbpocket=INHERIT
@set bbpocket=SAFE
@rxlevel bbpocket=Real
@txlevel bbpocket=Real
@alias #69=
---
#70
#2
#2
#1
@create BBS - Myrddin's Global BBS v4.0.2=10
@lock BBS - Myrddin's Global BBS v4.0.2=*Mother
@Desc BBS - Myrddin's Global BBS v4.0.2=[iter(setdiff(lattr(me),Desc),ljust(##,18))]
@Fail BBS - Myrddin's Global BBS v4.0.2=It's bolted down... you aint budgin' it.
&amp;CMD_+BBNEWGROUP BBS - Myrddin's Global BBS v4.0.2=$+bbnewgroup *:@switch hasflag(%#,wizard)=1, {@create&#160;%0; @wait 1={@switch [setr(0,num(%0))]=#-1,{@pemit&#160;%#=That's not a good name for a group.},{&amp;groups #69=[switch(words(get(#69/groups)),0,,[get(#69/groups)]%b)]%q0; &amp;own&#160;%q0=%#; @set&#160;%q0=safe; @set&#160;%q0=inherit; &amp;last_mod&#160;%q0=[u(#69/bbtime)]; &amp;CANREAD&#160;%q0=1; &amp;CANWRITE&#160;%q0=1; &amp;config_timeout&#160;%q0=[get(#69/config_timeout)]; @pemit&#160;%#=Group number [member(get(#69/groups),%q0)] added as '%0'. Messages will have [ifelse(get(%q0/config_timeout),a [div(get(%q0/config_timeout),86400)] day,no)] timeout.}}}, {@pemit&#160;%#=You can't add groups to the message base.}
&amp;CMD_+BBLOCK BBS - Myrddin's Global BBS v4.0.2=$+bblock *=*/*:@switch hasflag(%#,wizard)=1,{@switch member(get(#69/groups),setr(0,u(#69/get_group,%0)))=0,{@pemit&#160;%#=No such group as '%0'.},{@switch&#160;%1=flag,{&amp;CANREAD&#160;%q0=\[or(hasflag(\%0,%2),isstaff(\%0))]},{&amp;CANREAD&#160;%q0=\[or(match(gettext(\%0,%1),%2),isstaff(\%0))]}; @wait 1={&amp;CANWRITE&#160;%q0=[get(%q0/CANREAD)]}; @pemit&#160;%#=Group '%0' locked. Only people with&#160;%1=%2 can access.}},{@pemit&#160;%#=You cannot lock message groups.}
&amp;CMD_+BBCLEARGROUP BBS - Myrddin's Global BBS v4.0.2=$+bbcleargroup *:@switch or(hasflag(%#, wizard),member(get(#69/groups),setr(0,u(#69/get_group,%0))))=1, {&amp;delete_grp #69=%q0; @pemit&#160;%#=%r[space(15)]******** Warning ********%r%rDeleting Group #%0 will also delete the [words(get(%q0/mess_lst))] messages in that group.%rIf you still wish to proceed, type '+bbconfirm&#160;%0'%r%r[space(15)][repeat(*,25)]%r}, {&amp;delete_grp #69=; @pemit&#160;%#=You can't remove that group (either that group does not exist, or you are not the owner).}
&amp;DO_CLEARGROUP BBS - Myrddin's Global BBS v4.0.2=$+bbconfirm *:@switch get(#69/DELETE_GRP)=[setr(0,u(#69/get_group,%0))], {&amp;groups #69=[setdiff(get(#69/groups),%q0)]; &amp;master_lst #69=[setdiff(get(#69/master_lst),get(%q0/mess_lst))]; @nuke&#160;%q0; &amp;delete_grp #69=; @pemit&#160;%#=Group number&#160;%0 removed.}, {&amp;delete_grp #69=; @pemit&#160;%#=That group has not been marked for deletion. Use '+bbcleargroup &lt;#&gt;' to mark a group for deletion.}
&amp;CMD_+BBPOST BBS - Myrddin's Global BBS v4.0.2=$+bbpost */*=*:@switch member(u(#69/valid_groups,%#,write),setr(0,u(#69/get_group,%0)))=0, {@pemit&#160;%#=Either you do not subscribe to Group #%0, or are unable to post to it.}, {&amp;mess_lst&#160;%q0=[cat(get(%q0/mess_lst),setr(1,get(#69/nxt_mess)))]; &amp;nxt_mess #69=[ulocal(#69/fn_inc_next_mess,%q1)]; &amp;master_lst #69=[cat(get(#69/master_lst),%q1)]; &amp;hdr_%q1&#160;%q0=[mid(%1, 0, 34)]|[u(#69/bbtime)]|[edefault(%q0/anonymous,mid(name(%#),0,24))]|%#|[ifelse(get(%q0/config_timeout),add(get(%q0/config_timeout),secs()),0)]; &amp;last_mod&#160;%q0=[u(#69/bbtime)]; &amp;bdy_%q1&#160;%q0=[%2][switch(hasattr(%#,bb_sig),1,%r[ulocal(%#/bb_sig)])]; @pemit&#160;%#=You post your note about '%1' in group [member(get(#69/groups),%q0)] ([name(%q0)]) as message #[member(get(%q0/mess_lst),%q1)]; &amp;bb_read&#160;%#=[setunion(get(%#/bb_read),%q1)]; @trigger #69/tr_post_notify=%#,%q0,[mid(%1, 0, 34)],member(u(#69/GROUPS),%q0)/[member(get(%q0/mess_lst),%q1)]}
&amp;CMD_+BBREMOVE BBS - Myrddin's Global BBS v4.0.2=$+bbremove */*:@dolist [setq(0,u(#69/get_group,%0))][revwords(sort(u(#69/fn_makelist,%1)))]={@switch or(strmatch(index(get(%q0/HDR_[setr(1,extract(get(%q0/MESS_LST),##,1))]),|,4, 1),%#), hasflag(%#,wizard))=1, {&amp;HDR_%q1&#160;%q0=; &amp;BDY_%q1&#160;%q0=; &amp;MESS_LST&#160;%q0=[remove(get(%q0/MESS_LST),%q1)]; &amp;MASTER_LST #69=[remove(get(#69/MASTER_LST),%q1)]; @pemit&#160;%#=Message ## removed from group #[member(get(#69/groups),%q0)] ([name(%q0)]).}, {@pemit&#160;%#=Either message ## does not exist, or you were not the original poster.}}
&amp;CMD_+BBREAD2 BBS - Myrddin's Global BBS v4.0.2=$+bbread *:@switch strmatch([%0],*/*)=0,{@switch member(u(#69/valid_groups,%#,read),setr(0,u(#69/get_group,%0)))=0,{@pemit&#160;%#=[switch(%q0,#-2,That Group name is not specific enough.,You do not subscribe to that Group.)]},{@pemit&#160;%#=[repeat(=,78)]%r[center(**** [name(%q0)] ****,78)]%r[space(8)]Message[space(28)]Posted[space(8)]By%r[repeat(-,78)]; @dolist get(%q0/MESS_LST)={@pemit&#160;%#=[ljust([member(get(#69/groups),%q0)]/[member(get(%q0/MESS_LST),##)],6)][ljust(u(#69/fn_msg_flags,%#,%q0,##),2)][ljust(index(setr(1,get(%q0/HDR_##)),|,1,1),35)][ljust(index(%q1,|,2,1),14)][mid([index(%q1,|,3,1)][ifelse(and(hasattr(%q0,anonymous),hasflag(%#,wizard)),%b\([name(index(%q1,|,4,1))]\),)],0,21)][switch(member(get(%q0/MESS_LST),##),words(get(%q0/MESS_LST)),%r[repeat(=,78)])]}}},{@switch member(u(#69/valid_groups,%#,read),setr(0,u(#69/get_group,setr(2,first(%0,/)))))=0,{@pemit&#160;%#=[switch(%q0,#-2,That Group name is not specific enough.,You do not subscribe to that Group.)]},{@
dolist [setq(4,member(get(#69/groups),%q0))][switch(rest(%0,/),u,u(#69/unreadnums,%#,%q0),u(#69/fn_makelist,rest(%0,/)))]={@switch [and(lte(##,words(get(%q0/MESS_LST))),isnum(##))]=0,{@pemit&#160;%#=Message&#160;%q4/## ([name(%q0)]/##) does not exist.},{@pemit&#160;%#=%r[center(= [name(%q0)] =,78,=)]%r[ljust(Message:&#160;%q4/##[switch(u(#69/fn_timeout_close,index(setr(3,get(%q0/HDR_[extract(get(%q0/MESS_LST),##,1)])),|,5,1)),1,{%b(timeout warning)})],35)]Posted[space(8)]Author%r[ljust(index(%q3,|,1,1),35)][ljust(index(%q3,|,2,1),14)][mid([index(%q3,|,3,1)][ifelse(and(hasattr(%q0,anonymous),hasflag(%#,wizard)),%b\([name(index(%q3,|,4,1))]\),)],0,29)]%r[repeat(-,78)]%r[get(%q0/BDY_[extract(get(%q0/MESS_LST),##,1)])]%r[repeat(=,78)]; &amp;bb_read&#160;%#=[setunion(get(%#/bb_read),[extract(get(%q0/MESS_LST),##,1)])]}}; @wait 2={&amp;bb_read&#160;%#=[setinter(get(%#/bb_read),get(#69/master_lst))]}}}
&amp;CMD_+BBEDIT BBS - Myrddin's Global BBS v4.0.2=$+bbedit */*=*/*:@switch strmatch(index(get([setq(0,u(#69/get_group,%0))]%q0/HDR_[setq(1,extract(get(%q0/MESS_LST),%1,1))]%q1),|,4, 1),%#)=1,{&amp;BDY_%q1&#160;%q0=[edit(get(%q0/BDY_%q1),{%2},{%3})]; @pemit&#160;%#=[repeat(=,78)]%rMessage [member(get(#69/groups),%q0)]/%1 ([name(%q0)]/%1) now reads:%r[repeat(-,78)]%r[get_eval(%q0/BDY_%q1)]%r[repeat(=,78)]}, {@pemit&#160;%#=Either that message does not exist, or you were not the original poster.}
&amp;CMD_+BBLEAVE BBS - Myrddin's Global BBS v4.0.2=$+bbleave *:@switch member(u(#69/valid_groups,%#,read),[setq(0,u(#69/get_group,%0))]%q0)=0,{@pemit&#160;%#=You aren't currently subscribing to Board #%0. No ommission necessary.},{&amp;bb_omit&#160;%#=[setunion(get(%#/bb_omit),%q0)]; @pemit&#160;%#=You have removed yourself from the [name(%q0)] board.}
&amp;CMD_+BBJOIN BBS - Myrddin's Global BBS v4.0.2=$+bbjoin *:@switch member(NULL [get(%#/bb_omit)],[setq(0,u(#69/get_group,%0))]%q0)=0,{@pemit&#160;%#=[switch(member(u(#69/valid_groups,%#,read),%q0),0,{Sorry, you don't have access to that board.},{You are already a member of the [name(%q0)] board.})]},{&amp;bb_omit&#160;%#=[setdiff(get(%#/bb_omit),%q0)]; @pemit&#160;%#=You have joined the [name(%q0)] board.}
&amp;CMD_+BBLIST BBS - Myrddin's Global BBS v4.0.2=$+bblist:@pemit&#160;%#=[repeat(=,78)]%r[ljust(Available Bulletin Board Groups,37)]Member?[space(8)]Timeout (in days)%r[repeat(-,78)]%r%b[iter(get(#69/groups),switch(u(##/canread,%#),1,{%r%b[trim([ljust(member(get(#69/groups),##),5)][ljust(name(##),32)][ljust(switch(member(get(%#/bb_omit),##),0,Yes,No),19)][rjust(ifelse(get(##/config_timeout),div(get(##/config_timeout),86400),none),4)])]}))]%r[repeat(-,78)]%rTo join groups, type '+bbjoin &lt;group number or name&gt;'%r[repeat(=,78)]
&amp;CREDITS BBS - Myrddin's Global BBS v4.0.2=Myrddin's BBS was written by Myrddin@Requiem/Dreaming/Elysium (email: merlin@firstmagic.com). This code is available (in some form) at http://www.best.com/~merlin/mushcode.html, or ftp.best.com:/pub/merlin. Please refer interested parties to myself or those addresses, thank you.&#160;:)
@set BBS - Myrddin's Global BBS v4.0.2/CREDITS = no_command
&amp;CMD_+BBCATCHUP BBS - Myrddin's Global BBS v4.0.2=$+bbcatchup *:@switch lcstr(%0)=all,{&amp;bb_read&#160;%#=[get(#69/master_lst)]; @pemit&#160;%#=All postings on all boards marked as read.},{@dolist [setq(1,u(#69/valid_groups,%#,read))][u(#69/fn_makelist,%0)]={@switch member(%q1,[setq(0,u(#69/get_group,##))]%q0)=0,{@pemit&#160;%#=You do not subscribe to Group ##.},{ &amp;bb_read&#160;%#=[setunion(get(%#/bb_read),get(%q0/MESS_LST))]; @pemit&#160;%#=All postings on Group #[member(get(#69/groups),%q0)] ([name(%q0)]) marked as read.}}}
&amp;CMD_+BBMOVE BBS - Myrddin's Global BBS v4.0.2=$+bbmove */* to *:@switch and(member(u(#69/valid_groups,%#,read),[setq(0,u(#69/get_group,%0))]%q0),member(u(#69/valid_groups,%#,write),[setq(2,u(#69/get_group,%2))]%q2))=0,{@pemit&#160;%#=One of the selected groups is not valid (either it doesn't exist or you can't write to it).},{@switch or(strmatch(index(get(%q0/HDR_[setq(1,extract(get(%q0/MESS_LST),%1,1))]%q1),|,4, 1),%#), and(hasflag(%#,wizard),member(get(%q0/MESS_LST),%q1)))=1,{@set&#160;%q2=HDR_%q1:_%q0/HDR_%q1; @set&#160;%q2=BDY_%q1:_%q0/BDY_%q1; &amp;MESS_LST&#160;%q2=[cat(get(%q2/mess_lst),%q1)]; &amp;MESS_LST&#160;%q0=[remove(get(%q0/MESS_LST),%q1)]; &amp;HDR_%q1&#160;%q0; &amp;BDY_%q1&#160;%q0; @pemit&#160;%#=Message '%1' removed from group '%0' and added to group '%2' as message #[member(get(%q2/mess_lst),%q1)]},{@pemit&#160;%#=Not a valid message number for that group.}
&amp;CMD_+BBWRITELOCK BBS - Myrddin's Global BBS v4.0.2=$+bbwritelock *=*/*:@switch hasflag(%#,wizard)=1,{@switch member(get(#69/groups),[setq(0,u(#69/get_group,%0))]%q0)=0,{@pemit&#160;%#=No such group as '%0'.},{@switch&#160;%1=flag,{&amp;CANWRITE&#160;%q0=\[or(hasflag(\%0,%2),isstaff(\%0))]},{&amp;CANWRITE&#160;%q0=\[or(match(gettext(\%0,%1),%2),isstaff(\%0))]}; @pemit&#160;%#=Group '%0' locked. Only people with&#160;%1=%2 can write.}},{@pemit&#160;%#=You cannot lock message groups.}
&amp;CMD_+BBPOST2 BBS - Myrddin's Global BBS v4.0.2=$+bbpost */*:@switch hasattr(#69,bb_post_hdr_%#)=1,{@pemit&#160;%#=You are already in the middle of writing a bbpost.},{@switch strmatch(%1,*=*)=0,{@switch member(u(#69/valid_groups,%#,write),[setq(0,u(#69/get_group,%0))]%q0)=0,{@pemit&#160;%#=Either you do not subscribe to Group #%0 or are unable to post to it.},{&amp;bb_post_hdr_%# #69=%q0|[mid(%1,0,34)]; @pemit&#160;%#=%rYou start your posting to Group #[member(get(#69/groups),%q0)] ([name(%q0)]).%rYou can now compose the body of the post by using '+bbwrite &lt;text&gt;'%ror '+bb &lt;text&gt;'. When you are finished, type '+bbpost' by itself.}}}
&amp;CMD_+BBWRITE BBS - Myrddin's Global BBS v4.0.2=$+bbwrite *:@switch hasattr(#69,bb_post_hdr_%#)=0,{@pemit&#160;%#=You do not have a bbpost in progress.},{&amp;bb_post_bdy_%# #69=[get(#69/bb_post_bdy_%#)]%0; @pemit&#160;%#=Text added to bbpost.}
&amp;CMD_+BBPROOF BBS - Myrddin's Global BBS v4.0.2=$+bbproof:@switch hasattr(#69,bb_post_hdr_%#)=0,{@pemit&#160;%#=You do not have a bbpost in progress.},{@pemit&#160;%#=[center(= BB Post in Progress =,78,=)]%rGroup:&#160;%b[name(index(get(#69/bb_post_hdr_%#),|,1,1))]%rTitle:&#160;%b[index(get(#69/bb_post_hdr_%#),|,2,1)]%r[repeat(-,78)]%r[trim(get(#69/bb_post_bdy_%#))]%r[repeat(=,78)]}
&amp;CMD_+BBPOST-POST BBS - Myrddin's Global BBS v4.0.2=$+bbpost:@switch [hasattr(#69,bb_post_hdr_%#)]:[hasattr(#69,bb_post_bdy_%#)]=0:0,{@pemit&#160;%#=You do not have a bbpost in progress.},1:0,{@pemit&#160;%#=Your post is empty. Please add text with the '+bbwrite &lt;text&gt;' command or discard the posting with the '+bbtoss' command.},{&amp;mess_lst [setr(0,index(get(#69/bb_post_hdr_%#),|,1,1))]=[cat(get(%q0/mess_lst),setr(1,get(#69/nxt_mess)))]; &amp;nxt_mess #69=[ulocal(#69/fn_inc_next_mess,%q1)]; &amp;master_lst #69=[cat(get(#69/master_lst),%q1)]; &amp;hdr_%q1&#160;%q0=[index(get(#69/bb_post_hdr_%#),|,2,1)]|[u(#69/bbtime)]|[edefault(%q0/anonymous,mid(name(%#),0,24))]|%#|[ifelse(get(%q0/config_timeout),add(get(%q0/config_timeout),secs()),0)]; &amp;last_mod&#160;%q0=[u(#69/bbtime)]; &amp;bdy_%q1&#160;%q0={[trim(get(#69/bb_post_bdy_%#))][switch(hasattr(%#,bb_sig),1,{%r[u(%#/bb_sig)]})]}; @pemit&#160;%#=You post your note about '[index(get(#69/bb_post_hdr_%#),|,2,1)]' in group '[name(%q0)]' as message #[member(get(%q0/mess_lst),%q1)]; &amp;bb_read&#160;%#=[setunion(get(%#/bb_
read),%q1)]; @trigger #69/tr_post_notify=%#,%q0,[index(get(#69/bb_post_hdr_%#),|,2,1)],member(u(#69/GROUPS),%q0)/[member(get(%q0/mess_lst),%q1)]; &amp;bb_post_bdy_%# #69; &amp;bb_post_hdr_%# #69}
&amp;CMD_+BBREAD BBS - Myrddin's Global BBS v4.0.2=$+bbread:@pemit&#160;%#=[repeat(=,78)]%r[space(7)]Group Name[space(20)]Last Post[space(6)]# of messages%r[repeat(-,78)][iter(u(#69/valid_groups,%#,read),%r[rjust(member(get(#69/groups),##),2)][center([switch([get(##/CANREAD)]:[get(##/CANWRITE)]:[u(##/CANWRITE,%#)],1:1:1,,1:*:1,{(-)},1:*:0,-,*)],5)][ljust(name(##),30)][ljust(get(##/LAST_MOD),20)][rjust(words([setq(0,get(##/MESS_LST))]%q0),3)]%b[ljust(u(#69/isgroupread,%#,%q0),2)])]%r[repeat(-,78)]%r[center('*' = restricted[space(5)]'-' = read only[space(5)]'\(-\)' = read only\, but you can write,78)]%r[center(=[switch(hasflag(%#,wizard),1,{= BBS at [round(mul(fdiv(strlen(get(#69/master_lst)),4000),100),1)]\\% capacity =},=)]=,78,=)]
&amp;CMD_+BBTOSS BBS - Myrddin's Global BBS v4.0.2=$+bbtoss:@switch hasattr(#69,bb_post_hdr_%#)=0,{@pemit&#160;%#=You do not have bbpost in progress.},{&amp;bb_post_hdr_%# #69; &amp;bb_post_bdy_%# #69; @pemit&#160;%#=Your bbpost has been discarded.}
&amp;CMD_+BB BBS - Myrddin's Global BBS v4.0.2=$+bb *:@switch hasattr(#69,bb_post_hdr_%#)=0,{@pemit&#160;%#=You do not have a bbpost in progress.},{&amp;bb_post_bdy_%# #69=[get(#69/bb_post_bdy_%#)]%b%0; @pemit&#160;%#=Text added to bbpost.}
&amp;CMD_+BBEDIT2 BBS - Myrddin's Global BBS v4.0.2=$+bbedit *=*/*:@switch strmatch([setq(0,ucstr(%0))]%q0,*/*)=0,{@switch&#160;%q0=TEXT,{@edit #69/bb_post_bdy_%#={%1},{%2}},TITLE,{&amp;bb_post_hdr_%# #69=[index(get(#69/bb_post_hdr_%#),|,1,1)]|[edit(index(get(#69/bb_post_hdr_%#),|,2,1),{%1},{%2})]}; @wait 0={@pemit&#160;%#=[center(= BB Post in Progress =,78,=)]%rGroup:&#160;%b[name(index(get(#69/bb_post_hdr_%#),|,1,1))]%rTitle:&#160;%b[index(get(#69/bb_post_hdr_%#),|,2,1)]%r[repeat(-,78)]%r[trim(get(#69/bb_post_bdy_%#))]%r[repeat(=,78)]}}
&amp;CMD_+BBHELP BBS - Myrddin's Global BBS v4.0.2=$+bbhelp:@pemit&#160;%#=Please use '+help bb'.
&amp;CMD_+BBCONFIG BBS - Myrddin's Global BBS v4.0.2=$+bbconfig:@pemit&#160;%#=[center(= Myrddin's Global BBS v[get(#69/version)] =,78,=)]%rGlobal Config Parameters:%r%r[rjust(timeout:,15)] [div(get(#69/config_timeout),86400)] days%r[rjust(autotimeout:,15)] [ifelse(hasattr(#69,startup),on,off)]%r[repeat(-,78)]%rBoard Config Parameters:%r%r%b[iter(filter(#69/fn_hasconfig,get(#69/groups)),%b%b[name(##)]%r[ifelse(hasattr(##,anonymous),[space(5)]anonymous: [get(##/anonymous)]%r,)][ifelse(neq(get(##/config_timeout),get(#69/config_timeout)),[space(5)]timeout: [div(get(##/config_timeout),86400)] days%r,)]%r)][repeat(=,78)]
&amp;CMD_+BBCONFIG2 BBS - Myrddin's Global BBS v4.0.2=$+bbconfig *=*:@switch [strmatch(%0,*/*)]:[hasflag(%#,wizard)]=1:*,{},0:0,{@pemit&#160;%#=Huh?%b%b(Type &quot;help&quot; for help.)},{@switch [member(get(#69/valid_global_configs),lcstr(%0))]=0,{@pemit&#160;%#=Valid global config parameters are: [get(#69/valid_global_configs)]},{@trigger #69/tr_gconfig_%0=%1,%#}}
&amp;CMD_+BBCONFIG3 BBS - Myrddin's Global BBS v4.0.2=$+bbconfig */*=*:@switch/first hasflag(%#,wizard)=0,{@pemit&#160;%#=Huh?%b%b(Type &quot;help&quot; for help.)},{@switch [setr(0,u(#69/get_group,%0))]:[member(get(#69/valid_configs),lcstr(%1))]=#-1:*,{@pemit&#160;%#='%0' is not a valid group name.},#-2:*,{@pemit&#160;%#='%0' is not specific enough.},*:0,{@pemit&#160;%#=Valid config parameters are: [get(#69/valid_configs)]},{@trigger #69/tr_config_%1=%q0,%2,%#}}
&amp;CMD_+BBTIMEOUT BBS - Myrddin's Global BBS v4.0.2=$+bbtimeout */*=*:@dolist [sort(u(#69/fn_makelist,%1))][setq(0,u(#69/get_group,%0))]={@switch [or(strmatch(index(get(%q0/HDR_[setq(1,extract(get(%q0/MESS_LST),##,1))]%q1),|,4, 1),%#), hasflag(%#,wizard))]:[and(isnum(%2),or(and(gt(%2,0),lte(mul(%2,86400),get(%q0/config_timeout))),and(not(get(%q0/config_timeout)),gte(%2,0)),hasflag(%#,wizard)))]=1:1, {&amp;hdr_%q1&#160;%q0=[replace(get(%q0/hdr_%q1),5,ifelse(%2,add(secs(),mul(%2,86400)),0),|)]; @pemit&#160;%#=Message ## in group '[name(%q0)]' has [ifelse(%2,a&#160;%2 day,no)] timeout.}, 0:*,{@pemit&#160;%#=Either message ## does not exist, or you were not the original poster.},*:0,{@pemit&#160;%#=Sorry, '%2' is not a valid number of days for a timeout on the '[name(%q0)]' board. [ifelse(get(%q0/config_timeout),Maximum timeout is [div(get(%q0/config_timeout),86400)] days.,)]}}
&amp;CMD_+BBSEARCH BBS - Myrddin's Global BBS v4.0.2=$+bbsearch */*:@switch [isdbref(setr(0,u(#69/get_group,%0)))]:[hasattr(%q0,anonymous)]:[isdbref(setr(1,locate(%#,*%1,p)))]=0:*:*,{@pemit&#160;%#=You do not subscribe to that Group.},1:1:*,{@pemit&#160;%#=BB Group '[name(%q0)]' is an anonymous group.},1:0:0,{@pemit&#160;%#=No such player '%1'.},{@switch words(setr(2,grep(%q0,hdr_*,|%q1|)))=0,{@pemit&#160;%#=[name(%q1)] hasn't posted any messages to the '[name(%q0)]' Group.},{@pemit&#160;%#=%r[repeat(=,78)]%r[center(**** [name(%q0)] ****,78)]%r[space(8)]Message[space(28)]Posted[space(8)]By%r[repeat(-,78)]; @dolist&#160;%q2={@pemit&#160;%#=[ljust([member(get(#69/groups),%q0)]/[member(get(%q0/mess_lst),last(##,_))],6)][ljust(u(#69/fn_msg_flags,%#,%q0,last(##,_)),2)][ljust(index([setr(3,get(%q0/##))],|,1,1),35)][ljust(index(%q3,|,2,1),14)][mid([index(%q3,|,3,1)],0,21)][switch(member(%q2,##),words(%q2),%r[repeat(=,78)])]}}}
&amp;CMD_+BBNOTIFY BBS - Myrddin's Global BBS v4.0.2=$+bbnotify *=*:@switch/first [member(u(#69/valid_groups,%#,read),setr(0,u(#69/get_group,%0)))]:[member(on off,lcstr(%1))]:[lcstr(%1)]=0:*:*,{@pemit&#160;%#=[switch(%q0,#-2,That Group name is not specific enough.,You do not subscribe to that Group.)]},*:0:*,{@pemit&#160;%#=Invalid choice '%1'. Choices are 'on' or 'off'.},*:*:off,{&amp;bb_silent&#160;%#=[setunion(get(%#/bb_silent),%q0)]; @pemit&#160;%#=Post notification for BB Group '[name(%q0)]' turned off. You will no longer be notified of new postings to that Group.},{&amp;bb_silent&#160;%#=[setdiff(get(%#/bb_silent),%q0)]; @pemit&#160;%#=Post notification for BB Group '[name(%q0)]' turned on. You will now be notified of new postings to that Group.}
&amp;CMD_+BBSCAN_BAK BBS - Myrddin's Global BBS v4.0.2=+bbscan:@switch hasattr(#69,bb_post_hdr_%#)=1,{@pemit&#160;%#=** BB Warning: You are in the middle of writing a bbpost. **}; @switch words(setdiff(iter(u(#69/valid_groups,%#,read),get(##/mess_lst)),get(%#/bb_read)))=0,{@pemit&#160;%#=There are no unread postings on the Global Bulletin Board.},{@pemit&#160;%#=[center(- Unread Postings on Global Bulletin Board -,78,-)]; @dolist [setq(0,u(#69/valid_groups,%#,read))][setq(1,get(%#/bb_read))]%q0 END={@switch ##=END,@notify me,{@switch [setq(2,words(setdiff(get(##/mess_lst),%q1)))]%q2=0,,{@pemit&#160;%#=There are&#160;%q2 unread postings on the [name(##)] (#[member(get(#69/groups),##)]) board.}}}; @wait me={@pemit&#160;%#=[center(- BBS at [round(mul(fdiv(strlen(get(#69/master_lst)),4000),100),1)]\% capacity -,78,-)]}}
&amp;CMD_+BBSCAN BBS - Myrddin's Global BBS v4.0.2=$+bbscan:@switch hasattr(#69,bb_post_hdr_%#)=1,{@pemit&#160;%#=%xhGAME%xn: BB Warning: You are in the middle of writing a bbpost. **}; @switch words(setdiff(iter(u(#69/valid_groups,%#,read),get(##/mess_lst)),get(%#/bb_read)))=0,{@pemit&#160;%#=%xhGAME%xn: There are no unread postings on the Global Bulletin Board.},{@pemit&#160;%#=[center(- Unread Postings on Global Bulletin Board -,78,-)]; @dolist [setq(0,u(#69/valid_groups,%#,read))][setq(1,get(%#/bb_read))]%q0 END={@switch ##=END,@notify me,{@switch [setq(2,words(setr(8,setdiff(get(##/mess_lst),%q1))))]%q2=0,,{@pemit&#160;%#=[left(ljust(name(##),20,.),20)][rjust(%(#[member(get(#69/groups),##)]%),7,.)] [rjust(%q2,3)] unread ([u(FN_SCAN,##,%q8)])}}}; @wait me={@pemit&#160;%#=[center(- BBS at [round(mul(fdiv(strlen(get(#69/master_lst)),4000),100),1)]\% capacity -,78,-)]}}
&amp;FN_SCAN BBS - Myrddin's Global BBS v4.0.2=[andlist(iter(%1,member(get(%0/mess_lst),##)))]
@set BBS - Myrddin's Global BBS v4.0.2=INHERIT
@set BBS - Myrddin's Global BBS v4.0.2=SAFE
@set BBS - Myrddin's Global BBS v4.0.2=COMMANDS
@rxlevel BBS - Myrddin's Global BBS v4.0.2=Real
@txlevel BBS - Myrddin's Global BBS v4.0.2=Real
@alias #70=
---
#1
#0
#92
#1
@Aconnect me=@tr me/startup
&amp;UNSUMMON me=1
&amp;HIDDEN me=bb_read bb_omit unsummon stats jnotes vacation
&amp;WIZARD me=statsbg
&amp;JNOTES me=1
&amp;STATS me=1
&amp;STATSBG me=1
&amp;MIAMIO me=#12
@Startup me=@dolist get([get(get(me/miamio)/MFGO)]/EXPORTS-PRIV)=@function/privileged ##=[get(get(me/miamio)/MFGO)]/FN_##; @dolist get([get(get(me/miamio)/MFGO)]/EXPORTS-PRES)=@function/preserve ##=[get(get(me/miamio)/MFGO)]/FN_##; @dolist get([get(get(me/miamio)/CF)]/EXPORTS-PRIV)=@function/privileged ##=[get(get(me/miamio)/CF)]/FN_##; @dolist get([get(get(me/miamio)/CF)]/EXPORTS-PRES)=@function/preserve ##=[get(get(me/miamio)/CF)]/FN_##; @dolist get(me/HIDDEN)=@attribute/access ##=hidden wizard; @dolist get(me/WIZARD)=@attribute/access ##=!hidden wizard; @trigger me/setup-global-functions; @trigger me/clear-semaphores; @trigger me/setup-mail-alii
&amp;TIMEON me=0
&amp;FUGUE me=#1/SETUP-MAIL-ALII
&amp;SETUP-GLOBAL-FUNCTIONS me=@function randword=#261/randword; @function tilde2blank=#261/tilde2blank; @function blank2tilde=#261/blank2tilde
&amp;CLEAR-SEMAPHORES me=@dolist search(type=ROOM)={@switch hasattr(##,ambient_semaphore)=1,&amp;AMBIENT_SEMAPHORE ##;}
&amp;SETUP-MAIL-ALII me=@malias/delete *coders; @malias *coders=[u(#6/WIZARDS_LIST)]; @malias/delete *admins; @malias *admins=[u(#6/BARDS_LIST)]; @malias/delete *staff; @malias *staff=[setunion(setunion(u(#6/WIZARDS_LIST),u(#6/ADMINS_LIST)),u(#6/JUDGES_LIST))]; @malias/delete *shifterstaff; @malias *shifterstaff=#72 #910; @malias/delete *mortalstaff; @malias *mortalstaff=#72 #954 #285
@Desc me=@eval root@chicago.mush.net
@set me=WIZARD
@rxlevel me=Real
@txlevel me=Real
@alias #1=God
---
#0
#-1
#-1
#72
@dig/teleport Purgatory
@Desc here=%r%b%bWelcome to....%r[center(%xh\(%xnC&#160;%xh|%xnH&#160;%xh|%xnI&#160;%xh\(%xnC&#160;%xh\(%xnA&#160;%xh\(%xnG&#160;%xh\(%xnO,79)]%r[center(-From Dusk Till Dawn-,79)]%r%r[center('%xhnews%xn' has information for newbies and olebies alike.,79)]%r[center(\(Type &quot;news&quot;\, sans the quotation marks\, press return.\),79)]%r[center('%xhnews chicago%xn' will tell you what makes this place different.,79)]%r
&amp;DO_IC here=$ic:@force&#160;%#=+ic
&amp;INFO here=desc by Callisto
&amp;NO_SPY here=OOC area. No spying on the OOC.
@set here=INHERIT
@set here=JUMP_OK
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #0=
---
#32
#-1
#-1
#72
@dig/teleport Chargen Beginnings
&amp;DO_CONCEPT here=$+concept *:&amp;STATS&#160;%#=[setabil(%#,concept,{%0})]; @pemit&#160;%#=You have set your concept to '{%0}'
@Desc here=%r%tHello, and welcome to Character Generation. The process may seem long and complex, but good news! You only have to do it once per character.%r%r%tIF YOU HAVE AN ANSI CAPABLE CLIENT TYPE @set me=ansi NOW. (You will be happy that you did)%R%R%TSee '%xh+help chargen beginnings%xn' for more information.%xn%r%r%tIn here you will set three things: a&#160;%xh%xyconcept%xn, a&#160;%xh%xyrace%xn, and a&#160;%xh%xybackground%xn.%r%r%tA concept is basically the whole idea your character is based around. Some examples: An exotic dancer. A Yakuza Oyabun. A Mafia Don. The City's Mayor. A little girl. A fortune teller. You then take your concept and build a background for it.&#160;%r%tYour race is the kind of character you play. Do you want to be a mortal, living on the edge of life and death? Or maybe Garou's your thing... Claws, fur, teeth, Gaia, all that. Or you could be a blood sucking vampire, living off other's meager existances. Those are hardly all the choices, there is a list below of races to choose from.%r%tFinally, 
there is your background. As was stated before, this is based off your concept. Don't put down a street-rat as your concept, then write your girl or boy as the richest kid on the earth. Or vice versa. Things have to match. You'll have the staff of Chicago to help you through all that.&#160;:)%r%r%tCurrent Concept:%xh [gettext(%#,concept)]%xn%r%tTo change: +concept &lt;new concept&gt;%r%r%tCurrent Race:&#160;%xh[gettext(%#,Race)]%xn%r%tTo change: +race &lt;new race&gt;%r%r%tValid Races: [andlist(u(parent(me)/FN_LIST_RACES))]%r%r%tNote that races ending with '@' are application only.%r%r%tYour background is%xh[switch(hasattr(%#,STATSBG),0,%bnot)] set%xn.%r%r%tRead '%xh+help backgrounds%xn' for more information on setting your background.%r%r%tYou may restart your character by typing '%xh+wipe%xn'%r
&amp;DO_RACE here=$+race *:@switch/first [setq(0,trim(%0,r,@))][strmatch(gettext(%#,Clearance),%q0)][gt(match(u(parent(me)/FN_LIST_RACES),%q0),0)][gt(match(u(parent(me)/FN_LIST_RACES),%q0@),0)]=?00,{@pemit&#160;%#=I'm sorry, but that race does not exist. Please choose another.},001,{@pemit&#160;%#=I'm sorry, but you are not allowed to choose that race. Please have a staffer +clear you for that race.},?10,{&amp;STATS&#160;%#=[setabil(%#,race,capitalize(trim(%0,r,@)))]; @pemit&#160;%#=You are now set to be a '[capitalize(trim(%0,r,@))]'. Have fun!; @dolist [setq(0,u(parent(me)/FN_GET_RACE_DBREF,trim(%0,r,@)))][iter(lparent(%q0), lattr(##/RACE_LOOKUP*))]=&amp;STATS&#160;%#=[u(%q0/##,trim(%0,r,@),%#)]; @dolist iter(lparent(%q0), lattr(##/RACE_COMPUTE*))=&amp;STATS&#160;%#=[u(%q0/##,%#)]},1?1,{&amp;STATS&#160;%#=[setabil(%#,race,capitalize(trim(%0,r,@)))]; &amp;STATS&#160;%#=[setabil(%#,temprace,capitalize(trim(%0,r,@)))]; @pemit&#160;%#=You are now set to be a '[capitalize(trim(%0,r,@))]'. Have fun!; @dolist [setq(0,u(parent(me)/FN_GET_RACE_DBREF,trim(%0,r,@)))][iter(lparent(%q0),
 lattr(##/RACE_LOOKUP*))]=&amp;STATS&#160;%#=[u(%q0/##,trim(%0,r,@),%#)]; @dolist iter(lparent(%q0), lattr(##/RACE_COMPUTE*))=&amp;STATS&#160;%#=[u(%q0/##,%#)]},{@pemit&#160;%#=An error occurred.}
&amp;DO_WIPE here=$+wipe:setq(0,gettext(%#,clearance)); &amp;STATS&#160;%#=[u(BLANK)]; &amp;STATS&#160;%#=[setabil(%#,Clearance,%q0)]; &amp;STATSBG&#160;%#; &amp;JNOTES&#160;%#; @dolist lattr(%#/EXPLAIN_*)={@unlock&#160;%#/##; &amp;##&#160;%#}; @wait 0=@pemit&#160;%#=Your stats have been erased.
@Adesc here=@switch hasattr(%#,STATS)=0,{setq(0,gettext(%#,clearance)); &amp;STATS&#160;%#=[u(BLANK)]; &amp;STATS&#160;%#=[setabil(%#,Clearance,%q0)]; &amp;STATSBG&#160;%#; &amp;JNOTES&#160;%#; @dolist lattr(%#/EXPLAIN_*)={@unlock&#160;%#/##; &amp;##&#160;%#}}
&amp;DO_RACE_BAK here=$+race *:@switch/first [strmatch(gettext(%#,Clearance),%0)][gt(match(u(parent(me)/FN_LIST_RACES),%0),0)][gt(match(u(parent(me)/FN_LIST_RACES),%0@),0)]=?0?,{@pemit&#160;%#=I'm sorry, but that race does not exist. Please choose another.},011,{@pemit&#160;%#=I'm sorry, but you are not allowed to choose that race. Please have a staffer +clear you for that race.},?10,{&amp;STATS&#160;%#=[setabil(%#,race,capitalize(trim(%0,r,@)))]; @pemit&#160;%#=You are now set to be a '[capitalize(trim(%0,r,@))]'. Have fun!},111,{&amp;STATS&#160;%#=[setabil(%#,race,capitalize(trim(%0,r,@)))]; &amp;STATS&#160;%#=[setabil(%#,temprace,capitalize(trim(%0,r,@)))]; @pemit&#160;%#=You are now set to be a '[capitalize(trim(%0,r,@))]'. Have fun!},{@pemit&#160;%#=An error occurred.}
@set here/DO_RACE_BAK = no_command
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #32=
---
#35
#-1
#-1
#72
@dig/teleport Chargen Hall
@Desc here=%R%T%xhSee '+help chargen main' for more information.%xn%r%r%tSeveral doors lead off in many directions. Behind each of these doors lies the key to another piece of your character. Choose wisely, for a false step can bring you back through here over and over.%r
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #35=
---
#39
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Freebies
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,freebies); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1frcost)); setq(6,switch(1,isnum(extract(get(%q0/INFO2_%q2),2,1,^)),mul(extract(get(%q0/INFO2_%q2),2,1,^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [gt(match(get(me/VALID),%q1),0)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%
b,)]%q9=0??????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0?????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},?????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%
b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=phys-attrs soc-attrs ment-attrs talents skills knowledges sectalents secskills secknowledges backgrounds pools powers merits flaws misc spells
@Desc here=%RSee '%xh+help chargen freebies%xn' for more information.%r%r%r[center(%xh%xrDO THIS ROOM LAST&#160;!,75%xn)]%r[center(%xh%xrYOU MIGHT LOSE INFORMATION OTHERWISE&#160;!,75%xn)]%r%rUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various attributes up and down. &lt;amount&gt; may be positive or negative.%r%rAll atributes on your +sheet may be set here.%r%rYou currently have&#160;%xh%xy[getabil(%#,freebiespoints)]%xn freebie points left to spend.%r%rUse '%xh+chart%xn' to see how much an attribute in a section of your character sheet will cost to raise.%r%rUse '%xh+sheet%xn' to see your entire character sheet.%R
&amp;DO_CHART here=$+chart:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); @pemit&#160;%#=[line(Freebie Point Cost Chart)]%r; @pemit&#160;%#=[list(u(VALID),center(ljust(capitalize(##),20,.)[rjust(getabil(%q0,##frcost),10,.)],75))]; @pemit&#160;%#=%r[center(Note that some individual abilities may cost more or less.,75)]%r[line(End: Freebie Point Cost Chart)]
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #39=
---
#42
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Miscellaneous Attributes
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%
q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9[gte(getabil(%#,freebiespoints),%q6)]=0????????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0???????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0??????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0????,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0???,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10?,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},????????0,{@pemit&#160;%#=I'm sorry, but you do not have enough freebies left to take this ability.},{&amp;
STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[rest(rest(%0,:),:)]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)];@dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=MISC
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/MISC)); setq(1,words(%q2)); setq(5,add(1,div(%q1,30))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Miscellaneous Items)]%r[edit(columns(iter(lnum2(add(mul(%q5,30),1),mul(add(%q5,1),30)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1))),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Miscellaneous Items)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,MISC)); setq(1,words(%q2,|));@pemit&#160;%#=[line(Miscellaneous Items)]%r%xh[ljust(Points Left,18,.)][rjust(getabil(%#,miscpoints),5,.)]%xn%r[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)])),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Miscellaneous Items)]
@Desc here=%rSee '%xh+help chargen miscellaneous%xn' for more information.%r%rUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various miscellaneous attributes up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(words(u(%q0/MISC)),30))]) to see what attributes are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%r%rUse '%xh+sheet%xn' to see your entire character sheet.%r
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #42=
---
#45
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Flaws
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,abs(%q6))][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(
last(%q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9[gte(getabil(%#,freebiespoints),%q6)]=0????????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0???????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0??????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0????,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0???,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10?,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},????????0,{@pemit&#160;%#=I'm sorry, but you do not have enough freebies left to take this ability.},
{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,freebiespoints,add(getabil(%#,freebiespoints),%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=flaws
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/FLAWS)); setq(1,words(%q2)); setq(5,add(1,div(%q1,30))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Flaws)]%r[edit(columns(iter(lnum2(add(mul(%q5,30),1),mul(add(%q5,1),30)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1))),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Flaws)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,FLAWS)); setq(1,words(%q2,|));@pemit&#160;%#=[line(Flaws)]%r%xh[ljust(Flaw Points Left,18,.)][rjust(getabil(%#,flawspoints),5,.)]%b%b[ljust(Freebie Points Left,18,.)][rjust(getabil(%#,freebiespoints),5,.)]%xn%r[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)])),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Flaws)]
@Desc here=%RSee '%xh+help chargen flaws%xn' for more information.%r%rUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various backgrounds up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(words(u(%q0/FLAWS)),30))]) to see what attributes are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%r%rUse '%xh+sheet%xn' to see your entire character sheet.%r
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #45=
---
#48
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Merits
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%
q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9[gte(getabil(%#,freebiespoints),%q6)]=0????????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0???????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0??????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0????,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0???,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10?,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},????????0,{@pemit&#160;%#=I'm sorry, but you do not have enough freebies left to take this ability.},{&amp;
STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,freebiespoints,sub(getabil(%#,freebiespoints),%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=MERITS
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/MERITS)); setq(1,words(%q2)); setq(5,add(1,div(%q1,30))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Merits)]%r[edit(columns(iter(lnum2(add(mul(%q5,30),1),mul(add(%q5,1),30)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1))),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Merits)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,MERITS)); setq(1,words(%q2,|));@pemit&#160;%#=[line(Merits)]%r%xh[ljust(Merit Points Left,18,.)][rjust(getabil(%#,meritspoints),5,.)]%b%b[ljust(Freebie Points Left,18,.)][rjust(getabil(%#,freebiespoints),5,.)]%xn%r[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)])),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Merits)]
@Desc here=%RSee '%xh+help chargen merits%xn' for more information.%r%rUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various backgrounds up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(words(u(%q0/MERITS)),30))]) to see what attributes are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%r%rUse '%xh+sheet%xn' to see your entire character sheet.%R
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #48=
---
#51
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Spells
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%
q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=0???????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0??????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(
rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=SPELLS
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/SPELLS)); setq(1,words(%q2)); setq(5,add(1,div(%q1,30))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Spells)]%r[edit(columns(iter(lnum2(add(mul(%q5,30),1),mul(add(%q5,1),30)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1))),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Spells)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,SPELLS)); setq(1,words(%q2,|));@pemit&#160;%#=[line(Spells)]%r%xh[ljust(Points Left,18,.)][rjust(getabil(%#,spellspoints),5,.)]%xn%r[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)])),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Spells)]
@Desc here=%RSee '%xh+help chargen spells%xn' for more information.%r%rUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various backgrounds up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(words(u(%q0/SPELLS)),30))]) to see what attributes are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%r%rUse '%xh+sheet%xn' to see your entire character sheet.%R
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #51=
---
#54
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Powers
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%
q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=0???????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0??????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(
rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=powers
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/POWERS)); setq(1,words(%q2)); setq(5,add(1,div(%q1,30))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Powers)]%r[edit(columns(iter(lnum2(add(mul(%q5,30),1),mul(add(%q5,1),30)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1))),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Powers)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,POWERS)); setq(1,words(%q2,|));@pemit&#160;%#=[line(Powers)]%r%xh[ljust(Points Left,18,.)][rjust(getabil(%#,powerspoints),5,.)]%xn%r[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)])),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Powers)]
@Desc here=%RSee '%xh+help chargen powers%xn' for more information.%r%rUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various backgrounds up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(words(u(%q0/POWERS)),30))]) to see what attributes are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%r%rUse '%xh+sheet%xn' to see your entire character sheet.%R
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #54=
---
#57
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Backgrounds
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%
q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=0???????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0??????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(
rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=backgrounds
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/BACKGROUNDS)); setq(1,words(%q2)); setq(5,add(1,div(%q1,30))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Backgrounds)]%r[edit(columns(iter(lnum2(add(mul(%q5,30),1),mul(add(%q5,1),30)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1))),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Backgrounds)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,BACKGROUNDS)); setq(1,words(%q2,|));@pemit&#160;%#=[line(Backgrounds)]%r%xh[ljust(Points Left,18,.)][rjust(getabil(%#,backgroundspoints),5,.)]%xn%r[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)])),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Backgrounds)]
@Desc here=%RSee '%xh+help chargen backgrounds%xn' for more information.%r%rUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various backgrounds up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(words(u(%q0/BACKGROUNDS)),30))]) to see what attributes are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%r%rUse '%xh+sheet%xn' to see your entire character sheet.%R
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #57=
---
#60
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Abilities
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%
q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=0???????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0??????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(
rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist iter(lparent(%q0), lattr(##/%q2_LOOKUP*))=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist iter(lparent(%q0), lattr(##/%q2_COMPUTE*))=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=talents skills knowledges sectalents secskills secknowledges
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,setunion(u(%q0/talents),u(%q0/sectalents))); setq(3,setunion(u(%q0/skills),u(%q0/secskills))); setq(4,setunion(u(%q0/knowledges),u(%q0/secknowledges))); setq(1,max(words(%q2),words(%q3),words(%q4))); setq(5,add(1,div(%q1,10))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Talents,25)][line(Skills,25)][line(Knowledges,25)]%r[edit(columns(iter(lnum2(add(mul(%q5,10),1),mul(add(%q5,1),10)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1)) [switch(strlen(extract(%q3,##,1)),0,_,extract(%q3,##,1))] [switch(strlen(extract(%q4,##,1)),0,_,extract(%q4,##,1))]),25),_,%b)][line(End: Talents,24)][line(End: Skills,25)][line(End: Knowledges,25)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,TALENTS)); setq(3,u(parent(me)/FN_GET_SECTION,%#,SKILLS)); setq(4,u(parent(me)/FN_GET_SECTION,%#,KNOWLEDGES)); setq(1,max(words(%q2,|),words(%q3,|),words(%q4,|))); @pemit&#160;%#=[line(Talents,25)][line(Skills,25)][line(Knowledges,25)]%r%xh[ljust(Points Left,18,.)][rjust(getabil(%#,talentspoints),5,.)]%b%b[ljust(Points Left,18,.)][rjust(getabil(%#,skillspoints),5,.)]%b%b[ljust(Points Left,18,.)][rjust(getabil(%#,knowledgespoints),5,.)]%xn%b%b[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)]) [switch(strlen(extract(%q3,##,1,|)),0,_,ljust(mid(first(extract(%q3,##,1,|),:),0,17),18,.)[rjust(last(extract(%q3,##,1,|),:),5,.)])] [switch(strlen(extract(%q4,##,1,|)),0,_,ljust(mid(first(extract(%q4,##,1,|),:),0,17),18,.)[rjust(last(extract(%q4,##,1,|),:),5,.)])]),25),_,%b)][line(End: Talents,24)][line(End: Skills,25)][line(End: Knowledges,25)]; setq(2,u(
parent(me)/FN_GET_SECTION,%#,SECTALENTS)); setq(3,u(parent(me)/FN_GET_SECTION,%#,SECSKILLS)); setq(4,u(parent(me)/FN_GET_SECTION,%#,SECKNOWLEDGES)); setq(1,max(words(%q2,|),words(%q3,|),words(%q4,|))); @pemit&#160;%#=[line(SecTalents,25)][line(SecSkills,25)][line(SecKnowledges,25)]%r[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)]) [switch(strlen(extract(%q3,##,1,|)),0,_,ljust(mid(first(extract(%q3,##,1,|),:),0,17),18,.)[rjust(last(extract(%q3,##,1,|),:),5,.)])] [switch(strlen(extract(%q4,##,1,|)),0,_,ljust(mid(first(extract(%q4,##,1,|),:),0,17),18,.)[rjust(last(extract(%q4,##,1,|),:),5,.)])]),25),_,%b)][line(End: SecTalents,24)][line(End: SecSkills,25)][line(End: SecKnowledges,25)]
@Desc here=%RSee '%xh+help chargen abilities%xn' for more information.%r%rThe first thing to do is prioritize your abilities. Use '%xh%xr+setup XXX%xn' to do this. Use '%xh%xyT%xn' for talents, '%xh%xyS%xn' for skills, and '%xh%xyK%xn' for knowledges.&#160;%xhReplace the XXX in the +setup command with those three letters in their order of importance to your character.%xn%r%rOnce this is done, use '%xh+adjust &lt;ability&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;ability&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various abilities up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(max(words(setunion(u(%q0/talents),u(%q0/sectalents))),words(setunion(u(%q0/skills),u(%q0/secskills))),words(setunion(u(%q0/knowledges),u(%q0/secknowledges)))),10))]) to see what abilities are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%
r%rUse '%xh+sheet%xn' to see your entire character sheet.%r
&amp;DO_SETUP here=$+setup *:setq(9,switch(mid(%0,0,1),t,talentspoints,s,skillspoints,k,knowledgespoints)); setq(8,switch(mid(%0,1,1),t,talentspoints,s,skillspoints,k,knowledgespoints)); setq(7,switch(mid(%0,2,1),t,talentspoints,s,skillspoints,k,knowledgespoints)); @switch and(match(talentspoints skillspoints knowledgespoints,%q9),match(talentspoints skillspoints knowledgespoints,%q8),match(talentspoints skillspoints knowledgespoints,%q7))=1,{setq(6,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(5,getabil(%q6,primskillpoints) [getabil(%q6,secskillpoints)] [getabil(%q6,terskillpoints)]); &amp;STATS&#160;%#=[setabil(%#,%q9,first(%q5))]; &amp;STATS&#160;%#=[setabil(%#,%q8,extract(%q5,2,1))]; &amp;STATS&#160;%#=[setabil(%#,%q7,last(%q5))]; @dolist talents skills knowledges sectalents secskills secknowledges=&amp;STATS&#160;%#=[u(parent(me)/FN_SET_SECTION,%#,##,)]; @wait 0=@pemit&#160;%#=You have set your priorities to [switch(%q9,t*,Talents,s*,Skills,k*,Knowledges)] ([first(%q5)] points), [switch(%q8,t*,Talents,s*,Skills,k*,Knowledges)] ([extract(%
q5,2,1)] points), and [switch(%q7,t*,Talents,s*,Skills,k*,Knowledges)] ([last(%q5)] points).},0,{@pemit&#160;%#=I'm sorry, but those were not valid values. Use 't' for talents, 's' for skills, and 'k' for knowledges.}
&amp;DO_ADJUST_BAK here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(0|%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(
last(%q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=0???????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0??????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,
rest(rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
@set here/DO_ADJUST_BAK = no_command
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #60=
---
#66
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Basic Information
@Startup here=@drain me; @notify me
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,capitalize(extract(%0,2,1,:))); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,and(isnum(first(get(%q0/INFO2_%q2),^)),isnum(%q7)),mul(first(get(%q0/INFO2_%q2),^),%q7),isnum(first(get(%q0/INFO2_%q2),^)),first(get(%q0/INFO2_%q2),^),gt(%q6,0),mul(%q6,%q7),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][or(strmatch(*,%q5),gt(match(0|%q5,%q7,|),0))][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no)
)][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=0???????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0??????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%
#,%q2,%q7)]; &amp;STATS&#160;%#=[setabil(%#,race,gettext(%#,temprace))]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=top
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/TOP)); setq(1,words(%q2)); setq(5,add(1,div(%q1,30))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Basic Information)]%r[edit(columns(iter(lnum2(add(mul(%q5,30),1),mul(add(%q5,1),30)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1))),25),_,%b)][switch(mod(words(%q2),3),0,,%r)][line(End: Basic Information)]}
&amp;DO_SHOW here=$+show:setq(2,rest(u(parent(me)/FN_GET_SECTION,%#,TOP),|)); setq(1,words(%q2,|));@pemit&#160;%#=[line(Basic Information)]%r%b[iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),ljust(mid(first(extract(%q2,##,1,|),:),0,35),37,.)[rjust(last(extract(%q2,##,1,|),:),37,.)]%r))][switch(mod(words(%q2),3),0,,%r)][line(End: Basic Information)]
@Desc here=%R%TSee '%xh+help chargen basics%xn' for more information.%r%r%TUse '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various pieces of information. &lt;amount&gt; may be whatever text fits..%r%r%TUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(words(u(% q0/TOP)),30))]) to see what attributes are available to be set here.%r%r%TUse '%xh+show%xn' to see your current values and points remaining.%r%r%TUse '%xh+sheet%xn' to see your entire character sheet.%R
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #66=
---
#77
#-1
#-1
#72
@dig/teleport The Abyss. Where staff resides. Muhaha.
@Desc here=%r%tAngelic beings fly to and fro, praising the Goddesses or doing errants, soaring high above or diving into the sea of clouds that spans the expanse, beginning right below the cliff you are standing atop, the black basalt going straight down for countless miles, deep down below the clouds -- hell, hades, the abyss -- whatever may be down there is shrouded in eternal night, a modern Cthol Mishrak...%r
&amp;VIEW_ANGEL here=The messenger looks almost human, except she has wings instead of arms, and feathers instead of clothes. Her long black hair flows behind her as she soars past, nicely blending in with her storklike feathers, the monochromatic colour scheme only broken by her tan.
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #77=
Exaurdon has reconnected.
GAME: Exaurdon {#1091} has connected.
---
#92
Exaurdon says &quot;Blah&quot;
#-1
#-1
#72
@dig/teleport Hades
@Desc here=%r[center(*** Where Callisto dwells... ***,79)]%r%r%r%b%b&quot;What do you mean? I'm the Goddess of Hellfire.&quot;, she declares. She raises her hand palm-up. A flame shoots up, curls up almost like a lazy kitten.%r&quot;And that includes The Passion That Consumes in my book, Xena. The heat.&quot; The fireball departs, describes a circle, encloses both in a Burning Ring of Fire. &quot;Are you hot yet, Xena?&quot;%r
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
Exaurdon has partially disconnected.
@alias #92=
---
#107
#-1
#-1
#72
@dig/teleport Free Code Room
@Desc here=Most of the stuff in here is supposed to be&#160;%xh@parent%xned (not&#160;%xh@clone%xnd), like so:%r%r%t%xh@create mycopy%xn (or a more sensible name)%r%t%xh@parent mycopy=#768%xn (or whatever dbref you want a copy of)%r
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #107=
---
#200
#-1
#-1
#72
@dig/teleport Limbo
&amp;AMBIENT_LOOP here=@switch gt(words(setr(1,setinter(lwho(),lcon(me)))),0)=1,{@pemit/list&#160;%q1=[extract(u(AMBIENT),add(1,rand(words(u(AMBIENT),|))),1,|)]; @wait mul(60,add(rand(4),rand(5),rand(4)))=@trigger me/ambient_loop},&amp;ambient_semaphore&#160;%#
@Adesc here=@pemit&#160;%#=[setq(9,setr(0,loc(%#)))][setq(8,ifelse(hasflag(%q0,INHERIT),parent(%q0),%q0))][setq(1,switch(gt(words(setunion(lattr(%q8/PLACE_*),lattr(%q0/PLACE_*))),0),1,'%xhplaces%xn'))][setq(2,switch(gt(words(setunion(lattr(%q8/HELP_*),lattr(%q0/HELP_*))),0),1,'%xh+roomhelp%xn'))][setq(3,switch(gt(words(setunion(lattr(%q8/VIEW_*),lattr(%q0/VIEW_*))),0),1,'%xh+view%xn's))][setq(4,switch(gt(strlen(u(%q0/INFO)),0),1,'%xh+info%xn's))][switch(gt(strlen(setr(0,u(FN_ANDLIST,%q1|%q2|%q3|%q4))),0),1,%q0 [switch(gt(member(%q0,and),0),1,are,is)] available.)][switch(gt(strlen(u(%q9/NIGHTZONE)),0),1,%bThis is a&#160;%xhnightmarezone%xn.)]; @switch and(or(and(eq(words(setinter(lwho(),lcon(loc(%#)))),1),not(streq(%#,u(AMBIENT_SEMAPHORE)))),eq(0,strlen(u(AMBIENT_SEMAPHORE)))),gt(strlen(u(AMBIENT)),0))=1,{@wait mul(add(rand(2),rand(2)),60)=@trigger me/ambient_loop; &amp;ambient_semaphore [loc(%#)]=%#}
&amp;FN_ANDLIST here=[setq(0,trim(edit(edit(%0,||,|),||,|),b,|))][andlist(%q0,|)]
@Desc here=Great Grandparent of all rooms. Handles ambient and automagic info/places etc. info.
&amp;PARENTS here=#376 #378 #379
@set here=FLOATING
@set here=PARENT_OK
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #200=
---
#264
#-1
#-1
#72
@dig/teleport Keran's Parent of Windowed Indoor Rooms
@Desc here=Descendants of this room are indoors and have outside views.
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#271
@alias #264=
---
#265
#-1
#-1
#72
@dig/teleport Keran's Parent of Windowless Indoor Rooms
@Desc here=Descendants of this room are indoors and have no view of outside.
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#272
@alias #265=
---
#266
#-1
#-1
#72
@dig/teleport Keran's Parent of Separable Day-Night and Season Desc Outdoor Rooms
@Desc here=This part of the desc never changes.
&amp;NIGHT-DESC here=This is what the place is like by night.
&amp;SPRING-DESC here=This is what the place is like in spring.
&amp;SUMMER-DESC here=This is what the place is like in summer.
&amp;WINTER-DESC here=This is what the place is like in winter.
&amp;WEATHER-DESC here=[u(#261/short-weather)]
&amp;UNCHANGING-DESC here=This part of the desc never changes.
&amp;AUTUMN-DESC here=This is what the place is like in autumn.
&amp;MOON-DESC here=This is the desc of the [u(#263/moon-phase)] moon.
&amp;INSTRUCTIONS here=%rHow to describe an outdoor room with seasonal and weather variations:&#160;%r&amp;unchanging-desc here=This part of the description of the place never changes.%r&amp;night-desc here=What the place is like at night.%r&amp;day-desc here=What the place is like by day.%r&amp;spring-desc here=What the place is like during spring.%r&amp;summer-desc here=What the place is like during summer.%r&amp;autumn-desc here=What the place is like during autumn.%r&amp;winter-desc here=What the place is like during winter.%rDon't put things that are only true in specific weather conditions in the descriptions listed above; it'll look funny if you describe a blue sky and the weathermaker comes up with rain.%r&amp;weather-desc here=\[u(#261/short-weather)\] or \[u(#261/long-weather)\]. You can also add \[u(#261/tree-weather)\] or any other environmental weather descriptions that have been written. To use the environmental effects, do something like &amp;weather-desc here=\[u(#261/short-weather)\] \[u(#261/tree-weather)\]%r&amp;moon-desc here=Describe 
the \[u(#263/moon-phase)\] moon as it shines on the scenery at night.%r&amp;instructions here=\\%rThis last will turn off these instructions. You can suppress any other part of the description the same way, e.g.: &amp;moon-desc here=\\%r&amp;hear-weather-emits here=0 turns the sunrise, sunset, etc. messages from the emits bank off; setting it to 1 turns them on.%r&amp;hear-tide-emits here = 1 turns the tide emits on; setting it to 0 turns them off.
&amp;DAY-DESC here=This is what the place is like by day.
&amp;SEPARATOR here=%r%r
&amp;VERSION here=4.0
&amp;AUTHOR here=Keran@Keranset Island
&amp;HEAR-WEATHER-EMITS here=1
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#273
@alias #266=
---
#267
#-1
#-1
#72
@dig/teleport Keran's Parent of Season-and-Day-Night Varying Outdoor Rooms
@Desc here=\
&amp;UNCHANGING-DESC here=\
&amp;SPRING-NIGHT-DESC here=This is what the place is like on a spring night.
&amp;SUMMER-NIGHT-DESC here=This is what the place is like on a summer night.
&amp;AUTUMN-NIGHT-DESC here=This is what the place is like on an autumn night.
&amp;WINTER-NIGHT-DESC here=This is what the place is like on a winter night.
&amp;SPRING-DAY-DESC here=This is what the place is like on a spring day.
&amp;SUMMER-DAY-DESC here=This is what the place is like on a summer day.
&amp;AUTUMN-DAY-DESC here=This is what the place is like on an autumn day.
&amp;WINTER-DAY-DESC here=This is what the place is like on a winter day.
&amp;WEATHER-DESC here=[u(#261/short-weather)]
&amp;MOON-DESC here=This is the desc of the [u(#263/moon-phase)] moon.
&amp;SEPARATOR here=%r%r
&amp;INSTRUCTIONS here=%rHow to describe an outdoor room with seasonal and day-night variations:&#160;%r&amp;spring-day-desc here=What the place is like during a spring day.%r&amp;spring-night-desc here=What the place is like during a spring night.%rAnd so on. The variations are spring-day-desc, spring-night-desc, summer-day-desc, summer-night-desc, autumn-day-desc, autumn-night-desc, winter-day-desc, and winter-night-desc.%rDon't put things that are only true in specific weather conditions in the descriptions listed above; it'll look funny if you describe a blue sky and the weathermaker comes up with rain.%r&amp;weather-desc here=\[u(#261/short-weather)\] or \[u(#261/long-weather)\]. You can also add \[u(#261/tree-weather)\] or any other environmental weather descriptions that have been written. To use the environmental effects, do something like &amp;weather-desc here=\[u(#261/short-weather)\] \[u(#261/tree-weather)\]%r&amp;moon-desc here=Describe the \[u(#263/moon-phase)\] moon as it shines on the scenery at night.%r&amp;instructions 
here=\\%rThis last will turn off these instructions. You can suppress any other part of the description the same way, e.g.: &amp;moon-desc here=\\%r&amp;hear-weather-emits here=0 turns the sunrise, sunset, etc. messages from the emits bank off; setting it to 1 turns them on.%r&amp;hear-tide-emits here = 1 turns the tide emits on; setting it to 0 turns them off.
&amp;HEAR-WEATHER-EMITS here=1
&amp;VERSION here=4.0
&amp;AUTHOR here=Keran@Keranset Island
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#273
@alias #267=
---
#268
#-1
#-1
#72
@dig/teleport Keran's Parent of Season-and-Day-Night-Dawn-Dusk Outdoor Rooms
@Desc here=\
&amp;UNCHANGING-DESC here=\
&amp;SPRING-NIGHT-DESC here=This is what the place is like on a spring night.
&amp;SUMMER-NIGHT-DESC here=This is what the place is like on a summer night.
&amp;AUTUMN-NIGHT-DESC here=This is what the place is like on an autumn night.
&amp;WINTER-NIGHT-DESC here=This is what the place is like on a winter night.
&amp;SPRING-DAY-DESC here=This is what the place is like on a spring day.
&amp;SUMMER-DAY-DESC here=This is what the place is like on a summer day.
&amp;AUTUMN-DAY-DESC here=This is what the place is like on an autumn day.
&amp;WINTER-DAY-DESC here=This is what the place is like on a winter day.
&amp;WEATHER-DESC here=[u(#261/short-weather)]
&amp;MOON-DESC here=This is the desc of the [u(#263/moon-phase)] moon.
&amp;SEPARATOR here=%r%r
&amp;INSTRUCTIONS here=%rHow to describe an outdoor room with seasonal and day-night variations:&#160;%r&amp;spring-day-desc here=What the place is like during a spring day.%r&amp;spring-night-desc here=What the place is like during a spring night.%rAnd so on. The variations are spring-day-desc, spring-night-desc, spring-dawn-desc, spring-dusk-desc, summer-day-desc, summer-night-desc, summer-dawn-desc, summer-dusk-desc, autumn-day-desc, autumn-night-desc, autumn-dawn-desc, autumn-dusk-desc, winter-day-desc, winter-night-desc, winter-dawn-desc, and winter-dusk-desc.%rDon't put things that are only true in specific weather conditions in the descriptions listed above; it'll look funny if you describe a blue sky and the weathermaker comes up with rain.%r&amp;weather-desc here=\[u(#261/short-weather)\] or \[u(#261/long-weather)\]. You can also add \[u(#261/tree-weather)\] or any other environmental weather descriptions that have been written. To use the environmental effects, do something like &amp;weather-desc here=\[u(#261/short-
weather)\] \[u(#261/tree-weather)\]%r&amp;moon-desc here=Describe the \[u(#263/moon-phase)\] moon as it shines on the scenery at night.%r&amp;instructions here=\\%rThis last will turn off these instructions. You can suppress any other part of the description the same way, e.g.: &amp;moon-desc here=\\%r&amp;hear-weather-emits here=0 turns the sunrise, sunset, etc. messages from the emits bank off; setting it to 1 turns them on.%r&amp;hear-tide-emits here = 1 turns the tide emits on; setting it to 0 turns them off.
&amp;SPRING-DAWN-DESC here=This is what the place is like on a spring dawn.
&amp;SUMMER-DAWN-DESC here=This is what the place is like on a summer dawn.
&amp;AUTUMN-DAWN-DESC here=This is what the place is like on an autumn dawn.
&amp;WINTER-DAWN-DESC here=This is what the place is like on a winter dawn.
&amp;WINTER-DUSK-DESC here=This is what the place is like on a winter dusk.
&amp;AUTUMN-DUSK-DESC here=This is what the place is like on an autumn dusk.
&amp;SUMMER-DUSK-DESC here=This is what the place is like on a summer dusk.
&amp;SPRING-DUSK-DESC here=This is what the place is like on a spring dusk.
&amp;HEAR-WEATHER-EMITS here=1
&amp;VERSION here=4.0
&amp;AUTHOR here=Keran@Keranset Island
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#273
@alias #268=
---
#269
#-1
#-1
#72
@dig/teleport Keran's Parent of Separable Day-Night-Dawn-Dusk and Season Outdoor Rooms
@Desc here=This part of the desc never changes.
&amp;NIGHT-DESC here=This is what the place is like by night.
&amp;SPRING-DESC here=This is what the place is like in spring.
&amp;SUMMER-DESC here=This is what the place is like in summer.
&amp;WINTER-DESC here=This is what the place is like in winter.
&amp;WEATHER-DESC here=[u(#261/short-weather)]
&amp;UNCHANGING-DESC here=This part of the desc never changes.
&amp;AUTUMN-DESC here=This is what the place is like in autumn.
&amp;MOON-DESC here=This is the desc of the [u(#263/moon-phase)] moon.
&amp;INSTRUCTIONS here=%rHow to describe an outdoor room with seasonal and weather variations:&#160;%r&amp;unchanging-desc here=This part of the description of the place never changes.%r&amp;night-desc here=What the place is like at night.%r&amp;day-desc here=What the place is like by day.%r&amp;dawn-desc here=What the place is like at dawn.&amp;dusk-desc here=What the place is like at dusk.%r&amp;spring-desc here=What the place is like during spring.%r&amp;summer-desc here=What the place is like during summer.%r&amp;autumn-desc here=What the place is like during autumn.%r&amp;winter-desc here=What the place is like during winter.%rDon't put things that are only true in specific weather conditions in the descriptions listed above; it'll look funny if you describe a blue sky and the weathermaker comes up with rain.%r&amp;weather-desc here=\[u(#261/short-weather)\] or \[u(#261/long-weather)\]. You can also add \[u(#261/tree-weather)\] or any other environmental weather descriptions that have been written. To use the environmental effects, do something like &amp;
weather-desc here=\[u(#261/short-weather)\] \[u(#261/tree-weather)\]%r&amp;moon-desc here=Describe the \[u(#263/moon-phase)\] moon as it shines on the scenery at night.%r&amp;instructions here=\\%rThis last will turn off these instructions. You can suppress any other part of the description the same way, e.g.: &amp;moon-desc here=\\%r&amp;hear-weather-emits here=0 turns the sunrise, sunset, etc. messages from the emits bank off; setting it to 1 turns them on.%r&amp;hear-tide-emits here = 1 turns the tide emits on; setting it to 0 turns them off.
&amp;DAY-DESC here=This is what the place is like by day.
&amp;SEPARATOR here=%r%r
&amp;VERSION here=4.0
&amp;AUTHOR here=Keran@Keranset Island
&amp;HEAR-WEATHER-EMITS here=1
&amp;DAWN-DESC here=This is what the place is like at dawn.
&amp;DUSK-DESC here=This is what the place is like at dusk.
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#273
@alias #269=
---
#270
#-1
#-1
#72
@dig/teleport Keran's Parent of Weather-and-Day-Night Varying Outdoor Rooms
@Desc here=This part of the desc never changes.
&amp;NIGHT-DESC here=This is what the place is like by night.
&amp;SPRING-DESC here=This is what the place is like in spring.
&amp;SUMMER-DESC here=This is what the place is like in summer.
&amp;WINTER-DESC here=This is what the place is like in winter.
&amp;WEATHER-DESC here=[u(#261/short-weather)]
&amp;UNCHANGING-DESC here=This part of the desc never changes.
&amp;AUTUMN-DESC here=This is what the place is like in autumn.
&amp;MOON-DESC here=This is the desc of the [u(#263/moon-phase)] moon.
&amp;INSTRUCTIONS here=%rHow to describe an outdoor room with weather and day-night variations:&#160;%r&amp;clear-day-desc here=What the place is like on a clear day.%r&amp;clear-night-desc here=What the place is like on a clear night.%r&amp;fair-day-desc here=What the place is like on a fair day.%r&amp;fair-night-desc here=What the place is like on a fair night.%rEtc. The weathertypes are clear, fair, overcast, rain, fog, stormy, lightsnow, sleet, and blizzard.%r&amp;moon-desc here=Describe the \[u(#263/moon-phase)\] moon as it shines on the scenery at night.%r&amp;instructions here=\\%rThis last will turn off these instructions. You can suppress any other part of the description the same way, e.g.: &amp;moon-desc here=\\%r&amp;hear-weather-emits here=0 turns the sunrise, sunset, etc. messages from the emits bank off; setting it to 1 turns them on.%r&amp;hear-tide-emits here = 1 turns the tide emits on; setting it to 0 turns them off.
&amp;DAY-DESC here=This is what the place is like by day.
&amp;SEPARATOR here=%r%r
&amp;VERSION here=4.0
&amp;AUTHOR here=Keran@Keranset Island
&amp;HEAR-WEATHER-EMITS here=1
&amp;CLEAR-DAY-DESC here=What the place looks like on a clear day.
&amp;CLEAR-NIGHT-DESC here=What the place looks like on a clear night.
&amp;FAIR-NIGHT-DESC here=What the place looks like on a fair night.
&amp;FAIR-DAY-DESC here=What the place looks like on a fair day.
&amp;OVERCAST-DAY-DESC here=What the place looks like on an overcast day.
&amp;OVERCAST-NIGHT-DESC here=What the place looks like on an overcast night.
&amp;RAIN-NIGHT-DESC here=What the place looks like on a rainy night.
&amp;RAIN-DAY-DESC here=What the place looks like on a rainy day.
&amp;STORMY-DAY-DESC here=What the place looks like on a stormy day.
&amp;STORMY-NIGHT-DESC here=What the place looks like on a stormy night.
&amp;FOG-NIGHT-DESC here=What the place looks like on a foggy night.
&amp;FOG-DAY-DESC here=What the place looks like on a foggy day.
&amp;SLEET-DAY-DESC here=What the place looks like on a sleety day.
&amp;SLEET-NIGHT-DESC here=What the place looks like on a sleety night.
&amp;LIGHTSNOW-NIGHT-DESC here=What the place looks like on a night with light snow.
&amp;LIGHTSNOW-DAY-DESC here=What the place looks like on a day with light snow.
&amp;BLIZZARD-DAY-DESC here=What the place looks like on a day with a blizzard.
&amp;BLIZZARD-NIGHT-DESC here=What the place looks like on a night with a blizzard.
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#273
@alias #270=
---
#271
#-1
#-1
#72
@dig/teleport Keran's Grandparent of Windowed Indoor Rooms
&amp;LIGHT here=$light: @set me=light; @pemit/contents me=[u(light-action,&#160;%#)]
&amp;LIGHTS-OUT here=$lights out: @set me=!light; @pemit/contents me=[u(lights-out-action,&#160;%#)]
&amp;NORMAL-VISION here=[ifelse(hasflag(me, light), [u(artificial-light-desc)], {[switch([u(#248/day-night)], day, [u(day-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(night-desc)])]})]})]
&amp;NIGHT-VISION here=[ifelse(hasflag(me, light), [u(artificial-light-desc)], {[switch([u(#248/day-night)], day, [u(day-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(night-vision-desc)])]})]})]
&amp;DAYBLIND-VISION here=[ifelse(hasflag(me, light), [u(dayblind-desc)], {[switch([u(#248/day-night)], day, [u(dayblind-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(dark-vision-desc)])]})]})]
&amp;WINDOW-PREFIX here=Outside,
&amp;OUTSIDE-DESC here=%r%r[u(window-prefix)] [u(#261/lowercase-short-weather)]
&amp;DAY-DESC here=This is what the room looks like by natural daylight to creatures that aren't blinded by bright light.
&amp;DAYBLIND-DESC here=This is what the room looks like when lit to any creature blinded by bright light.
&amp;ARTIFICIAL-LIGHT-DESC here=This is what the room looks like by electric light, firelight, etc.
&amp;NIGHT-DESC here=This is what the room looks like to ordinary humans at night.
&amp;NIGHT-VISION-DESC here=This is what the room looks like at night to creatures that can see in the dark.
&amp;LIGHT-ACTION here=[name(%0)] lights the oil lamps.
&amp;LIGHTS-OUT-ACTION here=[name(%0)] quenches the oil lamps.
&amp;INSTRUCTIONS here=%r%rHow to describe variable lighting conditions in an indoor room with windows:%r&amp;artificial-light-desc here=What the room looks like by firelight, electric light, etc., at any time of day. Overrides portable light and daylight.%r&amp;portable-light-desc here=What the room looks like at night if it's lit by candle, flashlight, etc. This desc appears at night if the lights are out and there is something in the room set light, or carrying something set light.%r&amp;day-desc here=What the room looks like by natural daylight. Overrides portable light.%r&amp;night-desc here=What the room looks like at night with no artificial light sources.%r&amp;dayblind-desc here=What the room looks like by natural or artificial light to creatures blinded by bright light.%r&amp;night-vision-desc here=What the room looks like at night without artificial light to creatures that can see at night.&#160;%r&amp;dark-vision-desc here=What the room looks like at night to creatures that can see in complete darkness. May be set to \[u(night-
vision)\] if you're not trying to describe infravision or some such thing.%rThe vision type of a creature is determined by whether it has a dayblind, night-vision, or dark-vision attribute; no such attribute means normal human vision. Only one such attribute should be set on any creature.%r&amp;window-prefix here=Some phrase that lets the viewer know that they're looking through a window, door, etc., at something outside. For example: 'Through the window, you can see that '. Used by the Storm Generator.%r&amp;outside-desc here=A description of what the viewer sees when they look out, for example: Outside, \[u(#261/lowercase-short-weather)\]. Or Outside, \[u(#261/lowercase-long-weather)\].%r&amp;light-action here=\[name(%%0)\] flips the light switch, lights the oil lamps, kindles a fire, or whatever.%r&amp;lights-out-action here=\[name(%%0)\] turns off the lights, snuffs the oil lamps, douses the fire, and so on.%r@set here=command%r'Light' turns the lights on; 'lights out' turns them off.%r&amp;instructions here=\\ to turn 
these instructions off.%r&amp;&lt;name&gt;-desc=\\ will turn any of the descriptions off.%rChildren of the Windowed Indoor Parent Room receive both visual and audible effects from the Storm Generator.
&amp;DAY-NIGHT here=day
&amp;DARK-VISION here=[ifelse(hasflag(me, light), [u(artificial-light-desc)], {[switch([u(#248/day-night)], day, [u(day-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(dark-vision-desc)])]})]})]
&amp;DARK-VISION-DESC here=What the room looks like at night to creatures that can see in complete darkness.
&amp;CARRIED-LIGHT-DESC here=What the room looks like when it's lit with a flashlight, candle, etc.
&amp;PORTABLE-LIGHT here=[or([gt([iter(lcon(me), switch(hasflag(##, light), 1, setr(0, add(r(0), 1))))], 0)], [gt(iter([iter(lcon(me), lcon(##))], switch(hasflag(##, light), 1, setr(0, add(r(0), 1)))), 0)])]
&amp;PORTABLE-LIGHT-DESC here=What the room looks like when lit by candle, flashlight, torch, etc.
&amp;VERSION here=4.0
&amp;AUTHOR here=Keran@Keranset Island
@Desc here=[ifelse(u(#261/has-softflag,%#,dayblind), u(dayblind-vision), {[ifelse(u(#261/has-softflag,%#,night-vision), u(night-vision), {[ifelse(u(#261/has-softflag,%#,dark-vision), u(dark-vision), u(normal-vision))]})]})][u(outside-desc)][u(instructions)]
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#274
@alias #271=
---
#272
#-1
#-1
#72
@dig/teleport Keran's Grandparent of Windowless Indoor Rooms
&amp;LIGHT here=$light: @set me=light; @pemit/contents me=[u(light-action,&#160;%#)]
&amp;LIGHTS-OUT here=$lights out: @set me=!light; @pemit/contents me=[u(lights-out-action,&#160;%#)]
&amp;LIGHT-ACTION here=[name(%0)] lights the oil lamps.
&amp;LIGHTS-OUT-ACTION here=[name(%0)] quenches the oil lamps.
&amp;NORMAL-VISION here=[ifelse(hasflag(me, light), [u(artificial-light-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(dark-desc)])]})]
&amp;NIGHT-VISION here=[ifelse(hasflag(me, light), [u(artificial-light-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(dark-desc)])]})]
&amp;DAYBLIND-VISION here=[ifelse(hasflag(me, light), [u(dayblind-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(dark-vision-desc)])]})]
&amp;DARK-VISION here=[ifelse(hasflag(me, light), [u(artificial-light-desc)], {[ifelse([u(portable-light)], [u(portable-light-desc)], [u(dark-vision-desc)])]})]
&amp;DAYBLIND-DESC here=What the room looks like to a creature blinded by bright light when it's lit.
&amp;ARTIFICIAL-LIGHT-DESC here=What the room looks like when it's lit.
&amp;DARK-DESC here=What the room looks like to a creature that can't see in complete blackness when it isn't lit.
&amp;INSTRUCTIONS here=%r%rHow to describe variable lighting conditions in an indoor room without windows:%r&amp;artificial-light-desc here=What the room looks like by firelight, electric light, etc., at any time of day. Overrides portable light.%r&amp;portable-light-desc here=What the room looks like at night if it's lit by candle, flashlight, etc. This desc appears if the lights are out and there is something in the room set light, or carrying something set light.%r&amp;dark-desc here=What the room looks like when unlit to creatures that can't see in complete darkness.%r&amp;dayblind-desc here=What the room looks like by natural or artificial light to creatures blinded by bright light.%r&amp;dark-vision-desc here=What the room looks like at night to creatures that can see in complete darkness.%rThe vision type of a creature is determined by whether it has a dayblind, night-vision, or dark-vision attribute; no such attribute means normal human vision. Only one such attribute should be set on any creature.%r&amp;light-action here=\[
name(%%0)\] flips the light switch, lights the oil lamps, kindles a fire, or whatever.%r&amp;lights-out-action here=\[name(%%0)\] turns off the lights, snuffs the oil lamps, douses the fire, and so on.%r@set here=command%r'Light' turns the lights on; 'lights out' turns them off.%r&amp;instructions here=\\ to turn these instructions off.%r&amp;&lt;name&gt;-desc=\\ will turn any of the descriptions off.%rChildren of the Windowless Indoor Parent Room hear audible effects produced by the Storm Generator, but no visuals.%r
&amp;DARK-VISION-DESC here=What the room looks like to creatures that can see in complete darkness when it's not lit.
&amp;PORTABLE-LIGHT here=[or([gt([iter(lcon(me), switch(hasflag(##, light), 1, setr(0, add(r(0), 1))))], 0)], [gt(iter([iter(lcon(me), lcon(##))], switch(hasflag(##, light), 1, setr(0, add(r(0), 1)))), 0)])]
&amp;PORTABLE-LIGHT-DESC here=What the room looks like when lit by candle, flashlight, torch, etc.
&amp;VERSION here=4.0
&amp;AUTHOR here=Keran@Keranset Island
@Desc here=[ifelse(u(#261/has-softflag,%#,dayblind), u(dayblind-vision), {[ifelse(u(#261/has-softflag,%#,night-vision), u(night-vision), {[ifelse(u(#261/has-softflag,%#,dark-vision), u(dark-vision), u(normal-vision))]})]})][u(instructions)]
@set here=DARK
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#274
@alias #272=
---
#273
#-1
#-1
#72
@dig/teleport Keran's Grandparent of Outdoor Rooms
@Desc here=Descendants of this room are outdoors.
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#274
@alias #273=
---
#274
#-1
#-1
#72
@dig/teleport Keran's Great-grandparent of Rooms
@Desc here=Descendants of this room are IC.
@Aenter here=@pemit #1410=enter&#160;%#
@set here=FLOATING
@set here=VISUAL
@set here=PARENT_OK
@set here=SAFE
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#200
@alias #274=
---
#275
#-1
#-1
#72
@dig/teleport Keran's Test Room
&amp;HEAR-WEATHER-EMITS here=1
&amp;HEAR-TIDE-EMITS here=1
&amp;INSTRUCTIONS here=\
@Desc here=It's [u(#248/time-of-day)]. The weather is [u(#252/weathertype)]. The season is [u(#248/season)].
&amp;TRIGGER-AT-EVERY~HOUR here=@pemit/contents me=@Emitted every hour.
&amp;TRIGGER-AT-EVERY~HALFHOUR here=@pemit/contents me=@Emitted every halfhour.
&amp;TRIGGER-AT-EVERY~QUARTERHOUR here=@pemit/contents me=@Emitted every quarterhour.
&amp;TRIGGER-AT-DAWN here=@pemit/contents me=@Emitted at dawn.
&amp;TRIGGER-AT-SUNRISE here=@pemit/contents me=@Emitted at sunrise.
&amp;TRIGGER-AT-MORNING here=@pemit/contents me=@Emitted at morning.
&amp;TRIGGER-AT-NOON here=@pemit/contents me=@Emitted at noon.
&amp;TRIGGER-AT-AFTERNOON here=@pemit/contents me=@Emitted at afternoon.
&amp;TRIGGER-AT-DUSK here=@pemit/contents me=@Emitted at dusk.
&amp;TRIGGER-AT-SUNSET here=@pemit/contents me=@Emitted at sunset.
&amp;TRIGGER-AT-NIGHT here=@pemit/contents me=@Emitted at night.
&amp;TRIGGER-AT-MIDNIGHT here=@pemit/contents me=@Emitted at midnight.
&amp;TRIGGER-AT-AFTER~MIDNIGHT here=@pemit/contents me=@Emitted at after~midnight.
&amp;TRIGGER-AT-MOONRISE here=@pemit/contents me=@Emitted at moonrise.
&amp;TRIGGER-AT-MOONSET here=@pemit/contents me=@Emitted at moonset.
&amp;TRIGGER-AT-MERIDIAN~TRANSIT here=@pemit/contents me=@Emitted at meridian~transit.
&amp;TRIGGER-AT-0 here=@pemit/contents me=@Emitted at 0.
&amp;TRIGGER-AT-1 here=@pemit/contents me=@Emitted at 1.
&amp;TRIGGER-AT-2 here=@pemit/contents me=@Emitted at 2.
&amp;TRIGGER-AT-3 here=@pemit/contents me=@Emitted at 3.
&amp;TRIGGER-AT-4 here=@pemit/contents me=@Emitted at 4.
&amp;TRIGGER-AT-5 here=@pemit/contents me=@Emitted at 5.
&amp;TRIGGER-AT-6 here=@pemit/contents me=@Emitted at 6.
&amp;TRIGGER-AT-7 here=@pemit/contents me=@Emitted at 7.
&amp;TRIGGER-AT-8 here=@pemit/contents me=@Emitted at 8.
&amp;TRIGGER-AT-9 here=@pemit/contents me=@Emitted at 9.
&amp;TRIGGER-AT-10 here=@pemit/contents me=@Emitted at 10.
&amp;TRIGGER-AT-11 here=@pemit/contents me=@Emitted at 11.
&amp;TRIGGER-AT-12 here=@pemit/contents me=@Emitted at 12.
&amp;TRIGGER-AT-13 here=@pemit/contents me=@Emitted at 13.
&amp;TRIGGER-AT-14 here=@pemit/contents me=@Emitted at 14.
&amp;TRIGGER-AT-15 here=@pemit/contents me=@Emitted at 15.
&amp;TRIGGER-AT-16 here=@pemit/contents me=@Emitted at 16.
&amp;TRIGGER-AT-17 here=@pemit/contents me=@Emitted at 17.
&amp;TRIGGER-AT-18 here=@pemit/contents me=@Emitted at 18.
&amp;TRIGGER-AT-19 here=@pemit/contents me=@Emitted at 19.
&amp;TRIGGER-AT-20 here=@pemit/contents me=@Emitted at 20.
&amp;TRIGGER-AT-21 here=@pemit/contents me=@Emitted at 21.
&amp;TRIGGER-AT-22 here=@pemit/contents me=@Emitted at 22.
&amp;TRIGGER-AT-23 here=@pemit/contents me=@Emitted at 23.
&amp;TRIGGER-AT-HIGH~AND~RISING here=@pemit/contents me=@Emitted at high and rising.
&amp;TRIGGER-AT-HIGH~AND~SLACK here=@pemit/contents me=@Emitted at high and slack.
&amp;TRIGGER-AT-HIGH~AND~EBBING here=@pemit/contents me=@Emitted at high and ebbing.
&amp;TRIGGER-AT-LOW~AND~EBBING here=@pemit/contents me=@Emitted at low and ebbing.
&amp;TRIGGER-AT-LOW~AND~SLACK here=@pemit/contents me=@Emitted at low and slack.
&amp;TRIGGER-AT-LOW~AND~RISING here=@pemit/contents me=@Emitted at low and rising.
@set here=FLOATING
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #275=
---
#276
#-1
#-1
#72
@dig/teleport Weather Room
@Desc here=Type '%xhweat%xn' to enter to weather switchroom.
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #276=
---
#376
#-1
#-1
#72
@dig/teleport PARENT: Apartment Manager's Office
&amp;DO_LIST here=$+list*:@pemit&#160;%#=%bRoom Cost Rent by[iter(u(ROOMS),switch(gt(strlen(extract(##,4,1,:)),0),1,%r[rjust(#[extract(##,1,1,:)],5)]%b%b[extract(##,2,1,:)]%b%b%b[name(extract(##,4,1,:))]),|)]
&amp;DO_VACANT here=$+vac*:@pemit&#160;%#=%bRoom Cost Rent by[iter(u(ROOMS),switch(gt(strlen(extract(##,4,1,:)),0),0,%r[rjust(#[extract(##,1,1,:)],5)]%b%b[extract(##,2,1,:)]%b%b%b&lt;to let&gt;),|)]
@Desc here=This is &quot;[u(BUILDING)]&quot; -- if that's not what you want, '%xh&amp;BUILDING HERE=%xn&lt;name of your choice&gt;%xn' before you use '%xh+addroom%xn'! Also,&#160;%xh@set HERE=COMMANDS%xn%r%r'%xh+list%xn' for the rent rooms, '%xh+vac%xn' for the vacant ones,&#160;%r'%xh+addroom%xn &lt;room_nr&gt; &lt;resources&gt; &lt;dbref_of_flats_first_room&gt;' (builder-only) to add a room to the list, '%xh+rent%xn &lt;room&gt;' to rent, '%xh+move out%xn' to leave ('%xh+move out&#160;%xn&lt;character&gt;' for the owner to kick someone out).%rThis room is @parented to the windowed room-parent. -c-
&amp;DO_RENT here=$+rent *:switch(left(%0,1),#,setq(0,rest(%0,#)),setq(0,%0)); setq(1,pos(|%q0:,|[setr(7,u(ROOMS))])); setq(9,%xhGAME%xn:%b); switch(hasattr(%#,LIVES),1,pemit(%#,%q9Please contact a wizard if you really must rent two places.),switch(%q1,#-1,pemit(%#,%q9There is no such room!),[setq(2,first(mid(%q7,sub(%q1,1),20),|))][switch(strlen(last(%q2,:)),0,switch(gt(extract(%q2,2,1,:),gettext(%#,Resources)),1,pemit(%#,&quot;That's a little above your class%, don't you think?&quot;),[setq(4,member(%q7,%q2,|))][set(%#,LIVES:[u(BUILDING)]|[extract(%q2,1,1,:)])][set(me,ROOMS:[replace(%q7,%q4,%q2%#,|)])][set([extract(%q2,3,1,:)],KEYS:%#)][set(%#/LIVES,wizard)][pemit(%#,&quot;Let us know if you need help with your baggage.&quot;)]),pemit(%#,&quot;Well%, what can I say%, someone beat you to that room&#160;%q0!&quot;))]));
&amp;DO_ADDROOM here=$+addroom * * *:setq(9,%xhGAME%xn:%b); switch(or(isstaff(%#),streq(owner(me),%#)),0,pemit(%#,%q9You are not the builder/manager of this place...),switch(and(isnum(%0),isnum(%1),streq(left(%2,1),#)),0,pemit(%#,%q9Invalid parameters%, please give an IC room number a resource%r[space(6)]level and the dbref of the first room (the one the front door leads to)%r[space(6)]of the flat!),[pemit(%#,%q9Adding room #%0&#160;%(resource level&#160;%1%, the main room is dbref&#160;%2%)...)][set(me,ROOMS:[setr(4,u(ROOMS))][switch(gt(strlen(%q4),0),1,|)]%0:%1:%2:)][switch(streq(%#,owner(%2)),1,[set(%2,KEYS:)][set(%2,BUILDING:[u(BUILDING)])][set(%2,FLAT:%0)],[pemit(%#,%q9You do not own that room%, room not added...)][set(me,ROOMS:%q4)])]))
&amp;DO_MOVEOUT here=$+move out*:setq(9,%xhGAME%xn:%b); switch(or(streq(owner(me),%#),isstaff(%#)),1,switch(setr(0,num(*%0)),#-1,pemit(%#,%q9Please submit a character to throw out%, [switch(u(%#/SEX),F*,landlady,M*,landlord,owner)]!)),setq(0,%#)); setq(2,u(ROOMS)); setq(3,match(%q2,*:*:*:%q0,|)); switch(%q3,0,pemit(%#,%q9[name(%q0)] doesn't live here!),[setq(4,extract(%q2,%q3,1,|))][setq(1,first(%q4,:))][pemit(%#,[name(%q0)] moves out of #%q1...)][set(me,ROOMS:[replace(%q2,%q3,replace(%q4,4,,:),|)])][set(%q0,LIVES:)])
&amp;KEYS here=#1
&amp;BUILDING here=PARENT: Apartment building
@set here=FLOATING
@set here=INHERIT
@set here=PARENT_OK
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#264
@alias #376=
---
#378
#-1
#-1
#72
@dig/teleport PARENT: Apartment
&amp;WINDOW-PREFIX here=Through the window, you can see that%b
&amp;OUTSIDE-DESC here=%bOutside, [u(#261/lowercase-long-weather)]
&amp;LIGHT-ACTION here=[name(%0)] turns the lights on.
&amp;LIGHTS-OUT-ACTION here=[name(%0)] turns off the lights.
&amp;ARTIFICIAL-LIGHT-DESC here=[u(user-desc)] The contrasts are stark in the electric light, almost monochromatic in some corners of the room.
&amp;USER-DESC here=&lt;-- Override this bit using the '%xh+rdesc%xn your description here' command. --&gt;%r%r&lt;-- Builders, please don't forget to&#160;%xh@parent%xn the exit leading to the apartment's main room (in other words, the front door, from the outside) to the generic PARENT (#379) so that the '%xh+keys%xn' command may work. Also, all other rooms must have&#160;%xh&amp;BUILDING HERE=[u([u(FN_FINDMAINROOM,me)]/BUILDING)]%xn and&#160;%xh&amp;FLAT HERE=[u([u(FN_FINDMAINROOM,me)]/FLAT)]%xn set (those presets don't make sense until you've&#160;%xh+addroom%xned this room in the office!). --&gt;%r%r
&amp;PORTABLE-LIGHT-DESC here=[u(user-desc)] Most of that remains in the shadow, however, which strange items seek refuge in while others seem to jump out from as the errant beams of the small lightsource trim the strange futuristic hedges that are the furniture.
&amp;DAY-DESC here=[u(user-desc)]
&amp;NIGHT-DESC here=Were it not for the occasional light outside colouring the room in harsh shades of bluegray, it'd be pitch black. There is not enough light to make out contours, let alone details.
&amp;NIGHT-VISION-DESC here=Were it not for the occasional light outside colouring the room in harsh shades of bluegray, it'd be pitch black -- to all but you. [u(user-desc)]
&amp;DARK-VISION-DESC here=Pitch black to all but those with certain powers to call their own, you still can see... [u(user-desc)]
&amp;HELP_LIGHTS here='%xhlight%xn' turns the light on, '%xhlights out%xn' turns it off.
&amp;INSTRUCTIONS here=\
&amp;HELP_DESC here='%xh+desc%xn &lt;whatever&gt;' to set the basic description for this room.
&amp;INFO here=PARENT de l'apartment by Azundris (Callisto@Chicago)
&amp;HELP_KEYS here=%xh+keys%xn gives all characters listed a key to the flat; the owner is always assumed to have one. Without a parameter,&#160;%xh+keys%xn lists the people who have a key to the place.
&amp;HELP_HOME here='%xh+home%xn &lt;player&gt;' sends a player to their HOME.
@Desc here=[ifelse(u(#261/has-softflag,%#,dayblind), u(dayblind-vision), {[ifelse(u(#261/has-softflag,%#,night-vision), u(night-vision), {[ifelse(u(#261/has-softflag,%#,dark-vision), u(dark-vision), u(normal-vision))]})]})][u(outside-desc)][u(instructions)]
&amp;DO_HOME here=$+home *:@switch streq(u(%#/LIVES),[u(BUILDING)]|[u(FLAT)])=1,@tel&#160;%0=HOME,@pemit&#160;%#=%xhGAME%xn: You don't own the place.
&amp;DO_KEYS here=$+keys *:setq(9,%xhGAME%xn:%b); @switch streq(u(%#/LIVES),[u(BUILDING)]|[u(FLAT)])=1,{ setq(1,u(FN_FINDMAINROOM,loc(%#))); @switch strlen(%q1)=0,@pemit&#160;%#=%q9No main room in this flat or flat set up in correctly...,{set(%q1,KEYS:[setunion(%#,iter(%0,switch(setr(2,num(*##)),#-1,,%q2)))]); @pemit&#160;%#=%q9[edit(andlist(setr(3,iter(u(%q1/KEYS),edit(name(##),%b,_)))),_,%b)] [switch(words(%q3),1,has,have)] a key to this place.; }},@pemit&#160;%#=%q9You don't own the place.
&amp;FN_FINDMAINROOM here=[switch(hasattr(%0,KEYS),1,%0,[iter(lexits(%0),[setq(7,loc(##))][switch(and(streq(u(%q7/FLAT),u(%0/FLAT)),gt(member(fullname(##),out,;),0)),1,u(FN_FINDMAINROOM,%q7))])])]
&amp;KEYS here=#72
&amp;DO_KEYS2 here=$+keys:setq(9,%xhGAME%xn:%b); @switch streq(u(%#/LIVES),[u(BUILDING)]|[u(FLAT)])=1,{ setq(1,u(FN_FINDMAINROOM,loc(%#))); @switch strlen(%q1)=0,@pemit&#160;%#=%q9No main room in this flat or flat set up in correctly...,{ @pemit&#160;%#=%q9[edit(andlist(setr(3,iter(u(%q1/KEYS),edit(name(##),%b,_)))),_,%b)] [switch(words(%q3),1,has,have)] a key to this place.; }},@pemit&#160;%#=%q9You don't own the place.
&amp;BUILDING here=[u(#376/BUILDING)]
&amp;FLAT here=DEMO flat
&amp;DO_RDESC here=$+rdesc*:@switch streq(u(%#/LIVES),[u(BUILDING)]|[u(FLAT)])=1,{set(me,USER-DESC:[mid(%0,1,strlen(%0))]); @pemit&#160;%#=%xhGAME%xn: You have set the basic description for [name(me)].},@pemit&#160;%#=%xhGAME%xn: You don't own the place.
&amp;HELP_LINK here='%xh+abode%xn' toggles this rooms ABODE flag which controls whether people may make this location their HOME.
&amp;DO_ABODE here=$+abode:setq(1,%xhGAME%xn:); @switch streq(u(%#/LIVES),[u(BUILDING)]|[u(FLAT)])=1,{@switch hasflag(%l,ABODE)=1,{@set&#160;%l=!ABODE; @pemit&#160;%#=%q1 Noone may set up their home here anymore using @link.},{@set&#160;%l=ABODE; @pemit&#160;%#=%q1 People may now set their homes here using @link.}},{@pemit&#160;%#=%q1 You don't own da place!}
@set here=FLOATING
@set here=PARENT_OK
@set here=LIGHT
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#264
@alias #378=
---
#419
#-1
#-1
#72
@dig/teleport Racial Information Room
@Desc here=%r%tIn this room, you will find other rooms designed to show the needs of the spheres that are allowed here on Chicago from Dusk till Dawn. Feel free to nose around the rooms and then ask the staff for that character you always wanted.%r%r%tMake sure to read '%xhnews races%xn' as well. Thankyou.%r
@set here=HALTED
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #419=
---
#811
#-1
#-1
#72
@dig/teleport Players Personal Projects
@Desc here=%r%tHere is where players will be working on their personal building projects. Their private homes, and things of that nature.%r%r
@set here=HALTED
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #811=
---
#814
#-1
#-1
#72
@dig/teleport Players Public Projects
@Desc here=%r%tHere is where players will be working on their public projects, like theaters, restaurants, clubs, etc.%r%r
&amp;PLACE_1 here=round table|0|12|You sit down at the round table.|joins you at the round table.|At the round table,|
@set here=HALTED
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #814=
---
#944
#-1
#-1
#72
@dig/teleport PARENT: Holodeck
&amp;DO_HELP here=$computer, help:@pemit&#160;%#=u(help_computer)
&amp;DO_ADD_PUBLIC here=$computer, add public program * as *:@switch words(lattr(%#/HOLO-PRV_%0))=1,@pemit&#160;%#=You already have a private program of that name.,{&amp;holo_users me=[setunion(%#,udefault(holo_users,,))]; &amp;holo-pub_%0&#160;%#=escape(%1); @set&#160;%#/holo-pub_%0=wizard; @pemit&#160;%#=Added as &quot;%0&quot;.}
&amp;DO_ADD_PRIVATE here=$computer, add private program * as *:@switch words(lattr(%#/HOLO-PUB_%0))=1,@pemit&#160;%#=You already have a public program of that name.,{&amp;holo-prv_%0&#160;%#=escape(%1); @set&#160;%#/holo-prv_%0=wizard; @pemit&#160;%#=Added as &quot;%0&quot;.}
&amp;DO_LIST here=$computer, list programs:@pemit&#160;%#=[u(fn_list_public)][u(fn_list_private,%#)]
&amp;FN_LIST here=[iter(lattr(%0/HOLO-PUB_*),capstr(lcstr(rest(##,_))))]
&amp;FN_LIST_PUBLIC here=[iter(udefault(holo_users,,),%xh[name(##)]%xn:&#160;%t[setq(0,u(fn_list,##))][ifelse(words(%q0),%q0,&lt;none&gt;)]%r)]
&amp;FN_LIST_PRIVATE here=%xhPrivate%xn:&#160;%t[setq(0,iter(lattr(%0/HOLO-PRV_*),capstr(lcstr(rest(##,_)))))][ifelse(words(%q0),%q0,&lt;none&gt;)]
&amp;DO_DEL here=$computer, del* program *:@switch words(setunion(lattr(%#/HOLO-PRV_%1),lattr(%#/HOLO-PUB_%1)))=1,{&amp;holo-prv_%1&#160;%#; &amp;holo-pub_%1&#160;%#; setq(0,words(lattr(%#/HOLO-PUB_*))); @pemit&#160;%#=Deleted.; @switch&#160;%q0=0,{&amp;HOLO_USERS me=[setdiff(udefault(HOLO_USERS,,),%#)]; @pemit&#160;%#=That was your last program.}},@pemit&#160;%#=You do not have a program &quot;%1&quot;.
&amp;DO_LOAD_SEP here=$computer, load *'* program *:setq(0,ifelse(setr(1,lattr(*%0/HOLO-PUB_%2)),%q1,lattr(*%0/HOLO-PUB_%2*))); @pemit&#160;%#=[switch(words(%q0),0,Sorry%, no such program.,1,Program loaded.,Ambiguous program name. Could you be more specific?)]; @switch words(%q0)=1,{setq(1,get(%0/%q0)); setq(2,capstr(lcstr(rest(%q0,_)))); @name me=Holodeck: [objeval(*%0,eval(%q2))]; @desc me=[objeval(*%0,eval(%q1))]}
@Desc here=The holodeck -- a medium-sized black room with a yellow grid on walls, floor and ceiling.
&amp;DO_LOAD_MY here=$computer, load my program *:setq(0,ifelse(setr(1,lattr(*%#/HOLO-PUB_%0)),%q1,lattr(*%#/HOLO-PUB_%0*))); setq(2,ifelse(setr(1,lattr(*%#/HOLO-PRV_%0)),%q1,lattr(*%#/HOLO-PRV_%0*))); setq(0,setunion(%q0,%q2)); @pemit&#160;%#=[switch(words(%q0),0,Sorry%, no such program.,1,Program loaded.,Ambiguous program name. Could you be more specific?)]; @switch words(%q0)=1,{setq(1,get(%#/%q0)); setq(2,capstr(lcstr(rest(%q0,_)))); @name me=Holodeck: [objeval(*%#,eval(%q2))]; @desc me=[objeval(%#,eval(%q1))]}
&amp;DO_STOP here=$computer, stop*:@name me=Holodeck; @desc me=The holodeck -- a medium-sized black room with a yellow grid on walls, floor and ceiling.; @pemit&#160;%#=Program stopped.
&amp;DO_END here=$computer, end*:@force&#160;%#=computer, stop
&amp;HELP_COMPUTER here=%rThe holodeck &quot;computer&quot; understands the following commands when addressed:%r%r%xhhelp%xn%r%xhadd public%b%bprogram&#160;%xn&lt;name&gt;%xh as&#160;%xn&lt;description&gt;%r%xhadd private program&#160;%xn&lt;name&gt;%xh as&#160;%xn&lt;description&gt;%r%xhlist programs%xn%r%xhdelete program&#160;%xn&lt;name&gt;%r%xhload my programm&#160;%xn&lt;name&gt;%r%xhload&#160;%xn&lt;character&gt;%xh's program&#160;%xn&lt;name&gt;%r%xhend program%xn%r%rExample:&#160;%xhcomputer, add private program pasture as A peaceful green pasture.%xn%r
@set here=INHERIT
@set here=PARENT_OK
@set here=SAFE
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#200
@alias #944=
---
#949
#-1
#-1
#72
@dig/teleport Holodeck: Crash
@Desc here=Errant lights. Shards. Metal contorting in the agony of alien art, blood, light, pipes, exhaust, and cars smacking in the trees. Biomechanics. The three cars melting into each other in the otherwise deserted street, it is all too obvious what happened hear, if not how, or why. The scene seems detached, incomplete, like a scream in a silent movie, glass breaking in space. The idea of motion suddenly crashes back into the picture as a head is moved in pain. The first of the drivers comes to...
&amp;HOLO_USERS here=#72
@set here=INHERIT
@set here=SAFE
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#944
@alias #949=
---
#989
#-1
#-1
#72
@dig/teleport Chargen - Setting Your Attributes
@Startup here=@drain me; @notify me
&amp;DO_SETUP here=$+setup *:setq(9,switch(mid(%0,0,1),p,phys-attrspoints,m,ment-attrspoints,s,soc-attrspoints)); setq(8,switch(mid(%0,1,1),p,phys-attrspoints,m,ment-attrspoints,s,soc-attrspoints)); setq(7,switch(mid(%0,2,1),p,phys-attrspoints,m,ment-attrspoints,s,soc-attrspoints)); @switch and(match(phys-attrspoints ment-attrspoints soc-attrspoints,%q9),match(phys-attrspoints ment-attrspoints soc-attrspoints,%q8),match(phys-attrspoints ment-attrspoints soc-attrspoints,%q7))=1,{setq(6,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(5,getabil(%q6,primattrpoints) [getabil(%q6,secattrpoints)] [getabil(%q6,terattrpoints)]); &amp;STATS&#160;%#=[setabil(%#,%q9,first(%q5))]; &amp;STATS&#160;%#=[setabil(%#,%q8,extract(%q5,2,1))]; &amp;STATS&#160;%#=[setabil(%#,%q7,last(%q5))]; @dolist u(%q6/PHYS-ATTRS) [u(%q6/MENT-ATTRS)] [u(%q6/SOC-ATTRS)]=&amp;STATS&#160;%#=[setabil(%#,##,1)]; @wait 0=@pemit&#160;%#=You have set your priorities to [switch(%q9,p*,Physical,m*,Mental,s*,Social)] ([first(%q5)] points), [switch(%q8,p*,Physical,m*,Mental,s*,Social)] ([
extract(%q5,2,1)] points), and [switch(%q7,p*,Physical,m*,Mental,s*,Social)] ([last(%q5)] points).},0,{@pemit&#160;%#=I'm sorry, but those were not valid values. Use 'p' for physical attributes, 'm' for mental attributes, and 's' for social attributes.};
&amp;DO_ADJUST here=$+adjust *:@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,edit(first(%0,:),%b,_)); setq(7,extract(%0,2,1,:)); setq(8,last(%0,:)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q1,%q2,%q0)); setq(3,gettext(%q0,%q1section)); setq(3,switch(1,gt(strlen(%q3),0),%q3,gt(strlen(extract(get(%q0/INFO2_%q2),3,1,^)),0),extract(get(%q0/INFO2_%q2),3,1,^),%q1)); setq(4,getabil(%#,%q3points)); setq(9,get(%q0/INFO_%q2)); setq(5,first(%q9,^)); setq(6,getabil(%q0,%q1defcost)); setq(6,switch(1,isnum(first(get(%q0/INFO2_%q2),^)),mul(first(get(%q0/INFO2_%q2),^),%q7),gt(%q6,0),mul(%q6,%q7),%q7)); setq(7,add(getabil(%#,%q2),%q7)); @switch/first [match(get(me/VALID),%q1)][gte(%q4,%q6)][gt(match(%q5,%q7,|),0)][or(lte(%q7,getabil(%q0,%q1max)),eq(getabil(%q0,%q1max),0))][or(and(strmatch(extract(%q9,2,1,^),yes),eq(words(%0,:),3)),strmatch(extract(%q9,2,1,^),no))][or(and(hasabil(%#,last(%q9,^)),gt(strlen(last(%q9,^)),0)),eq(strlen(last(%
q9,^)),0))][gt(words(lattr(%q0/%q2_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0/%q2_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=0???????,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is not a valid ability for this room.},?0??????,{@pemit&#160;%#=I'm sorry, but you don't have enough points left to set this ability.},??0?????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is not a legitimate value for&#160;%q2.},???0????,{@pemit&#160;%#=I'm sorry, but&#160;%q7 is too high for&#160;%q2.},????0???,{@pemit&#160;%#=I'm sorry, but an explanation is required before choosing this ability. Please specify it, using '+adjust&#160;%q2:[extract(%0,2,1,:)]:&lt;explanation&gt;'.},?????0??,{@pemit&#160;%#=I'm sorry, but you do not have the required parent skill of '[last(get(%q0/INFO_%q2),^)]' for the ability&#160;%q2.},??????10,{@pemit&#160;%#=I'm sorry, but you are not allowed to take the skill '%q2'.},{&amp;STATS&#160;%#=[setabil(%#,%q3points,sub(%q4,%q6))]; &amp;STATS&#160;%#=[setabil(%#,%q2,%q7)]; @unlock&#160;%#/EXPLAIN_%q2; &amp;EXPLAIN_%q2&#160;%#=[switch(%q7,0,,rest(
rest(%0,:),:))]; @chown&#160;%#/EXPLAIN_%q2=[owner(me)]; @lock&#160;%#/EXPLAIN_%q2=[owner(me)]; @dolist lattr(%q0/%q2_LOOKUP*)=&amp;STATS&#160;%#=[u(%q0/##,%q7,%#)]; @dolist lattr(%q0/%q2_COMPUTE*)=&amp;STATS&#160;%#=[u(%q0/##,%#)]; @wait 0=@Pemit&#160;%#=You have set your '[edit(%q2,_,%b)]' to&#160;%q7.}; @wait 0=@notify me}
&amp;VALID here=PHYS-ATTRS MENT-ATTRS SOC-ATTRS
&amp;DO_LIST here=$+list *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(2,u(%q0/PHYS-ATTRS)); setq(3,u(%q0/MENT-ATTRS)); setq(4,u(%q0/SOC-ATTRS)); setq(1,max(words(%q2),words(%q3),words(%q4))); setq(5,add(1,div(%q1,10))); @switch between(%0,1,%q5)=0,{@pemit&#160;%#=I'm sorry, but there aren't that many pages. Please choose a number from 1 to&#160;%q5.},1,{setq(5,sub(%0,1)); @pemit&#160;%#=[line(Phys-Attrs,25)][line(Ment-Attrs,25)][line(Soc-Attrs,25)]%r[edit(columns(iter(lnum2(add(mul(%q5,10),1),mul(add(%q5,1),10)),switch(strlen(extract(%q2,##,1)),0,_,extract(%q2,##,1)) [switch(strlen(extract(%q3,##,1)),0,_,extract(%q3,##,1))] [switch(strlen(extract(%q4,##,1)),0,_,extract(%q4,##,1))]),25),_,%b)][line(End: Phys-Attrs,24)][line(End: Ment-Attrs,25)][line(End: Soc-Attrs,25)]}
&amp;DO_SHOW here=$+show:setq(2,u(parent(me)/FN_GET_SECTION,%#,PHYS-ATTRS)); setq(3,u(parent(me)/FN_GET_SECTION,%#,MENT-ATTRS)); setq(4,u(parent(me)/FN_GET_SECTION,%#,SOC-ATTRS)); setq(1,max(words(%q2,|),words(%q3,|),words(%q4,|)));@pemit&#160;%#=[line(Phys-Attrs,25)][line(Ment-Attrs,25)][line(Soc-Attrs,25)]%r%xh[ljust(Points Left,18,.)][rjust(getabil(%#,phys-attrspoints),5,.)]%b%b[ljust(Points Left,18,.)][rjust(getabil(%#,ment-attrspoints),5,.)]%b%b[ljust(Points Left,18,.)][rjust(getabil(%#,soc-attrspoints),5,.)]%xn%b%b[edit(columns(iter(lnum2(1,%q1),switch(strlen(extract(%q2,##,1,|)),0,_,ljust(mid(first(extract(%q2,##,1,|),:),0,17),18,.)[rjust(last(extract(%q2,##,1,|),:),5,.)]) [switch(strlen(extract(%q3,##,1,|)),0,_,ljust(mid(first(extract(%q3,##,1,|),:),0,17),18,.)[rjust(last(extract(%q3,##,1,|),:),5,.)])] [switch(strlen(extract(%q4,##,1,|)),0,_,ljust(mid(first(extract(%q4,##,1,|),:),0,17),18,.)[rjust(last(extract(%q4,##,1,|),:),5,.)])]),25),_,%b)][line(End: Phys-Attrs,24)][line(End: Ment-Attrs,25)][line(End: Soc-
Attrs,25)]
@Desc here=%RSee '%xh+help chargen attributes%xn' for more information.%r%rThe first thing to do is prioritize your attributes. Use '%xh%xy+setup XXX%xn' to do this. Use '%xh%xyP%xn' for physical attributes, '%xh%xyM%xn' for mental attributes, and '%xh%xyS%xn' for social attributes.&#160;%xhReplace the XXX in the +setup command with those three letters in their order of importance to your character.%xn%r%rOnce this is done, use '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;%xn' or '%xh+adjust &lt;attribute&gt;:&lt;amount&gt;:&lt;explanation&gt;%xn' (where an explanation is required) to adjust your various attributes up and down. &lt;amount&gt; may be positive or negative.%r%rUse '%xh+list &lt;number&gt;%xn' (where number is a number from 1 to [setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race)))][add(1,div(max(words(u(%q0/PHYS-ATTRS)),words(u(%q0/MENT-ATTRS)),words(u(%q0/SOC-ATTRS))),10))]) to see what attributes are available to be set here.%r%rUse '%xh+show%xn' to see your current values and points remaining.%r%rUse '%xh+sheet%xn' to see your entire 
character sheet.%r
@set here=INHERIT
@set here=HALTED
@set here=COMMANDS
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@parent here=#8
@alias #989=
---
#1495
#-1
#-1
#72
@dig/teleport Hallway
@Desc here=%rPlease&#160;%xhdo not%xn proceed to the '%xhapproval room%xn' unless you are sure you have everything set up; from that room, there is no turning back without staff intervention -- proceeding to that room indicates that you are fully set up and seek approval.%r%r%xhNote%xn: If you have not read the '%xhnews%xn' files, particularly '%xhnews char%xn' and following -- detailing what it takes to be considered &quot;set up&quot; --, this is a good time for doing so. Particularly, please use '%xh+check%xn' to make sure you are fully set up (no more red and yellow highlights, for those of you @set ANSI).%r
@set here=HALTED
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #1495=
---
#1496
#-1
#-1
#72
@dig/teleport Approval Room
@Desc here=%r[center(%xhCongratulations! You have finished setting up your character!%xn,79)]%r%rYour staying in this room will mean that your character will get checked by a staffer (and hopefully approved).%r
@Adesc here=&amp;APP_TIME&#160;%#=[secs()]
@set here=HALTED
@rxlevel here=Real
@txlevel here=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@alias #1496=
---
#33
#0
#32
#72
@open CharGen &lt;%xh%xrC%xn&gt;;chargen;char;gen;c;cg;cha
@Odrop CharGen &lt;C&gt;=opens the door and steps into the room, a wave of heat follows.
@Desc CharGen &lt;C&gt;=%R%THere is where you start your adventure! Enter this room and follow the instructions. Please, I cannot stress enough how important it is that you read everything you see there. Especially at the end of your CharGen; enter the freebies room last! Thank you - Chicago Staff.%R
@Succ CharGen &lt;C&gt;=You stride with a purpose through the Character Generation doorway. Wish ya luck.
@Osucc CharGen &lt;C&gt;=opens the door to Character Generation and strides through it. The poor fool.
@set CharGen &lt;C&gt;=HALTED
@rxlevel CharGen &lt;C&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel CharGen &lt;C&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #33=
---
#34
#32
#0
#72
@open Out &lt;%xhO%xn&gt;;o;out
@Odrop Out &lt;O&gt;=steps in from CharGen. The air that follows has that new car smell.
@Desc Out &lt;O&gt;=The Door out of chargen back to Purgatory.
@Succ Out &lt;O&gt;=You walk back out the door, not yet finished with your character.
@Osucc Out &lt;O&gt;=walks back out the door, not yet completed with their character.
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #34=
---
#36
#32
#35
#72
@open Forward &lt;%xhFWD%xn&gt;;fwd;forward
@lock Forward &lt;FWD&gt;=ISREADY/1
&amp;ISREADY Forward &lt;FWD&gt;=[or(and(hasabil(%#,CONCEPT),hasabil(%#,Race),hasattr(%#,STATSBG)),0)]
@Afail Forward &lt;FWD&gt;=@pemit&#160;%#=switch(0,hasabil(%#,CONCEPT),You must set your concept before moving forward.,hasattr(%#,STATSBG),You must set your background before moving forward.,hasabil(%#,RACE),You must set your race before moving forward.)
@Asucc Forward &lt;FWD&gt;=setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(1,gettext(%#,race)); @dolist u(VALID_SECTIONS)=&amp;STATS&#160;%#=[setabil(%#,##points,getabil(%q0,##points))]; &amp;STATS&#160;%#=[u(parent(me)/FN_SET_SECTION,%#,BACKGROUNDS)]; &amp;STATS&#160;%#=[u(parent(me)/FN_SET_SECTION,%#,MERITS)]; &amp;STATS&#160;%#=[setabil(%#,Health,8)]; @wait 0={&amp;STATS&#160;%#=[setabil(%#,race,%q1)]; &amp;STATS&#160;%#=[setabil(%#,temprace,%q1)]}
@Desc Forward &lt;FWD&gt;=The way further into the machinery that is Chargen.
@Succ Forward &lt;FWD&gt;=You step onto the Conveyor to your next destination, setting more stuff.
@Osucc Forward &lt;FWD&gt;=steps onto the conveyor to their next destination.
@Odrop Forward &lt;FWD&gt;=enters from the Beginning. Poor unfortunate soul.
@set Forward &lt;FWD&gt;=INHERIT
@set Forward &lt;FWD&gt;=HALTED
@rxlevel Forward &lt;FWD&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Forward &lt;FWD&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@parent Forward &lt;FWD&gt;=#8
@alias #36=
---
#37
#35
#32
#72
@open Back &lt;%xhB%xn&gt;;b;back
@Desc Back &lt;B&gt;=You see before you a door labelled 'Back'.
@set Back &lt;B&gt;=HALTED
@rxlevel Back &lt;B&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Back &lt;B&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #37=
---
#38
#35
#1495
#72
@open Finished &lt;%xhFIN%xn&gt;;fin;finish;finished
@Asucc Finished &lt;FIN&gt;=&amp;STATS&#160;%#=[u(parent(me)/FN_SET_SECTION,%#,CHARGENTEMP,)]; &amp;UNAPPROVED [parent(parent(me))]=[ldelete(u(UNAPPROVED),match(u(UNAPPROVED),%#:*))]; &amp;UNAPPROVED [parent(parent(me))]=[setunion(u(UNAPPROVED),%#:[secs()])]; &amp;STATS&#160;%#=[setabil(%#,bkapprove,)]; @dolist/delimit | {[u(parent(me)/FN_GET_SECTION,%#,POOLS)]}=&amp;STATS&#160;%#=[setq(0,first(##,:))][setq(1,last(##,:))][setabil(%#,%q0,%q1/%q1)]
@Desc Finished &lt;FIN&gt;=You see before you a door labelled 'Finished'.
@set Finished &lt;FIN&gt;=HALTED
@rxlevel Finished &lt;FIN&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Finished &lt;FIN&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@parent Finished &lt;FIN&gt;=#8
@alias #38=
---
#40
#35
#39
#72
@open Freebies &lt;%xhFR%xn&gt;;fr;free;freebies
@Desc Freebies &lt;FR&gt;=You see before you a door labelled 'Freebies'.
@set Freebies &lt;FR&gt;=HALTED
@rxlevel Freebies &lt;FR&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Freebies &lt;FR&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #40=
---
#41
#39
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #41=
---
#43
#35
#42
#72
@open Miscellaneous &lt;%xhMISC%xn&gt;;misc;miscellaneous
@Desc Miscellaneous &lt;MISC&gt;=You see before you a door labelled 'Misc'.
@set Miscellaneous &lt;MISC&gt;=HALTED
@rxlevel Miscellaneous &lt;MISC&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Miscellaneous &lt;MISC&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #43=
---
#44
#42
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #44=
---
#46
#35
#45
#72
@open Flaws &lt;%xhF%xn&gt;;flaws;f
@Desc Flaws &lt;F&gt;=You see before you a door labelled 'Flaws'.
@set Flaws &lt;F&gt;=HALTED
@rxlevel Flaws &lt;F&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Flaws &lt;F&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #46=
---
#47
#45
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #47=
---
#49
#35
#48
#72
@open Merits &lt;%xhM%xn&gt;;m;merits
@Desc Merits &lt;M&gt;=You see before you a door labelled 'Merits'.
@set Merits &lt;M&gt;=HALTED
@rxlevel Merits &lt;M&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Merits &lt;M&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #49=
---
#50
#48
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #50=
---
#52
#35
#51
#72
@open Spells &lt;%xhSP%xn&gt;;sp;spells
@Desc Spells &lt;SP&gt;=You see before you a door labelled 'Spells'.
@set Spells &lt;SP&gt;=HALTED
@rxlevel Spells &lt;SP&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Spells &lt;SP&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #52=
---
#53
#51
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #53=
---
#55
#35
#54
#72
@open Powers &lt;%xhPOW%xn&gt;;pow;powers
@Desc Powers &lt;POW&gt;=You see before you a door labelled 'Powers'.
@set Powers &lt;POW&gt;=HALTED
@rxlevel Powers &lt;POW&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Powers &lt;POW&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #55=
---
#56
#54
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #56=
---
#58
#35
#57
#72
@open Backgrounds &lt;%xhBGS%xn&gt;;bgs;backgrounds;bg
@Desc Backgrounds &lt;BGS&gt;=You see before you a door labelled 'Backgrounds'.
@set Backgrounds &lt;BGS&gt;=HALTED
@rxlevel Backgrounds &lt;BGS&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Backgrounds &lt;BGS&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #58=
---
#59
#57
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #59=
---
#61
#35
#60
#72
@open Abilities &lt;%xhAB%xn&gt;;ab;abils;abilities
@Desc Abilities &lt;AB&gt;=You see before you a door labelled 'Abilities'.
@set Abilities &lt;AB&gt;=HALTED
@rxlevel Abilities &lt;AB&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Abilities &lt;AB&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #61=
---
#62
#60
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #62=
---
#67
#35
#66
#72
@open Basics &lt;%xhBA%xn&gt;;ba;basics
@Desc Basics &lt;BA&gt;=You see before you a door labelled 'Basics'.
@set Basics &lt;BA&gt;=HALTED
@rxlevel Basics &lt;BA&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Basics &lt;BA&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #67=
---
#68
#66
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #68=
---
#93
#77
#92
#72
@open Hades &lt;H&gt;;hades;h;ha;had;hade;callisto;azou;azundris
@lock Hades &lt;H&gt;=*Callisto
@rxlevel Hades &lt;H&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Hades &lt;H&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #93=
---
#94
#92
#77
#72
@open Ascend &lt;A&gt;;ascend;leave;exit;out;o;ascend;a
@rxlevel Ascend &lt;A&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Ascend &lt;A&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #94=
---
#108
#0
#107
#72
@open Free Code Room &lt;%xhFCR%xn&gt;;fcr;f;free
@Odrop Free Code Room &lt;FCR&gt;=opens the door and steps into the room, a wave of heat follows.
@Desc Free Code Room &lt;FCR&gt;=%R%TThis is where ya go to @create and then @parent a handy object. Like a motorcycle, car, etc.%R
@Succ Free Code Room &lt;FCR&gt;=You open the door and walk through the Free Code Room doorway.
@rxlevel Free Code Room &lt;FCR&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Free Code Room &lt;FCR&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #108=
---
#109
#107
#0
#72
@open Purgatory &lt;%xhPUR%xn&gt;;purgatory;pur;purg;out;o
@Odrop Purgatory &lt;PUR&gt;=opens the door and steps into the room.
@rxlevel Purgatory &lt;PUR&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Purgatory &lt;PUR&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #109=
---
#131
#0
#419
#72
@open Racial Info &lt;%xhRI%xn&gt;;ri
@Desc Racial Info &lt;RI&gt;=A door leading you to the joys of Racial Information.
@Succ Racial Info &lt;RI&gt;=You walk through the door and into Racial Information.
@Osucc Racial Info &lt;RI&gt;=walks through the door and into Racial Information.
@Odrop Racial Info &lt;RI&gt;=enters from Purgatory.
@rxlevel Racial Info &lt;RI&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Racial Info &lt;RI&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #131=
---
#150
#0
#788
#72
@open Check out the grid before approval -- for a limited time only! &lt;IC&gt;;IC
&amp;LOCK_APPROVED Check out the grid before approval -- for a limited time only! &lt;IC&gt;=[gt(strlen(gettext(%#,BKAPPROVE)),0)]
@Fail Check out the grid before approval -- for a limited time only! &lt;IC&gt;=%xhGAME%xn: Sorry, you cannot go IC before you have been approved.
@Odrop Check out the grid before approval -- for a limited time only! &lt;IC&gt;=steps through the curtain and is now on stage.&#160;%N is now in character.
@Succ Check out the grid before approval -- for a limited time only! &lt;IC&gt;=You hear a *ding* as the In Character door opens for you. You step in and become a PC.
@Desc Check out the grid before approval -- for a limited time only! &lt;IC&gt;=[u([loc(#150)]/desc)]
@set Check out the grid before approval -- for a limited time only! &lt;IC&gt;=HALTED
@rxlevel Check out the grid before approval -- for a limited time only! &lt;IC&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Check out the grid before approval -- for a limited time only! &lt;IC&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #150=
---
#277
#92
#276
#72
@open Weather Room &lt;W&gt;;weather;wr;w
@lock Weather Room &lt;W&gt;=*Callisto
@rxlevel Weather Room &lt;W&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Weather Room &lt;W&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #277=
---
#278
#276
#92
#72
@open Hades &lt;H&gt;;h;hades;o;out
@rxlevel Hades &lt;H&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Hades &lt;H&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #278=
---
#377
#92
#200
#72
@open Limbo &lt;Limbo&gt;;li;lim;limb;limbo
@lock Limbo &lt;Limbo&gt;=*Callisto
@rxlevel Limbo &lt;Limbo&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Limbo &lt;Limbo&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #377=
---
#379
#376
#0
#72
@open PARENT: Apartment Front Door
@lock PARENT: Apartment Front Door=FN_LOCK/1
&amp;FN_LOCK PARENT: Apartment Front Door=[gt(member(u([loc(me)]/KEYS),%#),0)]
@Desc PARENT: Apartment Front Door=This a relatively sturdy door. There is a bell button next to it which is labeled &quot;[name(first(u([loc(me)]/KEYS)))].&quot;
@set PARENT: Apartment Front Door=DARK
@set PARENT: Apartment Front Door=PARENT_OK
@rxlevel PARENT: Apartment Front Door=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel PARENT: Apartment Front Door=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #379=
---
#624
#419
#5
#72
@open Shifter &lt;S&gt;;s;si;shifter info
@rxlevel Shifter &lt;S&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Shifter &lt;S&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #624=
---
#812
#82
#811
#72
@open Players Personal Projects &lt;%xhPPP%xn&gt;;ppp
@set Players Personal Projects &lt;PPP&gt;=HALTED
@rxlevel Players Personal Projects &lt;PPP&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Players Personal Projects &lt;PPP&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #812=
---
#813
#811
#82
#72
@open Out &lt;O&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #813=
---
#815
#82
#814
#72
@open Players Public Projects &lt;%xhPPub%xn&gt;;ppub
@set Players Public Projects &lt;PPub&gt;=HALTED
@rxlevel Players Public Projects &lt;PPub&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Players Public Projects &lt;PPub&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #815=
---
#948
#92
#944
#72
@open Holodeck Parent &lt;HP&gt;;holodeck;hp;holo
@rxlevel Holodeck Parent &lt;HP&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Holodeck Parent &lt;HP&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #948=
---
#950
#0
#949
#72
@open Holodeck &lt;%xhH%xn&gt;;h;holo;holodeck;suite;holosuite
@rxlevel Holodeck &lt;H&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Holodeck &lt;H&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #950=
---
#951
#949
#0
#72
@open Purgatory &lt;%xhO%xn&gt;;o;out;p;purge;purgatory
@rxlevel Purgatory &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Purgatory &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #951=
---
#958
#77
#77
#72
@open Out &lt;OUT&gt;;o;out
@rxlevel Out &lt;OUT&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;OUT&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #958=
---
#977
#77
#956
#72
@open Orpheus' Underworld &lt;OU&gt;;ou;orph;under;underworld
@rxlevel Orpheus' Underworld &lt;OU&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Orpheus' Underworld &lt;OU&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #977=
---
#978
#956
#77
#72
@open Out &lt;OUT&gt;;o;out
@rxlevel Out &lt;OUT&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;OUT&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #978=
---
#1008
#35
#989
#72
@open Attributes &lt;%xhAT%xn&gt;;at;att;attr;attributes
@set Attributes &lt;AT&gt;=HALTED
@rxlevel Attributes &lt;AT&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Attributes &lt;AT&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1008=
---
#1009
#989
#35
#72
@open Out &lt;%xhO%xn&gt;;o;out;hall;chargen hall
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1009=
---
#1040
#419
#1039
#72
@open Mortal &lt;M&gt;;m;mi;mortal info
@rxlevel Mortal &lt;M&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Mortal &lt;M&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1040=
---
#1041
#1039
#419
#72
@open Out &lt;O&gt;;o;out
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1041=
---
#1421
#814
#82
#72
@open Out &lt;O&gt;;o;out
@set Out &lt;O&gt;=HALTED
@rxlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Out &lt;O&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1421=
---
#1434
#814
#-1
#72
@open 10 &lt;10&gt;;10
@rxlevel 10 &lt;10&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 10 &lt;10&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1434=
---
#1435
#814
#-1
#72
@open 9 &lt;9&gt;;9
@rxlevel 9 &lt;9&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 9 &lt;9&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1435=
---
#1436
#814
#-1
#72
@open 8 &lt;8&gt;;8
@rxlevel 8 &lt;8&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 8 &lt;8&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1436=
---
#1437
#814
#-1
#72
@open 7 &lt;7&gt;;7
@rxlevel 7 &lt;7&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 7 &lt;7&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1437=
---
#1438
#814
#-1
#72
@open 6 &lt;6&gt;;6
@rxlevel 6 &lt;6&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 6 &lt;6&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1438=
---
#1439
#814
#-1
#72
@open 5 &lt;5&gt;;5
@rxlevel 5 &lt;5&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 5 &lt;5&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1439=
---
#1440
#814
#-1
#72
@open 4 &lt;4&gt;;4
@rxlevel 4 &lt;4&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 4 &lt;4&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1440=
---
#1441
#814
#-1
#72
@open 3 &lt;3&gt;;3
@rxlevel 3 &lt;3&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 3 &lt;3&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1441=
---
#1443
#814
#-1
#72
@open 1 &lt;1&gt;;1
@rxlevel 1 &lt;1&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel 1 &lt;1&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1443=
---
#1468
#1496
#822
#72
@open IC &lt;%xhIC%xn&gt;;IC;I
@lock IC &lt;IC&gt;=LOCK_APPROVED/1
&amp;LOCK_APPROVED IC &lt;IC&gt;=[gt(strlen(gettext(%#,BKAPPROVE)),0)]
@Fail IC &lt;IC&gt;=%xhGAME%xn: Sorry, you cannot go IC before you have been approved.
@Odrop IC &lt;IC&gt;=steps through the curtain and is now on stage.&#160;%O is now in character.
@Succ IC &lt;IC&gt;=You hear a *ding* as the In Character door opens for you. You step in and become a PC.
@Desc IC &lt;IC&gt;=[u([loc(#1468)]/desc)]
@set IC &lt;IC&gt;=HALTED
@rxlevel IC &lt;IC&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel IC &lt;IC&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1468=
---
#1502
#1495
#35
#72
@open CharGen Hall &lt;%xhCG%xn&gt;;cg;char;chargen;hall;chargen hall
@set CharGen Hall &lt;CG&gt;=HALTED
@rxlevel CharGen Hall &lt;CG&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel CharGen Hall &lt;CG&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1502=
---
#1503
#1495
#1496
#72
@open Approval Room &lt;%xhapproval room%xn&gt;;approval room;ap
@set Approval Room &lt;approval room&gt;=HALTED
@rxlevel Approval Room &lt;approval room&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@txlevel Approval Room &lt;approval room&gt;=Real Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10
@alias #1503=
---
#6
#2
#12
#72
@create Master Functions Data Object:MFDO=10
&amp;FN_WHICHATTR0100 Master Functions Data Object:MFDO=rest(%0,/)
&amp;FN_WHICHATTR0010 Master Functions Data Object:MFDO=%0
&amp;FN_WHICHATTR1000 Master Functions Data Object:MFDO=rest(u(%#/FUGUE),/)
&amp;FN_WHICHATTR0001 Master Functions Data Object:MFDO=rest(u(%#/FUGUE),/)
&amp;FN_WHICHDBREF1000 Master Functions Data Object:MFDO=first(u(%#/FUGUE),/)
&amp;FN_WHICHDBREF0100 Master Functions Data Object:MFDO=first(%0,/)
&amp;FN_WHICHDBREF0010 Master Functions Data Object:MFDO=first(u(%#/FUGUE),/)
&amp;FN_WHICHDBREF0001 Master Functions Data Object:MFDO=first(u(%#/FUGUE),/)
&amp;FN_FINGER10 Master Functions Data Object:MFDO=I'm sorry, but there's no such player {'%0'}.
&amp;FN_FINGER00 Master Functions Data Object:MFDO=I'm sorry, but there's no such player {'%0'}.
&amp;FN_FINGER11 Master Functions Data Object:MFDO=[line([name(%1)][u(FN_FINGER_ALIAS[hasattr(%1,ALIAS)],%1)])]%r[capitalize(subj(%1))] [u(FN_FINGER_STATUS[hasflag(%1,CONNECTED)]0,%1)]\, [u(FN_FINGER_IDLE[hasflag(%1,CONNECTED)]0,%1)]and [u(FN_FINGER_MAIL[gt(extract(mail(%1),2,1),0)],%1)].%r[capitalize(subj(%1))] has [u(FN_FINGER_INFO,%1)] set.%r[switch([hasattr(%1,BIT)],1,[capitalize(subj(%1))] is [switch(hasflag(%1,WIZARD),1,a coder,[switch(isstaff(%1),1,an admin,[switch(hasflag(%1,HAVEN),1,a newbie helper,an off duty helper)])])]&#160;%([objeval(%1,u(%1/BIT))]%).%r,)][switch(hasattr(%1,AVAILABLE),1,[capitalize(subj(%1))] is often%b%bon [objeval(%1,u(%1/AVAILABLE))]%r)][u(FN_FINGER_RPPREFS[hasattr(%1,RPPREFS)],%1)][u(FN_FINGER_PLAN[hasattr(%1,PLAN)],%1)][line(switch(hasattr(%1,PLAYERNAME),1,u(%1/PLAYERNAME),On the net))]%r[u(FN_FINGER_EMAIL[hasattr(%1,EMAIL)],%1)][u(FN_FINGER_SEMAIL[hasattr(%1,SEMAIL)],%1)][u(FN_FINGER_HOMEPAGE[hasattr(%1,HOMEPAGE)],%1)][u(FN_FINGER_ALTCHARS[hasattr(%1,ALTCHARS)],%1)][line([switch(
hasabil(%1,FULLNAME),1,gettext(%1,FULLNAME),[name(%1)]/IC)])]%r[u(FN_FINGER_APPARENT_AGE[hasabil(%1,APPARENT_AGE)],%1)][u(FN_FINGER_IC_AGE[hasabil(%1,IC_AGE)],%1)][u(FN_FINGER_RACE[hasabil(%1,RACE)],%1)]%r[u(FN_FINGER_DEMEANOR[hasabil(%1,DEMEANOR)],%1)][u(FN_FINGER_NATURE[hasabil(%1,NATURE)],%1)]%t(Sphere: [gettext(%1,TEMPRACE)])%r[u(FN_FINGER_POSITION[and(not(isstaff(%1)),hasabil(%1,POSITION))],%1)][u(FN_FINGER_SHORTDESC[hasattr(%1,SHORTDESC)],%1)][u(FN_FINGER_THEME[hasattr(%1,THEME)],%1)][u(FN_FINGER_QUOTE[hasattr(%1,QUOTE)],%1)][line(End: [name(%1)])]
&amp;FN_FINGER01 Master Functions Data Object:MFDO=[line([name(%1)][u(FN_FINGER_ALIAS[hasattr(%1,ALIAS)],%1)])]%r[capitalize(subj(%1))] [u(FN_FINGER_STATUS[hasflag(%1,CONNECTED)][hasflag(%1,DARK)],%1)]\, [u(FN_FINGER_IDLE[hasflag(%1,CONNECTED)][hasflag(%1,DARK)],%1)]and [u(FN_FINGER_MAIL[gt(extract(mail(%1),2,1),0)],%1)].%r[capitalize(subj(%1))] has [u(FN_FINGER_INFO,%1)] set.%r[switch([hasattr(%1,BIT)],1,[capitalize(subj(%1))] is [switch(hasflag(%1,WIZARD),1,a coder,[switch(isstaff(%1),1,an admin,[switch(hasflag(%1,HAVEN),1,a newbie helper,an off duty helper)])])]&#160;%([objeval(%1,u(%1/BIT))]%).%r,)][switch(hasattr(%1,AVAILABLE),1,[capitalize(subj(%1))] is often%b%bon [objeval(%1,u(%1/AVAILABLE))]%r)][u(FN_FINGER_RPPREFS[hasattr(%1,RPPREFS)],%1)][u(FN_FINGER_PLAN[hasattr(%1,PLAN)],%1)][line(switch(hasattr(%1,PLAYERNAME),1,u(%1/PLAYERNAME),On the net))]%r[u(FN_FINGER_EMAIL[hasattr(%1,EMAIL)],%1)][switch(streq(%1,%#),1,[u(FN_FINGER_SEMAIL[hasattr(%1,SEMAIL)],%1)])][u(FN_FINGER_HOMEPAGE[hasattr(%1,HOMEPAGE)],%1)][u(
FN_FINGER_ALTCHARS[hasattr(%1,ALTCHARS)],%1)][line([switch(hasabil(%1,FULLNAME),1,gettext(%1,FULLNAME),[name(%1)]/IC)])]%r[u(FN_FINGER_APPARENT_AGE[hasabil(%1,APPARENT_AGE)],%1)]%r[u(FN_FINGER_POSITION[and(not(isstaff(%1)),hasabil(%1,POSITION))],%1)][u(FN_FINGER_SHORTDESC[hasattr(%1,SHORTDESC)],%1)][u(FN_FINGER_THEME[hasattr(%1,THEME)],%1)][u(FN_FINGER_QUOTE[hasattr(%1,QUOTE)],%1)][line(End: [name(%1)])]
&amp;FN_FINGER_STATUS11 Master Functions Data Object:MFDO=was last connected on [mid(localtime(objeval(%0,u(%0/LAST))),4,12)]
&amp;FN_FINGER_STATUS10 Master Functions Data Object:MFDO=is&#160;%xhonline%xn
&amp;FN_FINGER_STATUS01 Master Functions Data Object:MFDO=was last connected on [mid(localtime(objeval(%0,u(%0/LAST))),4,12)]
&amp;FN_FINGER_STATUS00 Master Functions Data Object:MFDO=was last connected on [mid(localtime(objeval(%0,u(%0/LAST))),4,12)]
&amp;FN_FINGER_ALIAS1 Master Functions Data Object:MFDO=%b([objeval(%0,u(%0/ALIAS))])
&amp;FN_FINGER_GENDER1 Master Functions Data Object:MFDO=ljust(mid(Gender: [objeval(%0,u(%0/SEX))],0,13),20)
&amp;FN_FINGER_GENDER0 Master Functions Data Object:MFDO=space(20)
&amp;FN_FINGER_MAIL0 Master Functions Data Object:MFDO=has no unread mail
&amp;FN_FINGER_MAIL1 Master Functions Data Object:MFDO=has [extract(mail(%0),2,1)] unread letter(s)
&amp;FN_FINGER_IDLE10 Master Functions Data Object:MFDO=has been idle for [fmtidle(%0)],%b
&amp;FN_FINGER_LOCATION0 Master Functions Data Object:MFDO=[name(loc(%0))]
&amp;FN_LATTR00 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%0'} here.
&amp;FN_LATTR10 Master Functions Data Object:MFDO=I'm sorry, but you don't have permission to view {'%0'}.
&amp;FN_LATTR11 Master Functions Data Object:MFDO=%xh[line(name(first(%1,/))([first(%1,/)][flags(first(%1,/))]),75)]%xn%r[columns(sort(lattr(%1)),25)][switch(mod(words(lattr(%1)),3),1,%r,2,%r)]%xh[line(End: [name(first(%1,/))]\([first(%1,/)][flags(first(%1,/))]\),75)]%xn
&amp;FN_FUGUE100 Master Functions Data Object:MFDO=Permission denied.
&amp;FN_FUGUE101 Master Functions Data Object:MFDO=I'm sorry, but you don't have permission to edit that object.
&amp;FN_FINGER_LOCATION1 Master Functions Data Object:MFDO=out of sight
&amp;FN_FINGER_EMAIL1 Master Functions Data Object:MFDO=[rjust(Email:,13)] [objeval(%0,u(%0/EMAIL))]%r
&amp;FN_FINGER_SEMAIL1 Master Functions Data Object:MFDO=[rjust(Staff Email:,13)] [objeval(%0,u(%0/SEMAIL))]%r
&amp;FN_FINGER_HOMEPAGE1 Master Functions Data Object:MFDO=[rjust(Home Page:,13)] [objeval(%0,u(%0/HOMEPAGE))]%r
&amp;FN_FINGER_ALTCHARS1 Master Functions Data Object:MFDO=[rjust(Alt Chars:,13)] [objeval(%0,u(%0/ALTCHARS))]%r
&amp;FN_FINGER_THEME1 Master Functions Data Object:MFDO=[rjust(Theme Song:,13)] [objeval(%0,u(%0/THEME))]%r
&amp;FN_FINGER_QUOTE1 Master Functions Data Object:MFDO=[rjust(Quote:,13)] [objeval(%0,u(%0/QUOTE))]%r
&amp;FN_FINGER_SHORTDESC1 Master Functions Data Object:MFDO=[rjust(Short Desc:,13)]&#160;%xh[objeval(%0,u(%0/SHORTDESC))]%xn%r
&amp;FN_FUGUE0011 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%0'} here.
&amp;FN_FUGUE0010 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%0'} here.
&amp;FN_FUGUE0001 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%0'} here.
&amp;FN_FUGUE0000 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%0'} here.
&amp;FN_FUGUE1111 Master Functions Data Object:MFDO=[u(%#/FUGUE-FMT,%0,%1,%2)]
&amp;FN_FUGUE1110 Master Functions Data Object:MFDO=FugueEdit &gt; &amp;%2&#160;%1=[get(%1/%2)]
&amp;FN_FUGUE1101 Master Functions Data Object:MFDO=I'm sorry, but that's not a good attribute name.
&amp;FN_FUGUE1100 Master Functions Data Object:MFDO=I'm sorry, but that's not a good attribute name.
&amp;FN_FUGUE_LOCK0001 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%q0'} here.
&amp;FN_FUGUE_LOCK0000 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%q0'} here.
&amp;FN_FUGUE_LOCK0011 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%q0'} here.
&amp;FN_FUGUE_LOCK0010 Master Functions Data Object:MFDO=I'm sorry, but I don't see {'%q0'} here.
&amp;FN_FUGUE_LOCK1001 Master Functions Data Object:MFDO=Permission denied.
&amp;FN_FUGUE_LOCK1000 Master Functions Data Object:MFDO=Permission denied.
&amp;FN_FUGUE_LOCK1011 Master Functions Data Object:MFDO=Permission denied.
&amp;FN_FUGUE_LOCK1010 Master Functions Data Object:MFDO=Permission denied.
&amp;FN_FUGUE_LOCK1101 Master Functions Data Object:MFDO=u(%#/FUGUE-LOCK,%0)
&amp;FN_FUGUE_LOCK1100 Master Functions Data Object:MFDO=FugueEdit &gt; @lock&#160;%0=[lock(%0)]
&amp;FN_FUGUE_LOCK1111 Master Functions Data Object:MFDO=u(%#/FUGUE-LOCK,%0,%1)
&amp;FN_FUGUE_LOCK1110 Master Functions Data Object:MFDO=FugueEdit &gt; @lock/%1&#160;%0=[lock(%0/%1)]
&amp;FN_FUGUE_NAME001 Master Functions Data Object:MFDO=I'm sorry, but I couldn't find the object {'%0'} here.
&amp;FN_FUGUE_NAME000 Master Functions Data Object:MFDO=I'm sorry, but I couldn't find the object {'%0'} here.
&amp;FN_FUGUE_NAME101 Master Functions Data Object:MFDO=Permission denied.
&amp;FN_FUGUE_NAME100 Master Functions Data Object:MFDO=Permission denied.
&amp;FN_FUGUE_NAME111 Master Functions Data Object:MFDO=u(%#/FUGUE-NAME,%q0)
&amp;FN_FUGUE_NAME110 Master Functions Data Object:MFDO=FugueEdit &gt; @name&#160;%q0=[fullname(%q0)]
&amp;FN_FINGER_PLAN1 Master Functions Data Object:MFDO=[capitalize(poss(%0))] plan is%b%b%b[objeval(%0,u(%0/PLAN))]%r
&amp;FN_IS_PLAYER1 Master Functions Data Object:MFDO=%r[ljust(mid(u(FN_IDLENAME,%0),0,23),25,.)][mid(get(%0/shortdesc),0,50)]
&amp;FN_+INFO1 Master Functions Data Object:MFDO=%r[u(%0/INFO)]
&amp;BBTIME Master Functions Data Object:MFDO=extract(time(), 1, 3)
&amp;GET_GROUP Master Functions Data Object:MFDO=switch(isnum(%0),1,extract(v(groups),%0,1),locate(#6,%0,ni))
&amp;NXT_MESS Master Functions Data Object:MFDO=1
&amp;VALID_GROUPS Master Functions Data Object:MFDO=iter(v(groups),switch(and(u(##/can%1,%0),not(member(get(%0/bb_omit),##))),1,##))
&amp;ISREAD Master Functions Data Object:MFDO=switch(member(get(%0/bb_read),%1),0,U)
&amp;ISGROUPREAD Master Functions Data Object:MFDO=switch(setdiff(%1,get(%0/bb_read)),,,U)
&amp;UNREADNUMS Master Functions Data Object:MFDO=sort(iter(setdiff(get(%1/mess_lst),get(%0/bb_read)),member(get(%1/mess_lst),##)))
&amp;FN_MAKELIST Master Functions Data Object:MFDO=iter(%0,switch(strmatch(##,*-*),1,lnum(before(##,-),after(##,-)),##))
&amp;FN_VIEWFILTER Master Functions Data Object:MFDO=and(not(and(or(strmatch(%0,loc(%#)),strmatch(type(%0),exit)),hasflag(%0,dark))),words(lattr(%0/view_*)))
&amp;LIST Master Functions Data Object:MFDO=switch(words(%0),0,,1,%0,2,[first(%0)] and [rest(%0)],iter(%0,switch(eq(words(%0),member(%0,##)),1,and ##,[##,])))
&amp;DATA-COMPASS_FORMATS Master Functions Data Object:MFDO=standard enhanced nsstreet ewstreet intersection circular newcircular
&amp;COMPASS_FNC-EXIT_NAME Master Functions Data Object:MFDO=[setq(4,locate(%0,%1,e))][setq(3,switch(and(hasflag(r(4),DARK),controls(%0,r(4))),1,*))][switch(match(r(4),#-1),1,,switch(and(hasflag(r(4),DARK),not(controls(%0,r(4)))),1,,switch(r(4),%2,[r(3)][mid(name(r(4)),0,19)] (out),[r(3)][mid(name(r(4)),0,26)])))]
&amp;COMPASS_DEFAULT-FORMAT Master Functions Data Object:MFDO=enhanced
&amp;COMPASS-STANDARD Master Functions Data Object:MFDO=Obvious Exits:%r[space(23)][center(%0,26)]%r[space(35)]/N\\%r[space(8)][rjust(%7,26)][space(2)]|[space(2)]%1%r[space(34)]\\ | /%r[space(3)][rjust(%6,26)]%b&lt;-W---+---E-&gt;%b%2%r[space(34)]/ | \\%r[space(8)][rjust(%5,26)][space(2)]|[space(2)]%3%r[space(35)]\\S/%r[space(23)][center(%4,26)]
&amp;COMPASS-EWSTREET Master Functions Data Object:MFDO=Obvious Exits:%r|[space(25)]|[center(%0,25)]|[space(25)]|%r|[center(%7,25)]|[space(25)]|[center(%1,25)]|%r|[center(lcstr(mid(u([room(%#)]/NAME1),0,25)),25)]|[center(lcstr(mid(u([room(%#)]/NAME2),0,25)),25)]|[center(lcstr(mid(u([room(%#)]/NAME3),0,25)),25)]|%r+[repeat(-,25)]+[repeat(-,25)]+[repeat(-,25)]+%r%r[ljust(%6,25)][space(29)][rjust(%2,25)]%r%r+[repeat(-,25)]+[repeat(-,25)]+[repeat(-,25)]+%r|[center(lcstr(mid(u([room(%#)]/NAME4),0,25)),25)]|[center(lcstr(mid(u([room(%#)]/NAME5),0,25)),25)]|[center(lcstr(mid(u([room(%#)]/NAME6),0,25)),25)]|%r|[center(%5,25)]|[space(25)]|[center(%3,25)]|%r|[space(25)]|[center(%4,25)]|[space(25)]|
&amp;COMPASS-NSSTREET Master Functions Data Object:MFDO=Obvious Exits:%r[setq(8,[repeat(-,30)]+[space(8)]+[repeat(-,30)])][setq(9,[space(30)]|[space(8)]|)][space(23)][center(%0,25)]%r[r(8)]%r[center(lcstr(mid(u([room(%#)]/NAME1),0,30)),30)]|[space(8)]|[center(lcstr(mid(u([room(%#)]/NAME2),0,30)),30)]%r[space(4)][rjust(%7,25)]%b|[space(8)]|%b%1%r[r(9)]%r[r(8)]%r[center(lcstr(mid(u([room(%#)]/NAME3),0,30)),30)]|[space(8)]|[center(lcstr(mid(u([room(%#)]/NAME4),0,30)),30)]%r[space(4)][rjust(%6,25)]%b|[space(8)]|%b%2%r[r(9)]%r[r(8)]%r[center(lcstr(mid(u([room(%#)]/NAME5),0,30)),30)]|[space(8)]|[center(lcstr(mid(u([room(%#)]/NAME6),0,30)),30)]%r[space(4)][rjust(%5,25)]%b|[space(8)]|%b%3%r[r(9)]%r[r(8)]%r[space(23)][center(%4,25)]
&amp;COMPASS-INTERSECTION Master Functions Data Object:MFDO=Obvious Exits:%r[setq(8,[repeat(-,30)]+[space(8)]+[repeat(-,30)])][setq(9,[space(30)]|[space(8)]|)][space(23)][center(%0,25)]%r[r(9)]%r[center(lcstr(mid(u([room(%#)]/NAME1),0,30)),30)]|[space(8)]|[center(lcstr(mid(u([room(%#)]/NAME2),0,30)),30)]%r[space(4)][rjust(%7,25)]%b|[space(8)]|%b%1%r[r(8)]%r%r[ljust(%6,25)][space(21)][rjust(%2,25)]%r%r[r(8)]%r[space(4)][rjust(%5,25)]%b|[space(8)]|%b%3%r[center(lcstr(mid(u([room(%#)]/NAME3),0,30)),30)]|[space(8)]|[center(lcstr(mid(u([room(%#)]/NAME4),0,30)),30)]%r[r(9)]%r[space(23)][center(%4,25)]
&amp;COMPASS-ENHANCED Master Functions Data Object:MFDO=COMPASS ROSE%r[space(23)][center(%0,26)]%r[space(35)]/N\\[switch(%8,,,[space(23)]UP)]%r[space(36)]|[switch(%8,,,[space(12)][center(%8,26)])]%r[space(8)][rjust(%7,26)][space(2)]|[space(2)]%1%r[space(34)]\\ | /%r[rjust(%6,26)]%b&lt;--W-----+-----E--&gt;%b%2%r[space(34)]/ | \\%r[space(8)][rjust(%5,26)][space(2)]|[space(2)]%3%r[space(36)]|[switch(%9,,,[space(23)]DOWN)]%r[space(35)]\\S/[switch(%9,,,[space(11)][center(%9,26)])]%r[space(23)][center(%4,26)]
&amp;COMPASS-CIRCULAR Master Functions Data Object:MFDO=Obvious Exits:%r[space(23)][center(%0,25)]%r[space(30)]\\[space(9)]/%r[space(3)][rjust(%7,25)][space(3)]\\[repeat(_,7)]/[space(3)]%1%r[space(21)][repeat(_,8)][space(2)]/[space(7)]\\[space(2)][repeat(_,8)]%r[space(29)]\\/[space(9)]\\/%r[space(3)][rjust(%6,25)][space(2)]|[space(9)]|[space(2)]%2%r[space(30)]|[space(9)]|[space(30)]%r[space(21)][repeat(-,9)]\\[space(9)]/[repeat(-,9)]%r[space(31)]\\[repeat(_,7)]/%r[space(3)][rjust(%5,25)][space(3)]/[space(7)]\\[space(3)]%3%r[space(30)]/[space(9)]\\%r[space(23)][center(%4,25)]
&amp;COMPASS-NEWCIRCULAR Master Functions Data Object:MFDO=Obvious Exits:%r[space(26)][Center(%0,25)]%r[space(30)]\\[space(15)]/%r[space(4)][center(lcstr(mid(u([room(%#)]/NAME1),0,25)),25)][space(2)]\\[space(13)]/[space(2)][center(lcstr(mid(u([room(%#)]/NAME2),0,25)),25)]%r[space(4)][rjust(%7,25)][space(3)]\\___________/[space(3)][ljust(%1,25)]%r[space(32)]/[space(11)]\\%r[space(22)]---------/[space(13)]\\---------%r[space(31)]|[space(13)]|%r[space(4)][rjust(%6,25)][space(2)]|[space(13)]|[space(2)][ljust(%2,25)]%r[space(31)]|[space(13)]|%r[space(22)]---------\\[space(13)]/---------%r[space(32)]\\___________/%r[space(4)][rjust(%5,25)][space(3)]/[space(11)]\\[space(3)][ljust(%3,25)]%r[space(4)][center(lcstr(mid(u([room(%#)]/NAME3),0,25)),25)][space(2)]/[space(13)]\\[space(2)][center(lcstr(mid(u([room(%#)]/NAME4),0,25)),25)]%r[space(30)]/[space(15)]\\%r[space(26)][Center(%4,25)]
&amp;FN_WHERE_ENOUGH Master Functions Data Object:MFDO=gt(first(%0,:),1)
&amp;MUSHTIME Master Functions Data Object:MFDO=-3600
&amp;TIMEZONES Master Functions Data Object:MFDO=EST:Eastern Standard:-18000|CST:Central Standard:-21600|MST:Mountain Standard:-25200|PST:Pacific Standard:-28800|BAU:Brisbane Australia:36000|CET:Central European:3600|GMT:Greenwich Mean:0|NEW:Newfoundland:-12600
&amp;SHEET-FMT Master Functions Data Object:MFDO=PHYS-ATTRS SOC-ATTRS MENT-ATTRS|TALENTS SKILLS KNOWLEDGES|SECTALENTS SECSKILLS SECKNOWLEDGES|BACKGROUNDS MERITS FLAWS|MISC POOLS|POWERS SPELLS|EQUIP LANGUAGES
&amp;FN_ISMATH Master Functions Data Object:MFDO=switch(%0,@,1,/,1,^,1,+,1,-,1,&lt;,1,&gt;,1,0)
&amp;FN_NOHIDDEN Master Functions Data Object:MFDO=trim(iter(%0,map(MAP_NOHIDDEN,##)|,|),b,|)
&amp;MAP_NOHIDDEN Master Functions Data Object:MFDO=remove(%0,HIDDEN)
&amp;FN_VISSTAFF Master Functions Data Object:MFDO=switch(isstaff(%#)[hasflag(%0,dark)][hasflag(%0,connected)],1?0,0,1?1,1,000,0,001,1,01?,0)
&amp;FN_WHO_FMT Master Functions Data Object:MFDO=ljust(name(%0),22) [switch(get(%0/SEX),M*,(M),F*,(F),(?))] [rjust(fmtconn(%0),4)] [rjust(fmtidle(%0),4)] [switch(isstaff(%#)[hasflag(%0,unfindable)][hasflag(loc(%0),unfindable)],1??,ljust(mid(name(loc(%0)),0,29),29) [loc(%0)],?1?,&lt;Unfindable&gt;,??1,&lt;Unfindable&gt;,ljust(mid(name(loc(%0)),0,29),29) [loc(%0)])]
&amp;FN_XLIST Master Functions Data Object:MFDO=ulocal(FN_XLIST2,%0,%1,%2,%3,%4,%5,%6,%7,%8,%9)
&amp;FN_XLIST2 Master Functions Data Object:MFDO=setq(1,switch(mod(words(%0,%2),%1),0,div(words(%0,%2),%1),add(div( words(%0,%2),%1),1)))[iter(lnum2(1,%q1),u(FN_XLIST3,%0,%1,##,%q1,%2))]
&amp;FN_XLIST3 Master Functions Data Object:MFDO=iter(lnum(%1),extract(%0,add(%2,mul(##,%3)),1,%4))
&amp;FN_FINGER_IC_AGE1 Master Functions Data Object:MFDO=[rjust(\(IC Age:,13)] [left(ljust([gettext(%0,IC_AGE)]\),12),12)]
&amp;FN_FINGER_APPARENT_AGE1 Master Functions Data Object:MFDO=rjust(Apparent Age:,13) [left(ljust(gettext(%0,APPARENT_AGE),16),16)]
&amp;FN_FINGER_NATURE1 Master Functions Data Object:MFDO=rjust(\(Nature:,13) [gettext(%0,NATURE)])
&amp;FN_FINGER_DEMEANOR1 Master Functions Data Object:MFDO=rjust(Demeanor:,13) [left(ljust(gettext(%0,DEMEANOR),16),16)]
&amp;FN_FINGER_POSITION1 Master Functions Data Object:MFDO=rjust(IC Position:,13) [gettext(%0,POSITION)]%r
&amp;FN_LEXITS_LOC Master Functions Data Object:MFDO=iter(lexits(%0),loc(##))
&amp;FN_HOWL_HEAR Master Functions Data Object:MFDO=or(isstaff(%0),hasabil(%0,Can_Howl),hasabil(%0,Understand_Howl))
&amp;FN_FINGER_RACE1 Master Functions Data Object:MFDO=(Race:%b%b%b[gettext(%0,RACE)])
&amp;FN_FINGER_RPPREFS1 Master Functions Data Object:MFDO=[capitalize(poss(%0))] prefs are [objeval(%0,u(%0/RPPREFS))]%r
&amp;TR_PURGE_PLAYERS Master Functions Data Object:MFDO=@dolist search(type=player)=@switch u(FN_IDLED,##)=1,{@set ##=destroy_ok; @nuke ##}
&amp;TR_WIPE_PLAYER Master Functions Data Object:MFDO=@dolist&#160;%0={@set ##=!safe; @set ##=destroy_ok; @dest/override ##}
&amp;TR_WIPE_PLAYERS Master Functions Data Object:MFDO=@dolist search(type=player)=@switch u(FN_IDLED,##)=1,{@tr me/TR_WIPE_PLAYER=[search(##)]; @wait 0=@nuke ##}
&amp;FN_IDLED Master Functions Data Object:MFDO=[and(gt(sub(convtime(time()),convtime(u(%0/LAST))),u(FN_TIMEOUT)),gt (convtime(time()),convtime(u(%0/VACATION))),not(hasflag(%0,VACATION)),not(hasf lag(%0,HEAD)),not(isstaff(%0)))]
&amp;FN_TIMEOUT Master Functions Data Object:MFDO=mul(v(HOW_MANY_DAYS),86400)
&amp;HOW_MANY_DAYS Master Functions Data Object:MFDO=30
&amp;MAX_VACATION_DAYS Master Functions Data Object:MFDO=100
&amp;WIZARDS_LIST Master Functions Data Object:MFDO=#4 #401 #72
&amp;FN_FINGER_RACE0 Master Functions Data Object:MFDO=chunk of protoplasm
&amp;FN_GAMETIME Master Functions Data Object:MFDO=[setq(0,div(%0,mul(60,u(TIMERATIO))))][setq(1,mul(trunc(div(mod(%q0,60),15)),15))][setq(0,div(%q0,60))][setq(2,mod(%q0,24))][setq(0,div(%q0,24))]%q0 days after the desaster. The time is&#160;%q2:%q1 by [fullname(%#)]'s reckoning.
&amp;TIMERATIO Master Functions Data Object:MFDO=4
&amp;TIMEBASE Master Functions Data Object:MFDO=2000
&amp;FN_WHERE Master Functions Data Object:MFDO=%b[setq(0,sort(iter(lwho(),switch([or(orflags(##,DU), not(cansee(%0, ##)))][or(hasflag(loc(##),UNFINDABLE), not(cansee(%0, loc(##))))][isstaff(%0)],??1,loc(##),000,loc(##)))))][setq(0,rest(setunion(#,%q0)))][iter(%q0,[ljust(%xh[left(name(##),22)]%xn[switch(or(isstaff(%0),hasflag(##,JUMP_OKAY)),1,%b&lt;##&gt;)],32,.)][iter(lcon(##),switch([hasflag(##,CONNECTED)][isstaff(%0)][orflags(##,DU)],0*,,11*,[ljust(name(##),16)],100,[ljust(name(##),16)]))]%r)]
&amp;HANGOUTS Master Functions Data Object:MFDO=#0 #159 #1105 #1138
&amp;FN_HANGOUTS Master Functions Data Object:MFDO=[setq(0, filter(FN_FILTERVISIBLE, lwho()))]%b[iter(u(HANGOUTS),switch(%1[words(setr(1,setinter(lcon(##),%q0)))],00,,[left(ljust(%xh[fullname(##)]%xn[switch(or(isstaff(%0),hasflag(##,JUMP_OK)),1,%b&lt;##&gt;)],28,.),28)][rjust(words(%q1),2,.)][switch(or(not(hasflag(##,UNFINDABLE)),isstaff(%0)),1,:%b[iter(%q1,switch(or(isstaff(%0),not(orflags(##,DU))),[left(fullname(##),10)]%b%b))])]%r))]
&amp;FN_FINGER_INFO Master Functions Data Object:MFDO=[edit(andlist([switch(hasattr(%0,NOTE),1,%xh+note%xn%b)][switch(hasattr(%0,INFO),1,%xh+info%xn%b)][switch(hasattr(%0,MYKINKS),1,%xh+mykinks%xn%b)]the_flags_&quot;[flags(%0)]&quot;),_,%b)]
&amp;FN_FINGER_FULL_NAME1 Master Functions Data Object:MFDO=[rjust(Full name:,13)] [left(ljust(u(%0/FULLNAME),21),21)]
&amp;JUDGES_LIST Master Functions Data Object:MFDO=#1050 #285 #910 #954
&amp;FN_ISALT Master Functions Data Object:MFDO=[gt(words(setinter(%q0,get(%0/SITES))),0)]
&amp;FN_IDLENAME Master Functions Data Object:MFDO=[setq(0,[name(%0)][u(FN_FINGER_ALIAS[hasattr(%0,ALIAS)],%0)])][setq(0,switch(hasflag(%0,dark),1,%q0,%xh%q0))][switch(lt(idle(%0),300),1,%xg%q0,[switch(lt(idle(%0),1800),1,%xy%q0,%xr%q0)])]
&amp;FN_WHERE_OLD Master Functions Data Object:MFDO=%b[setq(0,sort(iter(lwho(),switch([orflags(##,DU)][hasflag(loc(##),UNFINDABLE)][isstaff(%0)],??1,loc(##),000,loc(##)))))][setq(0,rest(setunion(#,%q0)))][iter(%q0,[ljust(%xh[left(name(##),22)]%xn[switch(or(isstaff(%0),hasflag(##,JUMP_OKAY)),1,%b&lt;##&gt;)],32,.)][iter(lcon(##),switch([hasflag(##,CONNECTED)][isstaff(%0)][orflags(##,DU)],0*,,11*,[ljust(name(##),16)],100,[ljust(name(##),16)]))]%r)]
&amp;FN_HANGOUTS_OLD Master Functions Data Object:MFDO=[setq(0,lwho())]%b[iter(u(HANGOUTS),switch(%1[words(setr(1,setinter(lcon(##),%q0)))],00,,[left(ljust(%xh[fullname(##)]%xn[switch(or(isstaff(%0),hasflag(##,JUMP_OK)),1,%b&lt;##&gt;)],28,.),28)][rjust(words(%q1),2,.)][switch(or(not(hasflag(##,UNFINDABLE)),isstaff(%0)),1,:%b[iter(%q1,switch(or(isstaff(%0),not(orflags(##,DU))),[left(fullname(##),10)]%b%b))])]%r))]
&amp;FN_FILTERVISIBLE Master Functions Data Object:MFDO=[or(isstaff(%#), and(cansee(%#,&#160;%0), not(orflags(%0, DU)), not(hasflag(loc(%0), UNFINDABLE))))]
&amp;FN_FINGER_IC_NATURE1 Master Functions Data Object:MFDO=[rjust(\(IC Age:,9)] [left(ljust([gettext(%0,IC_AGE)]\),16),16)]
&amp;APPROVAL_ROOM Master Functions Data Object:MFDO=#1496
&amp;FN_FINGER_SEMAIL0 Master Functions Data Object:MFDO=[switch(hasattr(%0,email),0,%xrPlease set at least the &amp;SEMAIL (secret staff contact info) attribute!%xn%r)]
&amp;FN_FINGER_APPARENT_AGE0 Master Functions Data Object:MFDO=rjust(Apparent Age:,13) [ljust(%xrNot set!%xn,16)]
&amp;FN_FINGER_SHORTDESC0 Master Functions Data Object:MFDO=[rjust(Short Desc:,13)]&#160;%xrNot set!%xn%r
&amp;UNAPPROVED Master Functions Data Object:MFDO=#750:976036266
&amp;BARDS_LIST Master Functions Data Object:MFDO=#1050 #935
&amp;FN_NAMEALIAS Master Functions Data Object:MFDO=[setq(0,[name(%0)][u(FN_FINGER_ALIAS[hasattr(%0,ALIAS)],%0)])]%q0
@set Master Functions Data Object:MFDO=INHERIT
@set Master Functions Data Object:MFDO=SAFE
@rxlevel Master Functions Data Object:MFDO=Real
@txlevel Master Functions Data Object:MFDO=Real
@alias #6=
---
#8
#2
#12
#72
@create CharGen Functions:CF=10
&amp;FN_BUILD_FULL_LIST CharGen Functions:CF=trim(setunion(iter(lcon(me),get(##/%0)),))
&amp;FN_FULL_NAME CharGen Functions:CF=first(iter(lcon(me),grab(get(##/%0),%1*)))
&amp;FN_FULL_NAME_FOR_RACE CharGen Functions:CF=grab(u(%2/%0),%1*)
&amp;FN_GET_RACE_DBREF CharGen Functions:CF=locate(me,%0,i)
&amp;FN_GET_RACE_NAME CharGen Functions:CF=name(locate(me,%0,i))
&amp;VALID_SECTIONS CharGen Functions:CF=PHYS-ATTRS SOC-ATTRS MENT-ATTRS TALENTS SKILLS KNOWLEDGES SECTALENTS SECSKILLS SECKNOWLEDGES BACKGROUNDS POOLS POWERS TOP MERITS FLAWS EQUIP MISC SPELLS CHARGENTEMP REGISTRY AURAS LANGUAGES FREEBIES XPSPEND HIDDEN FORMS
&amp;FN_GET_SECTION CharGen Functions:CF=extract(get(%0/STATS),match(get(me/VALID_SECTIONS),%1),1,^)
&amp;FN_GET_SUB_SECTION CharGen Functions:CF=grab(%0,%1*,|)
&amp;FN_IN_WHICH_SECTION CharGen Functions:CF=first(iter(get(me/VALID_SECTIONS),switch(u(FN_FULL_NAME,##,%0),?*,##)))
&amp;FN_IS_SECTION CharGen Functions:CF=gt(match(get(me/VALID_SECTIONS),%0),0)
&amp;FN_IN_WHICH_SECTION_FOR_RACE CharGen Functions:CF=first(iter(get(me/VALID_SECTIONS),switch(strlen(u(FN_FULL_NAME_FOR_RACE,##,%0,%1)),0,,##)))
&amp;FN_IS_VALID CharGen Functions:CF=gt(strlen(u(FN_IN_WHICH_SECTION,%0)),0)
&amp;FN_IS_VALID_FOR_RACE CharGen Functions:CF=gt(strlen(u(FN_IN_WHICH_SECTION_FOR_RACE,%0,%1)),0)
&amp;FN_SET_SECTION CharGen Functions:CF=replace(get(%0/STATS),match(get(me/VALID_SECTIONS),%1),%2,^)
&amp;FN_SET_SUB_SECTION CharGen Functions:CF=switch(gt(match(%0,%1*,|),0)%2,?0,ldelete(%0,match(%0,%1*,|),|),0*,setunion(%1:%2,ldelete(%0,match(%0,%1*,|),|),|),replace(%0,match(%0,%1*,|),%1:%2,|))
&amp;FN_WHICH_SECTION CharGen Functions:CF=grab(get(me/VALID_SECTIONS),%0*)
&amp;EXPORTS-PRES CharGen Functions:CF=NONE
&amp;EXPORTS-PRIV CharGen Functions:CF=SETABIL GETABIL GETTEXT HASABIL
&amp;BLANK CharGen Functions:CF=^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&amp;FN_LIST_RACES CharGen Functions:CF=sort(iter(lcon(me),switch(hasflag(##,dark)[hasflag(##,SUSPECT)],00,name(##),01,name(##)@)))
&amp;CHARGENTEMP CharGen Functions:CF=Clearance
&amp;SECTION-BODY CharGen Functions:CF=[setq(8,sub(%q8,1))][setq(7,max2(iter(%1,words(u(me/FN_GET_SECTION,%q9,##),|))))][switch(gte(%q7,1),1,iter(lnum2(1,%q7),%r[u(LINE,##,%1)]))]%r
&amp;LINE CharGen Functions:CF=%b[iter(%1,setq(6,extract(u(FN_GET_SECTION,%q9,##),%0,1,|))[setq(5,first(edit(%q6,_,%b),:))][setq(4,rest(%q6,:))][ifelse([lte(strlen(%q5),0)],ljust(%b,%q8),setq(3,sub(%q8,add(strlen(%q4),1)))[setq(3,ifelse(gt(%q3,0),%q3,sub(div(%q8,2),1)))][setq(2,sub(%q8,%q3))][ljust(mid(%q5,0,%q3),%q3,.)][rjust(mid(%q4,0,%q2),%q2,.)])])]
&amp;SECTION-HDR CharGen Functions:CF=[setq(8,div(75,words(%1)))][mid(edit(edit(iter(%1,line(capitalize(##),%q8)),=%b,=),-%b,-)=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-,0,74)]
&amp;SHEET-FMT CharGen Functions:CF=TOP|PHYS-ATTRS SOC-ATTRS MENT-ATTRS|TALENTS SKILLS KNOWLEDGES|SECTALENTS SECSKILLS SECKNOWLEDGES|BACKGROUNDS MERITS FLAWS|MISC POOLS|POWERS SPELLS|EQUIP LANGUAGES
&amp;FN_MATCHES CharGen Functions:CF=iter(u(VALID_SECTIONS),u(FN_MATCHES_SECTION,%0,##,%1))
&amp;FN_MATCHES_SECTION CharGen Functions:CF=iter(get(%0/%1),switch(strmatch(##,%2*),1,%0:_[name(%0)] [capstr(lcstr(%1))] ##))
&amp;FN_ISMATH CharGen Functions:CF=switch(%0,@,1,/,1,^,1,+,1,-,1,&lt;,1,&gt;,1,0)
&amp;FN_SETABIL2 CharGen Functions:CF=[setq(0,switch(hasattr(%0,STATS),1,get(%0/STATS),0,get(me/BLANK)))][setq(1,switch(match(get(me/VALID_SECTIONS),%3),0,u(me/FN_IN_WHICH_SECTION,%1),grab(get(me/VALID_SECTIONS),%3)))][setq(2,extract(%q0,match(get(me/VALID_SECTIONS),%q1),1,^))][setq(3,u(me/FN_FULL_NAME,%q1,%1))][setq(4,u(me/FN_SET_SUB_SECTION,%q2,%q3,edit(%2,\,,%b)))][switch(controls(%!,%0),1,replace(%q0,match(get(me/VALID_SECTIONS),%q1),%q4,^),0,iter(lnum(10),setq(##,0)))]
&amp;FN_SETABIL CharGen Functions:CF=[ulocal(me/FN_SETABIL2,%0,%1,%2,%3,%4,%5,%6,%7,%8,%9)]
&amp;FN_GETTEXT2 CharGen Functions:CF=[u(FN_GETTEXT[controls(%!,%0)][isstaff(%#)][u(FN_IS_HIDDEN,%1)],%0,%1,%2,%3,%4,%5,%6,%7,%8,%9)][trim(last(%q0,:))]
&amp;FN_HASABIL2 CharGen Functions:CF=trim(iter(get(%0/STATS),setq(7,or(gt(match(##,%1:*,|),0),%q7)),^)%q7)
&amp;FN_GETABIL CharGen Functions:CF=[ulocal(me/FN_GETABIL2,%0,%1,%2,%3,%4,%5,%6,%7,%8,%9,%0)]
&amp;FN_GETTEXT CharGen Functions:CF=[ulocal(me/FN_GETTEXT2,%0,%1,%2,%3,%4)]
&amp;FN_HASABIL CharGen Functions:CF=[ulocal(me/FN_HASABIL2,%0,%1,%2,%3,%4,%5,%6,%7,%8,%9,%0)]
&amp;FN_SCAN_SECTION CharGen Functions:CF=trim(iter(%0,grab(##,%1*,|),|))
&amp;FN_GETABIL000 CharGen Functions:CF=0
&amp;FN_GETABIL001 CharGen Functions:CF=0
&amp;FN_GETABIL101 CharGen Functions:CF=setq(0,last(first(iter(get(%0/STATS),grab(##,%1*,|),^)),:))
&amp;FN_GETABIL010 CharGen Functions:CF=setq(0,last(first(iter(get(%0/STATS),grab(##,%1*,|),^)),:))
&amp;FN_GETABIL011 CharGen Functions:CF=setq(0,last(first(iter(get(%0/STATS),grab(##,%1*,|),^)),:))
&amp;FN_GETABIL100 CharGen Functions:CF=setq(0,last(first(iter(get(%0/STATS),grab(##,%1*,|),^)),:))
&amp;FN_GETABIL110 CharGen Functions:CF=setq(0,last(first(iter(get(%0/STATS),grab(##,%1*,|),^)),:))
&amp;FN_GETABIL111 CharGen Functions:CF=setq(0,last(first(iter(get(%0/STATS),grab(##,%1*,|),^)),:))
&amp;FN_GETABIL2 CharGen Functions:CF=u(FN_GETABIL[controls(%!,%0)][isstaff(%#)][u(FN_IS_HIDDEN,%1)],%0,%1,%2,%3,%4,%5,%6,%7,%8,%9)[setq(1,switch(%2,max,last(%q0,/),first(%q0,/)))][switch(isnum(%q1),0,0,1,%q1)]
&amp;FN_GETTEXT000 CharGen Functions:CF=0
&amp;FN_GETTEXT001 CharGen Functions:CF=0
&amp;FN_GETTEXT101 CharGen Functions:CF=setq(0,iter(get(%0/STATS),grab(##,%1*,|),^))
&amp;FN_GETTEXT010 CharGen Functions:CF=setq(0,iter(get(%0/STATS),grab(##,%1*,|),^))
&amp;FN_GETTEXT011 CharGen Functions:CF=setq(0,iter(get(%0/STATS),grab(##,%1*,|),^))
&amp;FN_GETTEXT100 CharGen Functions:CF=setq(0,iter(get(%0/STATS),grab(##,%1*,|),^))
&amp;FN_GETTEXT110 CharGen Functions:CF=setq(0,iter(get(%0/STATS),grab(##,%1*,|),^))
&amp;FN_GETTEXT111 CharGen Functions:CF=setq(0,iter(get(%0/STATS),grab(##,%1*,|),^))
&amp;FN_IS_HIDDEN CharGen Functions:CF=gt(strlen(grab(iter(lcon(me),get(##/HIDDEN)),%0*)),0)
&amp;FN_XLIST2 CharGen Functions:CF=setq(1,switch(mod(words(%0,%2),%1),0,div(words(%0,%2),%1),add(div(words(%0,%2),%1),1)))[iter(lnum2(1,%q1),u(FN_XLIST3,%0,%1,##,%q1,%2))]
&amp;FN_XLIST3 CharGen Functions:CF=iter(lnum(%1),setq(2,extract(%0,add(%2,mul(##,%3)),1,%4))[switch(%q2,?*,%q2,_)])
&amp;SECTION-BODY-OLD CharGen Functions:CF=[setq(8,sub(%q8,1))][setq(7,max2(iter(%1,words(u(me/FN_GET_SECTION,%q9,##),|))))][switch(gte(%q7,2),1,iter(lnum2(2,%q7),%r[u(LINE,##,%1)]))]%r
&amp;LINE-OLD CharGen Functions:CF=%b[iter(%1,setq(6,extract(u(FN_GET_SECTION,%q9,##),%0,1,|))[setq(5,first(edit(%q6,_,%b),:))][setq(4,rest(%q6,:))][ifelse([lte(strlen(%q5),0)],ljust(%b,%q8),setq(3,sub(%q8,add(strlen(%q4),1)))[setq(3,ifelse(gt(%q3,0),%q3,sub(div(%q8,2),1)))][setq(2,sub(%q8,%q3))][ljust(mid(%q5,0,%q3),%q3,.)][rjust(mid(%q4,0,%q2),%q2,.)])])]
&amp;FN_WHO_FMT CharGen Functions:CF=ljust([name(%0)][u(FN_FINGER_ALIAS[hasattr(%0,ALIAS)],%0)],22) [switch(get(%0/SEX),M*,m,F*,f,?)][switch(hasflag(%0,WIZARD),1,/w,[switch(isstaff(%0),1,/s,[switch(hasflag(%0,HAVEN),1,/h,%b%b)])])] [rjust(fmtconn(%0),4)] [rjust(fmtidle(%0),4)] [switch(isstaff(%#)[or(hasflag(%0,unfindable), not(cansee(%#,&#160;%0)))][or(hasflag(loc(%0),unfindable), not(cansee(%#, loc(%0))))],1??,ljust(mid(name(loc(%0)),0,29),29) [loc(%0)][switch(hasflag(loc(%0),JUMP_OK),1,J,)],?1?,&lt;Unfindable&gt;,??1,&lt;Unfindable&gt;,ljust(mid(name(loc(%0)),0,29),29) [loc(%0)][switch(hasflag(loc(%0),JUMP_OK),1,J,)])]
&amp;FN_WHO_FMT_OLD CharGen Functions:CF=ljust([name(%0)][u(FN_FINGER_ALIAS[hasattr(%0,ALIAS)],%0)],22) [switch(get(%0/SEX),M*,m,F*,f,?)][switch(hasflag(%0,WIZARD),1,/w,[switch(isstaff(%0),1,/s,[switch(hasflag(%0,HAVEN),1,/h,%b%b)])])] [rjust(fmtconn(%0),4)] [rjust(fmtidle(%0),4)] [switch(isstaff(%#)[hasflag(%0,unfindable)][hasflag(loc(%0),unfindable)],1??,ljust(mid(name(loc(%0)),0,29),29) [loc(%0)][switch(hasflag(loc(%0),JUMP_OK),1,J,)],?1?,&lt;Unfindable&gt;,??1,&lt;Unfindable&gt;,ljust(mid(name(loc(%0)),0,29),29) [loc(%0)][switch(hasflag(loc(%0),JUMP_OK),1,J,)])]
&amp;FN_FILTERORCANSEE CharGen Functions:CF=[gt(words(setinter(%q9, rxlevel(%0))), 0)]
&amp;FN_FILTERANDCANSEE CharGen Functions:CF=[eq(words(setinter(%q9, rxlevel(%0))), words(%q9))]
&amp;FN_STATS CharGen Functions:CF=[setq(9,&#160;%0)][setq(7, u(FN_NOHIDDEN, switch(hasattr(%0, SHEET-FMT), 1, get(%0/SHEET-FMT), 0, u(SHEET-FMT))))][setq(8, setdiff(iter(%1, |[grab(%q7, *##*, |)]), |%b, |))][iter(%q8, [u(SECTION-HDR,&#160;%0, ##)][u(SECTION-BODY,&#160;%0, ##)], |)]
&amp;FN_CHECK_OPTIONAL CharGen Functions:CF=@lock:[space(8)][ifelse(strlen(lock(%0)),Yes,%xrNo%b%xn)] | @lock/use:[space(5)][ifelse(strlen(lock(%0/use)),Yes,%xrNo%b%xn)] | +kinks:[space(7)][ifelse(hasattr(%0,KINKS),Yes,No%b)] |
&amp;FN_CHECK_CHARGEN CharGen Functions:CF=Background: [ifelse(hasattr(%0,STATSBG),ifelse(lt(words(get(%0/STATSBG)),100),%xyShort%xn,Yes%b%b),%xrNo%xn%b%b%b)] | [gettext(%0,Bkapprove)][setq(1,get(%0/STATS))][trim(squish(iter(u(CHARGEN_STATS),ifelse(strlen(index(%q1, ^, rest(##, /), 1)), ,%r%xhNo [first(##, /)]%xn), |)))]%r&amp;DESC:[space(6)][switch(setr(9,words(u(%0/DESC))),0,%xrNo%xn%b%b%b,switch(lt(%q9,100),1,%xyShort%xn,Yes%b%b))] | &amp;SHORTDESC: [switch(hasattr(%0,SHORTDESC),1,Yes,%xrNo%xn)]%rFreebies left: [rjust(getabil(%0,freebiespoints),2)]%b| Auras: [ifelse(hasabil(%0,Aura_Aspect),Aspect,%xrAspect%xn)] [iter(lnum(1,5),[ifelse(hasattr(%0,AURA-##),##,%xr##%xn)])]%r
&amp;FN_CHECK_RACE_VAMPIRE CharGen Functions:CF=&amp;OBFDESC:%b%b[switch(gte(getabil(%0,Obfuscate),3),1,[ifelse(hasattr(%0,OBFDESC),Yes,%xyNo%b%xn)],n/a)][space(4)]|%b&amp;DAYBLIND:%b%b[switch(hasattr(%0,DAYBLIND),1,Yes,%xrNo%b%xn)]%r
&amp;FN_CHECK_RACE_CHANGELING CharGen Functions:CF=&amp;FAEDESC%b%b: [ifelse(hasattr(%0, FAEDESC), Yes,&#160;%xhNo%b%xn)]%r
&amp;FN_CHECK_RACE_SHIFTER CharGen Functions:CF=&amp;NIGHT-VISION:%b[ifelse(hasattr(%0,NIGHT-VISION),Yes,No%b)]|%b&amp;DARK-VISION:%b[ifelse(hasattr(%0,DARK-VISION),Yes,No%b)]%r
@set CharGen Functions:CF=INHERIT
@rxlevel CharGen Functions:CF=Real
@txlevel CharGen Functions:CF=Real
@parent CharGen Functions:CF=#6
@alias #8=
---
#9
#2
#2
#72
@create Master Commands:MC=10
&amp;DO_FUGUE_EDIT Master Commands:MC=$ed*:setq(3,trim(%0)); setq(0,u(FN_WHICHDBREF[gt(words(%q3,/),2)][eq(words(%q3,/),2)][eq(words(%q3,/),1)][eq(words(%q3,/),0)],%q3)); setq(1,locate(%#,{{%q0}},*)); setq(2,ucstr(u(FN_WHICHATTR[gt(words(%q3,/),2)][eq(words(%q3,/),2)][eq(words(%q3,/),1)][eq(words(%q3,/),0)],%q3))); @pemit&#160;%#=edit(u(FN_FUGUE[isdbref(%q1)][trunc(controls(%#,%q1))][gt(strlen(%q2),0)][hasattr(%#,FUGUE-FMT)],%q0,%q1,%q2),%r,%%r); &amp;FUGUE&#160;%#=%q1/%q2
&amp;DO_FUGUE_NAME Master Commands:MC=$ng*:setq(0,locate(%#,trim({{{%0}}}),*)); @pemit&#160;%#=u(FN_FUGUE_NAME[isdbref(%q0)][trunc(controls(%#,%q0))][hasattr(%#,FUGUE-NAME)],trim({{%0}}),%q0)
&amp;DO_FUGUE_LOCK Master Commands:MC=$lock*:setq(0,trim({{%0}})); setq(1,first({{%q0}},/)); setq(2,rest({{%q0}},/)); setq(3,locate(%#,{{%q1}},*)); @pemit&#160;%#=u(FN_FUGUE_LOCK[isdbref(%q3)][trunc(controls(%#,%q3))][gt(strlen(%q2),0)][hasattr(%#,FUGUE-LOCK)],%q3,%q2)
&amp;DO_FIND Master Commands:MC=$find *:setq(9,%xhGAME%xn:%b); setq(0,trim(%0)); setq(1,num(*%0)); @switch/first [isdbref(%q1)][trunc(controls(%#,%q1))][trunc(hasflag(%q1,unfindable))][trunc(hasflag(%q1,dark))][isstaff(%#)]=0????,{@pemit&#160;%#=%q9I can't see {'%0'} here.},11???,{@pemit&#160;%#=%q9[name(%q1)](%q1[flags(%q1)]) (who is [switch(hasflag(%q1,connected),0,not%b)]connected) is in [name(loc(%q1))]([loc(%q1)][flags(loc(%q1))]).},1???1,{@pemit&#160;%#=%q9[name(%q1)](%q1[flags(%q1)]) (who is [switch(hasflag(%q1,connected),0,not%b)]connected) is in [name(loc(%q1))]([loc(%q1)][flags(loc(%q1))]).},1??1?,{@pemit&#160;%#=%q9I can't see {'%0'} here.},1?1??,{@pemit&#160;%#=%q9I can't see {'%0'} here.}
&amp;DO_FINGER Master Commands:MC=$+finger *:setq(0,trim(%0)); setq(1,switch(isdbref(locate(%#,%q0,ampP)),1,locate(%#,%q0,ampP),locate(%#,*%q0,ampP))); @pemit&#160;%#=u(FN_FINGER[isstaff(%#)][isdbref(%q1)],%q0,%q1); @tr&#160;%q1/AFINGER=%#,%N
&amp;DO_DEBUG_START Master Commands:MC=$debug*:setq(0,trim(%0)); setq(1,locate(%#,%q0,*)); @switch [isdbref(%q1)][controls(%#,%q1)]=0?,{@pemit&#160;%#=I'm sorry, but I can't see {'%0'} here.},10,{@pemit&#160;%#=I'm sorry, but you can't modify that object.},11,{@set&#160;%q1=VERBOSE; @set&#160;%q1=TRACE; @pemit&#160;%#=Debugging is now on for [name(%q1)].}
&amp;DO_DEBUG_STOP Master Commands:MC=$debug/stop*:setq(0,trim(%0)); setq(1,locate(%#,%q0,*)); @switch [isdbref(%q1)][controls(%#,%q1)]=0?,{@pemit&#160;%#=I'm sorry, but I can't see {'%0'} here.},10,{@pemit&#160;%#=I'm sorry, but you can't modify that object.},11,{@set&#160;%q1=!VERBOSE; @set&#160;%q1=!TRACE; @pemit&#160;%#=Debugging is now off for [name(%q1)].}
&amp;DO_LATTR Master Commands:MC=$+lattr*:setq(0,last(%0,/)); setq(1,locate(%#,first(%0,/),*)); setq(2,switch(words(%0,/),1,%q1,2,%q1/%q0)); @pemit&#160;%#=u(FN_LATTR[isdbref(%q1)][trunc(visible(%#,%q1))],%q0,%q2)
&amp;DO_POLL Master Commands:MC=$+poll *:@switch gt(money(%#),100)=1,{@fo [owner(me)]={@doing/header {[mid(%0,0,40)]}}; give&#160;%#=-100; @wall/emit&#160;%xh%xy%N has changed the poll!%xn},0,{@pemit&#160;%#=I'm sorry, but you don't have enough money to change the poll.}
&amp;DO_ROOMHELP Master Commands:MC=$+roomhelp:@pemit&#160;%#=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-&gt; RoomHelp &lt;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=; @pemit&#160;%#=[edit(columns(iter(edit(setunion(lattr(%l/HELP_*),lattr(parent(%l)/HELP_*)),HELP_,),capitalize(##,_)),25),_,%b)]; @pemit&#160;%#=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-&gt; End: RoomHelp &lt;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
&amp;DO_ROOMHELP_ONE Master Commands:MC=$+roomhelp *:setq(0,HELP_[edit(%0,%b,_)]); @switch gt(strlen(setr(1,u(%l/%q0))),0)=1,{@pemit&#160;%#=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-&gt; RoomHelp &lt;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=%r%q1%r-=-=-=-=-=-=-=-=-=-=-=-=-=-=-&gt; End: RoomHelp &lt;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-},0,{@pemit&#160;%#=RoomHelp Error: No such topic {'%0'}}
&amp;DO_LISTDESC Master Commands:MC=$+desc/list:@switch isdbref(u(%#/DESCS))=1,{@pemit&#160;%#=-=-=-=-=-=-=-=-=-=-=-=-=-=-&gt; Your Descriptions &lt;-=-=-=-=-=-=-=-=-=-=-=-=-=-; @pemit&#160;%#=[edit(columns(iter(lattr(u(%#/DESCS)/DESC-*),capstr(lcstr(edit(##,DESC-,)))),25),_,%b)]; @pemit&#160;%#=-=-=-=-=-=-=-=-=-=-=-=-=-&gt; End Your Descriptions &lt;-=-=-=-=-=-=-=-=-=-=-=-=-},0,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.}
&amp;DO_SWITCHDESC Master Commands:MC=$+desc *:@desc&#160;%#=;@dolist setdiff(lattr(u(%#/DESCS)/*-[setr(0,ucstr(first(%0)))]),EMIT-%q0 NAME-%q0 DESC-%q0)={@force&#160;%#=@cpattr u(%#/DESCS)/##=%#/[extract(##,1,sub(words(##,-),1),-)]};@dolist&#160;%0=@switch/first [isdbref(u(%#/DESCS))][words(lattr(u(%#/DESCS)/DESC-[setr(0,ucstr(##))]))]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?0,{@pemit&#160;%#=I don't have any such description {'##'}},11,{@desc&#160;%#=[cat([get(%#/DESC)],[get([u(%#/DESCS)]/DESC-%q0)])];@pemit/c&#160;%l=[u(u(%#/DESCS)/EMIT-%q0)];@switch [u(u(%#/DESCS)/NAME-%q0)]=?*,{@name&#160;%#=[u(u(%#/DESCS)/NAME-%q0)]},{@name&#160;%#=[u(u(%#/DESCS)/ROOTNAME)]};@pemit&#160;%#=Adding description '{[capstr(lcstr(edit(%q0,_,%b)))]}'.},1?{@pemit&#160;%#=How on earth did you get TWO descriptions with the same name on you?}
&amp;DO_DESCADD Master Commands:MC=$+desc/add *:setq(0,edit(first(%0,=),%b,_)); setq(1,rest(escape(%0),=)); @switch/first [isdbref(u(%#/DESCS))][gt(strlen(%q0),0)][gt(strlen(%q1),0)][hasattr(u(%#/DESCS),DESC-%q0)]=0*,{@pemit&#160;%#=You are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?0??,{@pemit&#160;%#=I'm sorry, but you simply MUST give the description a name. See +desc/help.},??0?,{@pemit&#160;%#=I'm sorry, but you simply MUST type in a description of some sort. See +desc/help.},???0,{&amp;DESC-%q0 [u(%#/DESCS)]=%q1; @pemit&#160;%#=You have stored a new description named '{[capstr(lcstr(edit(%q0,_,%b)))]}'.},{@pemit&#160;%#=I'm sorry, but there is already a description with that name.}
&amp;DO_DESCDELETE Master Commands:MC=$+desc/del* *:setq(0,edit(%1,%b,_)); @switch/first [isdbref(u(%#/DESCS))][hasattr(u(%#/DESCS),DESC-%q0)]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' to continue.},?0,{@pemit&#160;%#=I'm sorry, but I can't find a description &quot;%q0&quot;.},?1,{@wipe [u(%#/DESCS)]/*-%q0; @pemit&#160;%#=You have removed the description '{[capstr(lcstr(edit(%q0,_,%b)))]}'.}
&amp;DO_DESCSAVE Master Commands:MC=$+desc/save *:setq(0,edit(%0,%b,_)); @switch/first [isdbref(u(%#/DESCS))][hasattr(u(%#/DESCS),DESC-%q0)][strlen(%q0)]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?1?,{@pemit&#160;%#=I'm sorry, but there is already a description with that name.},??0,{@pemit&#160;%#=I'm sorry, but you simply MUST provide a name for the description},{&amp;DESC-%q0 [u(%#/DESCS)]=[get(%#/desc)]; @pemit&#160;%#=You have saved the current description as '{[capstr(lcstr(edit(%q0,_,%b)))]}'}
&amp;DO_DESCVIEW Master Commands:MC=$+desc/view *:@switch/first [isdbref(u(%#/DESCS))][hasattr(u(%#/DESCS),DESC-[edit(%0,%b,_)])]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?1,{setq(7,edit(ucstr(%0),%b,_)); setq(0,Description: [capstr(lcstr(%0))]); @pemit&#160;%#=[setq(9,switch(isnum(extract(%q0,2,1,|)),1,extract(%q0,2,1,|),0,75))][setq(8,switch(isnum(extract(%q0,2,1,|)),1,extract(%q0,1,1,|),0,%q0))][setq(5,sub(div(sub(%q9,add(strlen(%q8),2)),4),1))][setq(1,mod(sub(%q9,add(strlen(%q8),2)),4))][repeat(-=,%q5)]-&gt;&#160;%q8 &lt;-[repeat(=-,%q5)][switch(%q1,3,=-=,2,=-,1,=)]; @pemit&#160;%#=[center(Name: [switch(u(u(%#/DESCS)/NAME-%q7),?*,u(u(%#/DESCS)/NAME-%q7),u(u(%#/DESCS)/ROOTNAME))],75)]; @pemit&#160;%#=%b[iter(setdiff(lattr(u(%#/DESCS)/*-%q7),NAME-%q7 DESC-%q7),[capstr(lcstr(extract(##,1,sub(words(##,-),1),-)))]: [u(u(%#/DESCS)/##)]%r)]; @pemit&#160;%#=[repeat(-,75)]; @pemit&#160;%#=[u([u(%#/DESCS)]/DESC-[edit(%0,%b,_)])]; setq(0,End Description: [capstr(lcstr(%0))]); @
pemit&#160;%#=[setq(9,switch(isnum(extract(%q0,2,1,|)),1,extract(%q0,2,1,|),0,75))][setq(8,switch(isnum(extract(%q0,2,1,|)),1,extract(%q0,1,1,|),0,%q0))][setq(5,sub(div(sub(%q9,add(strlen(%q8),2)),4),1))][setq(1,mod(sub(%q9,add(strlen(%q8),2)),4))][repeat(-=,%q5)]-&gt;&#160;%q8 &lt;-[repeat(=-,%q5)][switch(%q1,3,=-=,2,=-,1,=)]},?0,{@pemit&#160;%#=I can't find that description to view.}
&amp;DO_DESCEDIT Master Commands:MC=$+desc/edit *:setq(0,edit(first(%0,=),%b,_)); setq(1,rest(escape(%0),=)); setq(2,rest(%q1,/)); setq(1,first(%q1,/)); @switch/first [isdbref(u(%#/DESCS))][hasattr(u(%#/DESCS),DESC-%q0)]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?0,{@pemit&#160;%#=I can't find that description.},?1,{@edit [u(%#/DESCS)]/DESC-%q0={%q1},{%q2}; @pemit&#160;%#=You have edited the description named '{[capstr(lcstr(edit(%q0,_,%b)))]}'.}
&amp;DO_DESCSETUP Master Commands:MC=$+desc/setup:@switch isdbref(u(%#/DESCS))=0,{@fo&#160;%#={@create&#160;%N's Descriptions}; @fo&#160;%#={&amp;DESCS&#160;%#=setr(0,locate(%#,%N's Descriptions,in)); &amp;ROOTNAME&#160;%%q0=%N; @cpattr&#160;%#/desc=%%q0/DESC-MAIN; @pemit&#160;%#=switch(isdbref(%%q0),1,You are now set up to use the global multi-descer.,0,An error occurred setting you up. You are probably out of quota.)}},1,{@pemit&#160;%#=I'm sorry, but you already are setup to use the multidescer.}
&amp;DO_DESCEMIT Master Commands:MC=$+desc/emit *:setq(0,first(%0,=)); setq(1,rest(escape(%0),=)); setq(2,edit(%q0,%b,_)); @switch [isdbref(u(%#/DESCS))][hasattr(u(%#/DESCS),DESC-%q2)]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?0,{@pemit&#160;%#=I'm sorry, but you don't a description named {'%q0'}.},?1,{&amp;EMIT-%q2 [u(%#/DESCS)]=%q1; @pemit&#160;%#=You have set the emit for {'%q0'}.}
&amp;DO_DESCNAME Master Commands:MC=$+desc/name *:setq(0,first(%0,=)); setq(1,rest(escape(%0),=)); setq(2,edit(%q0,%b,_)); @switch [isdbref(u(%#/DESCS))][hasattr(u(%#/DESCS),DESC-%q2)]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?0,{@pemit&#160;%#=I'm sorry, but you don't have a description named {'%q0'}.},?1,{&amp;NAME-%q2 [u(%#/DESCS)]=[switch(%q1,clear,,%q1)]; @pemit&#160;%#=You have set the name for {'%q0'}.}
&amp;DO_DESCROOTNAME Master Commands:MC=$+desc/rootname *:@switch isdbref(u(%#/DESCS))=1,{&amp;ROOTNAME [u(%#/DESCS)]={%0}; @pemit&#160;%#=You have set your default name to '{%0}'.},0,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.}
&amp;DO_DESCATTRIB Master Commands:MC=$+desc/attrib *:setq(0,edit(first(%0,=),%b,_)); setq(1,rest(%q0,:)); setq(0,first(%q0,:)); setq(2,rest(escape(%0),=)); setq(3,u(%#/DESCS)); @switch/first [isdbref(%q3)][hasattr(%q3,DESC-%q0)][strmatch(%q2,clear)]=0*,{@pemit&#160;%#=You are not yet set to use the multidescer. Please use '+desc/setup'},10?,{@pemit&#160;%#=No such description '{%0}'.},??0,{&amp;%q1-%q0&#160;%q3=%q2; @pemit&#160;%#=You have set the [capstr(lcstr(%q1))] for your [capstr(lcstr(%q0))] description.},??1,{&amp;%q1-%q0&#160;%q3; @pemit&#160;%#=You have cleared the [capstr(lcstr(%q1))] from your [capstr(lcstr(%q0))] description.}
&amp;DO_SELFBOOT Master Commands:MC=$+selfboot:setq(0,rest(ports(%#))); setq(9,%xhGAME%xn:%b); @switch gt(words(%q0),0)=0,{@pemit&#160;%#=%q9There's only one of you here. Stop kicking yourself!&#160;: )},1,{@pemit&#160;%#=%q9Your alter egos are now gone.; @dolist&#160;%q0={@boot/port ##}}
&amp;DO_SHOUT Master Commands:MC=$+shout *:@dolist lexits(%L)=@pemit/contents loc(##)=From [name(%L)]%, [setq(1,switch(u(%#/SEX),M*,a male voice,F*,a female voice,someone))][setq(3,mid(%0,1,1000))][setq(0,switch(left(%0,1),|,%q3,:,%q1&#160;%q3,;,%q1%q3,%q1 shouts%, &quot;%0&quot;))]%q0;@pemit/contents&#160;%L=[setq(3,mid(%0,1,1000))][switch(left(%0,1),|,%q3,;,%N%q3,:,%N&#160;%q3,%N shouts%, &quot;%0&quot;)]
&amp;DO_PIPE Master Commands:MC=$|*:@force&#160;%#=ooc&#160;%0
&amp;DO_KNOCK Master Commands:MC=$+knock *:setq(3,first(%0,:)); setq(1,locate(%#,%q3,e)); setq(0,name(%q1)); setq(2,rest(%0,:)); @switch isdbref(%q1)=0,{@pemit&#160;%#=No such exit {%q3}},1,{@pemit/c&#160;%l=%N knocks at&#160;%q0[switch(words(%q2),0,.,%band shouts &quot;%q2&quot;)]; @pemit/c loc(%q1)=A [switch(u(%#/sex),male,male%b,female,female%b)]voice knocks from [name(%l)][switch(words(%q2),0,.,%band shouts &quot;%q2&quot;)]}
&amp;DO_GLANCE Master Commands:MC=$+glance:@pemit&#160;%#=-=-=-=-=-=-=-=-=-=-=-=-=-=--&gt; Glance Listing &lt;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-[iter(lcon(%l),u(FN_IS_PLAYER[and(hasflag(##,connected),strmatch(type(##),PLAYER))],##))]%r-=-=-=-=-=-=-=-=-=-=-=-=--&gt; End: Glance Listing &lt;-=-=-=-=-=-=-=-=-=-=-=-=-=
&amp;DO_INFO Master Commands:MC=$+info *:setq(0,num(*%0)); setq(1,name(%q0)); @switch isdbref(%q0)=0,{@pemit&#160;%#=%xhGAME%xn: [switch(streq(HERE,ucstr(%0)),1,[setq(3,loc(%#))][switch(hasattr(%q3,INFO),1,u(%q3/INFO),The creator of this room is unknown; it is owned by [name(owner(%q3))].)],No such player &quot;%0.&quot;)]},1,{@pemit&#160;%#=[line(+info for&#160;%q1)][u(FN_+INFO[hasattr(%q0,INFO)],%q0)]%r[line([switch([hasattr(%#,NOTE)],1,%xhAlso try +note&#160;%q1%xn,No +note set on&#160;%q1)])]}
@Fail Master Commands:MC=It's bolted down... you aint budgin' it.
&amp;DO_CLEARGROUP Master Commands:MC=$+confirm *:@switch v(DELETE_GRP)=[setq(0,u(get_group,%0))]%q0, {&amp;groups #6=[setdiff(v(groups),%q0)]; &amp;master_lst #6=[setdiff(v(master_lst),get(%q0/mess_lst))]; @nuke&#160;%q0; &amp;delete_grp #6=; @pemit&#160;%#=Group number&#160;%0 removed.}, {&amp;delete_grp #6=; @pemit&#160;%#=That group has not been marked for deletion. Use '+bbcleargroup &lt;#&gt;' to mark a group for deletion.}
&amp;DO_VIEW Master Commands:MC=$+view:@pemit [setq(0,trim(filter(fn_viewfilter,%l [lcon(%l)] [lexits(%l)])))]%#=switch(words(%q0),0,There are no view items set in your current area.,View items have been set on the following objects in your area:%r[iter(r(0),%r[switch(##,%l,This location (here),name(##))])])
&amp;DO_VIEW_ONE Master Commands:MC=$+view *:@switch [setq(0,strmatch(%0,*/*))][setq(1,locate(%#,switch(r(0),1,before(%0,/),%0),ehinmT))][and(not(r(0)),not(strmatch(r(1),#-*)))]=1,{@pemit&#160;%#=[setq(0,lattr(%q1/view_*))][switch(words(r(0)),0,[name(r(1))] has no view items set.,[name(r(1))] has the following view items set:%r%r[edit(u(list,iter(r(0),capitalize(after(##,_),_))),_,%b)])]},{@verb [setq(0,switch(r(0),1,edit(after(%0,/),%b,_),%0))][switch(r(1),#_*,%l,r(1))]=%#,view_%q0,You don't see that.,oview_%q0}
&amp;DO_WARN Master Commands:MC=$+warn *:switch(setr(4,pos(=,%0)),#-1,[setq(0,num(*%0))],[setq(0,num(*[setr(5,first(%0,=))]))][setq(1,last(%0,=))][setq(2,[lt(0,strlen(%q1))])][setq(3,:%b%q1)]); @switch [isdbref(%q0)]=1,{@pemit&#160;%q0=[repeat(=,75)]%r[center(%xh%xrOOC Warning%xn,75)]%r[repeat(-,75)]%r%xh%xyYou are hereby notified that continuing in this vein may result in IC death%xn[switch(%q2,1,%q3,)]%r[repeat(-,75)]%r[center(%xh%xrOOC Warning%xn,75)]%r[repeat(=,75)]; @pemit&#160;%#=You&#160;%xh+warn%xned [name(%q0)][switch(%q2,1,%q3,.)]; pemit(iter(lwho(),switch(hasflag(##,STAFF),1,##%b,)),%xr%xhGAME%xn: [name(%#)] sent a +warn to [name(%q0)][switch(%q2,1,%q3,.)]); },0,{@pemit&#160;%#=%xhGAME%xn: I couldn't find a player named '{%0}'}
&amp;DO_COMPASS Master Commands:MC=$+compass:@pemit&#160;%#=[setq(0,locate(%#,out,e))][setq(1,get(room(%#)/COMPASS))][setq(2,switch(1,sign(match(u(DATA-COMPASS_FORMATS),r(1))),COMPASS-[r(1)],COMPASS-[u(COMPASS_DEFAULT-FORMAT)]))][u([r(2)],u(COMPASS_FNC-EXIT_NAME,%#,north,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,northeast,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,east,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,southeast,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,south,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,southwest,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,west,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,northwest,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,up,r(0)),u(COMPASS_FNC-EXIT_NAME,%#,down,r(0)))]
&amp;DO_WHERE Master Commands:MC=$+where*:@switch/first strlen(%0)=0,@pemit&#160;%#=[line(+where,79)]%r[u(FN_WHERE,%#)][line(End: +where,79)],@force&#160;%#=+find [switch(left(%0,4),%bis%b,mid(%0,4,99),%0)]
&amp;DO_RTIME Master Commands:MC=$+rtime:setq(1,u(MUSHTIME)); setq(0,add(secs(),%q1)); @pemit&#160;%#=[center(line(World Time Listings,50),75)]; @pemit&#160;%#=[list(MUSH:Mush Time:-%q1|[u(TIMEZONES)],center(ljust(extract(##,2,1,:),38,.)[setq(1,trim(extract(extract(secs2time(add(last(##,:),%q0)),4,1),1,2,:),l,0))][setq(2,switch(gt(first(%q1,:),12),1,pm,am))][setq(1,switch(1,gt(first(%q1,:),12),sub(first(%q1,:),12):[last(%q1,:)],eq(first(%q1,:),0),12%q1,%q1))][rjust(%q1,5,.)]&#160;%q2 [first(secs2time(add(last(##,:),%q0)))],75),|)]; @pemit&#160;%#=[center(line(End: World Time Listings,50),75)]
&amp;DO_BG_SET Master Commands:MC=$+bg/set *:@switch match(gettext(%#,bkapprove),approved)=0,{&amp;STATSBG&#160;%#={%0}; @set&#160;%#/STATSBG=wizard; @pemit&#160;%#=%xhCharGen:%xn You have set a background -- congratulations!},{@pemit&#160;%#=%xhCharGen:%xn You have already been approved. You may not reset your background.}
&amp;DO_BG_EDIT Master Commands:MC=$+bg/edit */*:@switch match(gettext(%#,bkapprove),approved)=0,{@edit&#160;%#/STATSBG={%0},{%1}; @pemit&#160;%#=%xhCharGen:%xn You have edited your background.},{@pemit&#160;%#=You have already been approved. You may not reset your background.}
&amp;DO_BG_VIEW Master Commands:MC=$+bg/view:@pemit&#160;%#=[line(%N's Background)]%r[u(%#/STATSBG)]%r[repeat(-,75)]%r%xhApproval:%xn[switch(strlen(gettext(%#,bkapprove)),0,Not yet approved,gettext(%#,bkapprove))]%r[line(End:&#160;%N's Background)]
&amp;DO_SWEEP Master Commands:MC=$+sweep:@pemit&#160;%#=Sweeping...; @dolist lcon(%l)=@switch hasflag(##,connected)=0,{@tel ##=home}
&amp;DO_RTIME_LIST Master Commands:MC=$+rtime/list:setq(0,iter(u(TIMEZONES),edit(first(##,:),%b,_)_\([edit(extract(##,2,1,:),%b,_)]_Time\),|)); @pemit&#160;%#=[line(Currently Known TimeZones)]%r[edit(columns(%q0,37),_,%b)][switch(mod(words(%q0),2),1,%r)][line(End: Currently Known TimeZones)]
&amp;DO_RTIME_BAK Master Commands:MC=+rtime:setq(1,u(MUSHTIME)); setq(0,add(secs(),%q1)); @pemit&#160;%#=[center(line(World Time Listings,50),75)]; @pemit&#160;%#=[list(Mush Time:-%q1|Brisbane Australia:36000|Central European Time:3600|Greenwich Mean Time:0|Newfoundland:-12600|Eastern Standard:-18000|Central Standard:-21600|Mountain Standard:-25200|Pacific Standard:-28800,center(ljust(first(##,:),38,.)[setq(1,trim(extract(extract(secs2time(add(last(##,:),%q0)),4,1),1,2,:),l,0))][setq(2,switch(gt(first(%q1,:),12),1,pm,am))][setq(1,switch(1,gt(first(%q1,:),12),sub(first(%q1,:),12):[last(%q1,:)],eq(first(%q1,:),0),12%q1,%q1))][rjust(%q1,5,.)]&#160;%q2 [first(secs2time(add(last(##,:),%q0)))],75),|)]; @pemit&#160;%#=[center(line(End: World Time Listings,50),75)]
@Aconnect Master Commands:MC=@pemit&#160;%#=%r[setq(9,%xhGAME%xn:%b)][setq(0,extract(mail(%#),2,1))][switch(%q0,0,%q9You have no unread mail.,1,%q9You have 1 unread mail message.,%q9You have&#160;%q0 unread mail messages.)][setq(8,%xg%xhGAME%xn%xg:%b[u(fn_namealias,%#)]&#160;%{%#%} has connected.%xn)]; @dolist [setdiff(lwho(),%#)]={@switch/first [setr(7,[and(hasflag(%#,DARK),not(hasflag(##,WIZARD)))]:[not(u(##/WATCHON))]:[udefault(##/watchall,0)]:[gt(match(u(##/friends),%#),0)]:[and(not(hasflag(%#,WIZARD)),gt(match(u(NOWATCH),%#),0))]:[gt(match(u(%#/watchpermit),##),0)])]=0:1:1:*:0:*, {@pemit ##=[udefault(##/watchfmt,%q8,connected)]},0:1:0:1:0:*,{@pemit ##=[udefault(##/watchfmt,%q8,connected)]},0:1:0:1:1:1,{@pemit ##=[udefault(##/watchfmt,%q8,connected)]},}; &amp;VACATION&#160;%#; @force&#160;%#=+bbscan
&amp;DO_SHEET Master Commands:MC=$+sheet:setq(9,%#); @pemit&#160;%#=[line(Character Sheet For [name(%q9)])]; @pemit&#160;%#=%b[iter(u(FN_NOHIDDEN,switch(hasattr(%q9,SHEET-FMT),1,get(%q9/SHEET-FMT),0,u(SHEET-FMT))),u(SECTION-HDR,%q9,##)[u(SECTION-BODY,%q9,##)],|)]; @pemit&#160;%#=[line(End: Character Sheet For [name(%q9)])]
&amp;DO_SHEET_ONE Master Commands:MC=$+sheet *:setq(9,switch(isdbref(locate(%#,%0,*)),1,locate(%#,%0,*),0,locate(%#,*%0,p))); @switch/first [isdbref(%q9)][isstaff(%#)][controls(%#,%q9)]=0*,{@pemit&#160;%#=No such player/object '%0'},11?,{@pemit&#160;%#=[line(Character Sheet For [name(%q9)])]; @pemit&#160;%#=%b[iter(u(FN_NOHIDDEN,switch(hasattr(%q9,SHEET-FMT),1,get(%q9/SHEET-FMT),0,u(SHEET-FMT))),u(SECTION-HDR,%q9,##)[u(SECTION-BODY,%q9,##)],|)]; @pemit&#160;%#=[line(End: Character Sheet For [name(%q9)])]},1?1,{@pemit&#160;%#=[line(Character Sheet For [name(%q9)])]; @pemit&#160;%#=%b[iter(switch(hasattr(%q9,SHEET-FMT),1,get(%q9/SHEET-FMT),0,u(SHEET-FMT)),u(SECTION-HDR,%q9,##)[u(SECTION-BODY,%q9,##)],|)]; @pemit&#160;%#=[line(End: Character Sheet For [name(%q9)])]},100,{@pemit&#160;%#=Permission denied.}
&amp;DO_EXPLAIN Master Commands:MC=$+explain *:@switch isnum(%0)=0,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,gettext(%#,race))); setq(3,edit(%0,%b,_)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q3,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q3,%q0)); @switch/first [gt(strlen(%q1),0)][gt(words(lattr(%q0/%q1_RESTRICT_*)),0)][setq(9,0)][edit(iter(lattr(%q0,%q1_RESTRICT_*),setq(9,or(%q9,gt(match(last(get(%q0/##),:),gettext(%#,first(get(%q0/##),:)),|),0)))),%b,)]%q9=?10,{@pemit&#160;%#=I'm sorry, but you are not allowed to view the skill '%q1'.},0??,{setq(8,u(%q0/EXPLAIN_%q3)); setq(7,strlen(%q8))); @pemit&#160;%#=[switch(%q7,0,I'm afraid that that is an invalid ability name.,[line(Info: [capitalize(edit(%q3,_,%b))])]%r%q8%r[line(Info: [capitalize(edit(%q3,_,%b))])])]},{@pemit&#160;%#=[line(Ability Information: [edit(%q1,_,%b)])]%rValid Values: [andlist(first(get(%q0/INFO_%q1),^),|)]%rSection this ability goes in: [capitalize(%q2)]%rDoes this ability require an explanation? [extract(get(%q0/INFO_%q1),2,1,^)]%rParent 
Skill: [switch(strlen(last(get(%q0/INFO_%q1),^)),0,None,last(get(%q0/INFO_%q1),^))]%rDescription of Ability:%r[u(%q0/EXPLAIN_%q1)]%r[line(End: Ability Information: [edit(%q1,_,%b)])]}},@force&#160;%#=+kink def&#160;%0
&amp;DO_EXPLAIN_REVIEW Master Commands:MC=$+explain/review *:setq(0,switch(words(%0,:),1,%#,2,first(%0,:))); setq(1,switch(words(%0,:),1,%0,2,last(%0,:))); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); @switch/first [isdbref(%q0)][trunc(controls(%#,%q0))][strmatch(%q1,all)][gt(words(lattr(%q0/*_%q1)),0)]=0???,{@pemit&#160;%#=No such player.},?0??,{@pemit&#160;%#=Permission denied},??00,{@pemit&#160;%#=No such explanation.},??01,{@dolist [iter(%q1,EXPLAIN_##)]=@pemit&#160;%#=[line(CharGen Explanation: [capitalize(edit(rest(##,_),_,%b))])]%r[get(%q0/##)]%r[line(End: CharGen Explanation: [capitalize(edit(rest(##,_),_,%b))])]},??1?,{@dolist [lattr(%q0/EXPLAIN*)]=@pemit&#160;%#=[line(CharGen Explanation: [capitalize(edit(rest(##,_),_,%b))])]%r[get(%q0/##)]%r[line(End: CharGen Explanation: [capitalize(edit(rest(##,_),_,%b))])]}
&amp;DO_EXPLAIN_LIST Master Commands:MC=$+explain/list:@pemit&#160;%#=[line(Review Of CharGen Explanations)]%r[edit(columns(iter(lattr(%#/EXPLAIN*),capitalize(rest(##,_),_)),25),_,%b)]%r[line(End: Review Of CharGen Explanations)]
&amp;DO_EXPLAIN_LIST_OTHER Master Commands:MC=$+explain/list *:setq(0,switch(isdbref(locate(%#,%0,*)),1,locate(%#,%0,*),locate(%#,*%0,*))); @switch/first [isdbref(%q0)][trunc(controls(%#,%q0))]=0?,{@pemit&#160;%#=No such player.},?0,{@Pemit&#160;%#=Permission denied.},{@pemit&#160;%#=[line(Review Of CharGen Explanations For [name(%q0)])]%r[edit(columns(iter(lattr(%q0/EXPLAIN*),capitalize(rest(##,_),_)),25),_,%b)]%r[line(End: Review Of CharGen Explanations For [name(%q0)])]}
&amp;DO_STAFF Master Commands:MC=$+staff:@pemit&#160;%#=[line(On-Line Staff For [mudname()])]%r[center(Name,21)][center(%b%bIdle,6)][center(Bit,12)][center(Position,32)]%r[repeat(-,75)]; @pemit&#160;%#=[list(filter(FN_VISSTAFF,u(ADMINS_LIST)),left(ljust(u(FN_IDLENAME,##),21),21) [rjust(fmtidle(##),5)]%b%b%b-Admin-%b%b[switch(hasflag(##,HEAD),1,*,%b)][mid(get(##/BIT),0,38)])]; @pemit&#160;%#=[list(filter(FN_VISSTAFF,u(JUDGES_LIST)),left(ljust(u(FN_IDLENAME,##),21),21) [rjust(fmtidle(##),5)]%b%b%b-Bard-%b%b%b[switch(hasflag(##,HEAD),1,*,%b)][mid(get(##/BIT),0,38)])]; @pemit&#160;%#=[list(filter(FN_VISSTAFF,u(WIZARDS_LIST)),left(ljust(u(FN_IDLENAME,##),21),21) [rjust(fmtidle(##),5)]%b%b%b-Coder-%b%b[switch(hasflag(##,HEAD),1,*,%b)][mid(get(##/BIT),0,38)])]; @pemit&#160;%#=[line(* denotes a sphere coordinator)]
&amp;DO_STAFF_ALL Master Commands:MC=$+staff/all:@pemit&#160;%#=[line(On-Line Staff For [mudname()])]%r[center(Name,21)][center(%b%bIdle,6)][center(Bit,12)][center(Position,32)]%r[repeat(-,75)]; @pemit&#160;%#=[list(u(ADMINS_LIST),left(ljust(u(FN_IDLENAME,##),21),21) [switch(u(FN_VISSTAFF,##),1,rjust(fmtidle(##),5),%b%bOff)]%b%b%b-Admin-%b%b[switch(hasflag(##,HEAD),1,*,%b)][mid(get(##/BIT),0,38)])]; @pemit&#160;%#=[list(u(JUDGES_LIST),left(ljust(u(FN_IDLENAME,##),21),21) [switch(u(FN_VISSTAFF,##),1,rjust(fmtidle(##),5),%b%bOff)]%b%b%b-Bard-%b%b%b[switch(hasflag(##,HEAD),1,*,%b)][mid(get(##/BIT),0,38)])]; @pemit=%#=[list(u(WIZARDS_LIST),left(ljust(u(FN_IDLENAME,##),21),21) [switch(u(FN_VISSTAFF,##),1,rjust(fmtidle(##),5),%b%bOff)]%b%b%b-Coder-%b%b[switch(hasflag(##,HEAD),1,*,%b)][mid(get(##/BIT),0,38)])]; @pemit&#160;%#=[line(* denotes a sphere coordinator)]
&amp;DO_SPEND Master Commands:MC=$+spend *:setq(0,edit(%0,%b,_)); setq(1,u(parent(me)/FN_IN_WHICH_SECTION,%q0)); setq(4,u(parent(me)/FN_FULL_NAME,%q1,%q0)); setq(5,edit(%q4,_,%b)); setq(0,getabil(%#,%q4,curr)); setq(2,getabil(%#,%q4,max)); @switch/first [gt(%q0,0)][strmatch(%q1,POOLS)]=?0,{@pemit&#160;%#=You may not spend that ability.},0?,{@pemit&#160;%#=You don't have enough points left in that ability to spend it!},{setq(0,sub(%q0,1)); &amp;STATS&#160;%#=[setabil(%#,%0,%q0/%q2)]; @pemit/list [setunion(setdiff(iter(lwho(),switch(isstaff(##),1,##)),%#),setdiff(lcon(%l),%#))]=%n just spent a point of&#160;%q5.; @pemit&#160;%#=You spent a point of&#160;%q5.}
&amp;DO_ROLL Master Commands:MC=$+roll *:setq(0,froll(%0)); setq(1,switch(words(%0,=),1,,last(%0,=))); setq(3,first(%q0)); setq(6,extract(%q0,2,1)); setq(4,extract(%q0,3,1)); setq(5,extract(%q0,4,words(%q0))); iter(%q5,setq(7,%q7 [switch(1,##,%xh%xr-1-%xn,lt(##,%q4),%xh%xb##%xn,&lt;%xh%xg##%xn&gt;)])); @pemit/c&#160;%l=%n rolls&#160;%q3 dice[switch(gt(words(%q5),0),1,%bat a difficulty of&#160;%q4 (%q7),:)],%rachieving&#160;%xh%xc%q6%xn successes, resulting in [switch(1,lt(%q6,0),%xh%xra botch!%xn,eq(%q6,0),%xh%xma failure%xn,eq(%q6,1),%xh%xga marginal success.%xn,eq(%q6,2),%xh%xga moderate success.%xn,eq(%q6,3),%xh%xga complete success.%xn,eq(%q6,4),%xh%xgan exceptional success!%xn,eq(%q6,5),%xh%xga phenomenal success!%xn,%xh%xgan unbelievable success!%xn)]
&amp;DO_PROLL Master Commands:MC=$+proll *:setq(0,froll(%0)); setq(1,switch(words(%0,=),1,,last(%0,=))); setq(3,first(%q0)); setq(6,extract(%q0,2,1)); setq(4,extract(%q0,3,1)); setq(5,extract(%q0,4,words(%q0))); iter(%q5,setq(7,%q7 [switch(1,##,-1-,lt(##,%q4),##,&lt;##&gt;)])); @pemit/list [setunion(iter(lcon(%l),switch(isstaff(##),1,##)),%#)]=%n rolls&#160;%q3 dice[switch(gt(words(%q5),0),1,%bat a difficulty of&#160;%q4:%r%q7,:)]%rAchieving&#160;%q6 successes, resulting in [switch(1,lt(%q6,0),a botch!,eq(%q6,0),a failure,eq(%q6,1),a marginal success.,eq(%q6,2),a moderate success.,eq(%q6,3),a complete success.,eq(%q6,4),an exceptional success!,eq(%q6,5),a phenomenal success!,an unbelievable success!)]
&amp;DO_WHO Master Commands:MC=$+who:@pemit&#160;%#=[line(mudname() +Who Listing)]%r%xh[ljust(Name,22)] Sex Conn Idle [ljust(Location,29)] DBRef%xn;@pemit&#160;%#=[list(filter(FN_VISSTAFF,lwho()),u(FN_WHO_FMT,##))]; @pemit&#160;%#=[line(End: [mudname()] +Who Listing)]
&amp;DO_2WHO Master Commands:MC=$+2who:setq(8,filter(FN_VISSTAFF,lwho())); setq(9,u(FN_XLIST,%q8,2)); @pemit&#160;%#=[line(mudname() +2Who Listing)]; @pemit&#160;%#=[edit(columns(iter(lnum2(1,words(%q9)),setq(2,extract(%q9,##,1))[switch(%q2,_,_,ljust(edit([u(FN_IDLENAME,%q2)],%b,_),22,_)_[fmtidle(%q2)])]),37),_,.)]; @pemit&#160;%#=[line(End: [mudname()] +2Who Listing)]
&amp;DO_3WHO Master Commands:MC=$+3who:setq(8,filter(FN_VISSTAFF,lwho())); setq(9,u(FN_XLIST,%q8,3)); @pemit&#160;%#=[line(mudname() +3Who Listing)]; @pemit&#160;%#=[edit(columns(iter(lnum2(1,words(%q9)),setq(2,extract(%q9,##,1))[switch(%q2,_,_,edit(u(FN_IDLENAME,%q2),%b,_))]),25),_,%b)]; @pemit&#160;%#=[line(End: [mudname()] +3Who Listing)]
@Adisconnect Master Commands:MC=setq(9,%xr%xhGAME%xn%xr:%b[u(fn_namealias,%#)]&#160;%{%#%} has disconnected.%xn); @dolist [setdiff(lwho(),%#)]={@switch/first [and(hasflag(%#,DARK),not(hasflag(##,WIZARD)))]:[not(u(##/WATCHON))]:[udefault(##/watchall,0)]:[gt(match(u(##/friends),%#),0)]:[and(not(hasflag(%#,WIZARD)),gt(match(u(NOWATCH),%#),0))]:[gt(match(u(%#/watchpermit),##),0)]=0:1:1:*:0:*, {@pemit ##=[udefault(##/watchfmt,%q9,disconnected)]},0:1:0:1:0:*,{@pemit ##=[udefault(##/watchfmt,%q9,disconnected)]},0:1:0:1:1:1,{@pemit ##=[udefault(##/watchfmt,%q9,disconnected)]},}
&amp;ADDWATCHER Master Commands:MC=$+watch/add *:@swi [type(*%0)]=PLAYER,{&amp;friends&#160;%#=[setunion(get(%#/friends),num(*%0))];@pemit&#160;%#=Watch&gt; You have added [name(*%0)] to your watch list.},{@pemit&#160;%#=Watch&gt; Sorry,&#160;%0 isn't a player.}
&amp;DELWATCHER Master Commands:MC=$+watch/del *:&amp;friends&#160;%#=[remove(get(%#/friends),num(*%0))];@pemit&#160;%#=Watch&gt; You have removed [Name(*%0)] from your watch list.
&amp;HIDEWATCHER Master Commands:MC=$+watch/hide:&amp;NOWATCH me=[setunion(v(NOWATCH),num(%#))];@pemit&#160;%#=Watch&gt; You are now hiding from the Watcher code.
&amp;UNHIDEWATCHER Master Commands:MC=$+watch/unhide:&amp;NOWATCH me=[remove(get(me/NOWATCH),%#)];@pemit&#160;%#=Watch&gt; Your login and logouts may now be monitored.
&amp;WATCH Master Commands:MC=$+watch:@pemit&#160;%#=%xhGAME%xn: Watched players currently connected: [iter(setinter(u(%#/friends),objeval(%#,lwho())),[switch(conn(##),-1,,name(##) |)])]
&amp;WHOWATCHER Master Commands:MC=$+watch/who:@pemit&#160;%#=Watch&gt; You are currently watching for [iter(u(%#/friends),switch(type(##),PLAYER,{%r%t- [name(##)](##)[repeat(.,sub(28,add(strlen(name(##)),strlen(##))))][switch(objeval(%#,conn(##)),-1,Offline,Online)]},))]
&amp;HELPWATCHER Master Commands:MC=$+watch/help:@pemit&#160;%#=Watch&gt; The following are commands available for +watch:%r%r+watch [space(11)]-- shows you who is connected that you are watching.%r+watch/on &lt;default&gt;- turns on the watch code after it has been turned off.%r+watch/off [space(7)]-- turns off the Watch without removing your list.%r+watch/who [space(7)]-- displays everyone on your watch list and connect status.%r+watch/hide [space(6)]-- hides you from the +watch.%r+watch/unhide [space(4)]-- allows others to watch your logins and disconnects.%r+watch/per &lt;name&gt; -- permits &lt;name&gt; to see you while hiding.%r+watch/rem &lt;name&gt; -- removes &lt;name&gt; from seeing you while hiding.%r+watch/add &lt;name&gt;[space(1)]-- adds &lt;name&gt; to your watch list.%r+watch/del &lt;name&gt;[space(1)]-- removes &lt;name&gt; from your watch list.%r+watch/page &lt;message&gt; -- sends &lt;message&gt; as a page to those on your watch list.%r+watch/all on [space(4)]-- allows you to watch all logins and disconnects.%r+watch/all off [space(3)]-- prevents you from watching 
all logins and disconnects.%r%rYou may also set the format by which you see logins and disconnects. To do this, set &amp;WATCHFMT me=%%n has&#160;%%0. Other useful commands you might add could be&#160;%[time()],&#160;%%# or whatever.%r%rAlso, you may set an AWATCH attribute on yourself that will be triggered when someone logs in.%r%rWatch&gt; +watch was coded by Alton/Cedric@Tir Rauhd and Watchman@Haven. It may be copied freely.
&amp;NOWATCH Master Commands:MC=#0 #2294 #232 #4 #494 #956
&amp;ALLWATCHER Master Commands:MC=$+watch/all *:@swi&#160;%0=ON,{&amp;watchall&#160;%#=1;@pemit&#160;%#=Watch&gt; You are now watching all logins and disconnects.},{&amp;watchall&#160;%#;@pemit&#160;%#=Watch&gt; You are no longer watching all logins and disconnects.}
&amp;PERMITWATCH Master Commands:MC=$+watch/per *:@swi [type(*%0)]=PLAYER,{&amp;watchpermit&#160;%#=[setunion(get(%#/watchpermit),num(*%0))];@pemit&#160;%#=Watch&gt; You have added [name(*{%0})] to your permission list,&#160;%rfor when you are hidden from the watch command.},{@pemit&#160;%#=Watch&gt; Sorry,&#160;%0 isn't a player.}
&amp;UNPERMWATCH Master Commands:MC=$+watch/rem *:&amp;watchpermit&#160;%#=[remove(get(%#/watchpermit),num(*%0))];@pemit&#160;%#=Watch&gt; You have removed [name(*%0)] from your hidden permission list.
&amp;WATCHALERT Master Commands:MC=@pemit&#160;%1=[udefault(%1/friends,Watch&gt; [name(%0)](%0) has connected.,connected)];@trig/quiet&#160;%0/awatch=[name(%1)],&#160;%1
&amp;WPAGE_CMD Master Commands:MC=$+watch/page *:@dolist get(%#/friends)=@switch objeval(%#,hasflag(##,connect))=1,{@fo&#160;%#=page ##={%0}},0,
&amp;WATCHON Master Commands:MC=$+watch/on:@pemit&#160;%#=Watch&gt; Watcher code is now turned on.;&amp;WATCHON&#160;%#=0
&amp;WATCHOFF Master Commands:MC=$+watch/off:@pemit&#160;%#=Watch&gt; Watcher code is now turned off.;&amp;watchon&#160;%#=1
&amp;TOTCONNECT Master Commands:MC=27
&amp;TOTTIME Master Commands:MC=847802689
&amp;WATCHFOR_NAME Master Commands:MC=$+watchfor *:@pemit&#160;%#=New +watch system type '+watch/help' for help.
&amp;WATCHNOT_NAME Master Commands:MC=$+watchnot *:@pemit&#160;%#=New +watch system type '+watch/help' for help.
&amp;WATCHLIST_HELPDIRECT Master Commands:MC=$+watchlist:@pemit&#160;%#=New +watch system type '+watch/help' for help.
&amp;DO_HOWL Master Commands:MC=$+howl *:@switch strmatch(:;|,*[left(%0,1)]*)=1,@pemit&#160;%#=%xhGAME%xn: Sorry, no poses in +howl for now.,{@switch [or(isstaff(%#),hasabil(%#,Can_Howl))]=1,{setq(0,setunion(u(FN_LEXITS_LOC,%l),)); setq(0,setunion(iter(%q0,u(FN_LEXITS_LOC,##)),%q0)); setq(0,setunion(iter(%q0,u(FN_LEXITS_LOC,##)),%q0)); setq(0,setunion(iter(%q0,u(FN_LEXITS_LOC,##)),%q0)); setq(1,iter(%q0,lcon(##))); setq(2,filter(FN_HOWL_HEAR,lwho())); setq(3,setdiff(%q1,%q2)); setq(4,setinter(%q2,lcon(%l))); setq(2,setdiff(%q2,%q4)); setq(5,setinter(%q3,lcon(%l))); setq(3,setdiff(%q3,%q5)); @pemit/list&#160;%q2=A howl is heard: &quot;%0&quot;; @pemit/list&#160;%q3=A long howl can be heard in the near distance.; @pemit/list&#160;%q4=%n howls &quot;%0&quot;; @pemit/list&#160;%q5=%N howls loudly.},0,{@pemit&#160;%#=%xhGAME%xn: Permission denied.}}
&amp;DO_SHIFT_LIST Master Commands:MC=$+shift/list:setq(0,gettext(%#,race)); setq(1,gettext(%#,tribe)); setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(3,switch(words(lattr(%q2/ADJUST_%q1_*)),0,lattr(%q2/ADJUST_RACE_*),lattr(%q2/ADJUST_%q1_*))); setq(3,sort(%q3)); @switch/first [words(%q3)]=0,{@pemit&#160;%#=Permission denied.},{@pemit&#160;%#=[line(Available Forms)]%r[edit(columns(iter(%q3,capitalize(extract(##,3,words(##,_),_),_)),25),_,%b)]%r[line(End: Available Forms)]}
&amp;DO_SHIFT Master Commands:MC=$+shift *:setq(0,gettext(%#,race)); setq(1,gettext(%#,tribe)); setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(4,switch(words(lattr(%q2/ADJUST_%q1_*)),0,RACE,ucstr(%q1))); setq(3,sort(lattr(%q2/ADJUST_%q4_*))); setq(6,edit(capitalize(%0),%b,_)); setq(5,ADJUST_%q4_%q6); setq(9,u(parent(me)/FN_GET_SECTION,%#,FORMS)); @switch/first [words(%q3)][gt(match(%q3,%q5),0)][gt(strlen(%q9),0)]=0??,{@pemit&#160;%#=Permission denied.},?0?,{@pemit&#160;%#=No such form.},??0,{&amp;STATS&#160;%#=[u(parent(me)/FN_SET_SECTION,%#,FORMS,edit(iter(get(%q2/%q5),first(##,|):[getabil(%#,first(##,|))]|,^),|%b,|))]; setq(9,u(parent(me)/FN_GET_SECTION,%#,FORMS)); &amp;STATS&#160;%#=[setabil(%#,form,%q6)]; @dolist/delimit ^ {[get(%q2/%q5)]}=&amp;STATS&#160;%#=[setabil(%#,first(##,|),add(last(grab(%q9,first(##,|)*,|),:),last(##,|)))]; @wait 0={@fo&#160;%#=+desc&#160;%q6; @pemit&#160;%#=Your current form is now [edit(%q6,_,%b)]; @pemit/c&#160;%l=%n's form blurs and a new shape steps forward.}},{&amp;STATS&#160;%#=[setabil(%#,form,%q6)]; @dolist/delimit ^ {[get(%q2/%q5)]}=&amp;
STATS&#160;%#=[setabil(%#,first(##,|),add(last(grab(%q9,first(##,|)*,|),:),last(##,|)))]; @wait 0={@fo&#160;%#=+desc&#160;%q6; @pemit&#160;%#=Your current form is now [edit(%q6,_,%b)]; @pemit/c&#160;%l=%n's form blurs and a new shape steps forward.}}
&amp;DO_SHIFT_RESET Master Commands:MC=$+shift/reset:setq(0,gettext(%#,race)); setq(1,gettext(%#,tribe)); setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(4,switch(words(lattr(%q2/ADJUST_%q1_*)),0,RACE,ucstr(%q1))); setq(3,sort(lattr(%q2/ADJUST_%q4_*))); @switch/first [words(%q3)][strmatch(gettext(%#,form),Homid)]=0?,{@pemit&#160;%#=Permission denied.},?0,{@pemit&#160;%#=You must be in homid form before your stats may be reset.},{&amp;STATS&#160;%#=[u(parent(me)/FN_SET_SECTION,%#,FORMS,edit(iter(get(%q2/%q5),first(##,|):[getabil(%#,first(##,|))]|,^),|%b,|))]; @pemit&#160;%#=Your baseline stats have been reset.}
&amp;DO_VACATION Master Commands:MC=$+vacation *:setq(0,extract(%0,1,3) 23:59:59 [extract(%0,4,1)]); @switch [convtime(%q0)][lt(convtime(%q0),add(convtime(time()),mul(u(MAX_VACATION_DAYS) ,86400)))]=-1?,{@pemit&#160;%#=The day and date was entered incorrectly.%rYou must use a three character abbreviation for the day and month,%rAND the day you enter MUST match the date you enter.%r%rValid examples include:%r%tThu Oct 24 1996%r%tSat Apr 26 1997%r%tTue Sep 22 1998},*0,{@pemit&#160;%#=I'm sorry, but in order to take a vacation longer than [u(MAX_VACATION_DAYS)] days, you must have a wizard set the VACATION flag on you.},{@pemit&#160;%#=Logging in while you're on vacation WILL clear your vacation setting, don't forget. But for now, you're on vacation!&#160;:); &amp;VACATION&#160;%#=%q0}
&amp;DO_OOC Master Commands:MC=$ooc *:@pemit/c&#160;%l=%xm&lt;OOC&gt;&#160;%N[switch(mid(%0,0,1),:,%b[mid(%0,1,strlen(%0))],;,[mid(%0,1,strlen(%0))],%bsays%, &quot;{%0}&quot;)]
&amp;DO_SWITCHDESC_BAK Master Commands:MC=$++desc *:@switch/first [isdbref(u(%#/DESCS))][words(lattr(u(%#/DESCS)/DESC-[setr(0,edit(ucstr(%0),%b,_))]))]=0*,{@pemit&#160;%#=I'm sorry, but you are not yet set to use the multidescer. Please type '+desc/setup' before continuing.},?0,{@pemit&#160;%#=I don't have any such description {'%0'}},11,{@cpattr [u(%#/DESCS)]/DESC-%q0=%#/desc; @pemit/c&#160;%l=[u(u(%#/DESCS)/EMIT-%q0)]; @switch [u(u(%#/DESCS)/NAME-%q0)]=?*,{@name&#160;%#=[u(u(%#/DESCS)/NAME-%q0)]},{@name&#160;%#=[u(u(%#/DESCS)/ROOTNAME)]}; @dolist setdiff(lattr(u(%#/DESCS)/*-%q0),EMIT-%q0 NAME-%q0 DESC-%q0)={@cpattr u(%#/DESCS)/##=%#/[extract(##,1,sub(words(##,-),1),-)]}; @pemit&#160;%#=The current description is now '{[capstr(lcstr(edit(%q0,_,%b)))]}'.},1?{@pemit&#160;%#=How on earth did you get TWO descriptions with the same name on you?}
&amp;DO_WHERE_BAK Master Commands:MC=+where:@pemit&#160;%#=[center(line(Where is everybody?,50),75)]; @pemit #0=setq(0,sort(iter(lwho(),switch([orflags(##,DU)][hasflag(loc(##),UNFINDABLE)][isstaff(%#)],??1,loc(##),000,loc(##))))); @pemit #0=iter(%q0,setq(3,match(%q2,*:##))[setq(4,extract(%q2,%q3,1))][setq(2,switch(%q3,0,%q2 1:##,replace(%q2,%q3,[add(first(%q4,:),1)]:##)))]); @pemit #0=setq(2,revwords(sort(filter(FN_WHERE_ENOUGH,%q2)))); @pemit&#160;%#=[list(%q2,center(ljust(mid(name(last(##,:)),0,44),46,.)[rjust(first(##,:),4,.)],75))]; @pemit&#160;%#=[center(line(End: Where is everybody?,50),75)];
&amp;DO_TIME Master Commands:MC=$+time*:@switch mid(%0,0,1)=o,,{@switch strlen(%0)=0,@force&#160;%#=+today,@pemit&#160;%#=[switch(setr(8,num(*%0)),#-1,[setq(1,0)][setq(9,RL time where the MUSH server is)],[switch(isnum(setr(1,u(%q8/TIMEZONE))),1,setq(1,add(u(MUSHTIME),mul(%q1,3600))),[setq(7,u(TIMEZONES))][switch(setr(6,match(%q7,%q1:*,|)),0,setq(1,0),setq(1,add(u(MUSHTIME),last(extract(%q7,%q6,1,|),:))))])][setq(9,fullname(%q8))])][setq(0,secs())][center(ljust(%q9,38,.)[setq(1,trim(extract(extract(secs2time(add(%q1,%q0)),4,1),1,2,:),l,0))][setq(2,switch(gt(first(%q1,:),12),1,pm,am))][setq(1,switch(1,gt(first(%q1,:),12),sub(first(%q1,:),12):[last(%q1,:)],eq(first(%q1,:),0),12%q1,%q1))][rjust(%q1,5,.)]&#160;%q2 [first(secs2time(add(%q1,%q0)))],75)]}
&amp;DO_WHO_COMPAT Master Commands:MC=$+who *:@force&#160;%#=+finger&#160;%0
&amp;DO_HANGOUTS Master Commands:MC=$+hangout*:setq(9,%xhGAME%xn:%b); switch(setr(2,pos(/,%0)),#-1,,setq(0,mid(%0,%q2,1))[switch(setr(2,pos(%b,%0)),#-1,setq(1,loc(%#)),setq(1,mid(%0,%q2,10)))]); setq(2,fullname(%q1)); @pemit&#160;%#=switch(%q0,,[line(+hangouts,78)]%r[trim(u(FN_HANGOUTS,%#,0), r)][line(End: +hangouts,78)],a,[line(+hangouts/all,79)]%r[u(FN_HANGOUTS,%#,1)][line(End: +hangouts/all,79)],u,%q9[switch(setr(4,member(u(HANGOUTS),%q1)),0,[fullname(%q1)] is not a +hangout.,[switch(or(isstaff(%#),streq(owner(%q1),%#)),0,You do not own&#160;%q2.,%q2 was deleted from the +hangouts-list.[set(parent(parent(me)),HANGOUTS:[ldelete(u(HANGOUTS),%q4)])])])],r,%q9[switch(member(u(HANGOUTS),%q1),0,[switch(or(isstaff(%#),streq(owner(%q1),%#)),0,You do not own&#160;%q2.,%q2 was registered as +hangout.[set(parent(parent(me)),HANGOUTS:[cat(u(HANGOUTS),&#160;%q1)])])],%q2 already is registered as a +hangout.)],%q9unknown +hangout subcommand.)
&amp;DO_PROVE Master Commands:MC=$+prove *=*&gt;*:switch(left(%2,1),=,[setq(4,mid(%2,1,99))][setq(3,&gt;=)],[setq(4,%2)][setq(3,&gt;)]); switch(setr(5,pos(+,%1)),#-1,setq(1,%1),[setq(1,left(%1,sub(%q5,1)))][setq(2,mid(%1,%q5,99))]); switch(strlen(%q2),0,setq(8,getabil(%#,%q1)),setq(8,add(getabil(%#,%q1),getabil(%#,%q2)))); setq(7,switch(%q3,&gt;=,gte(%q8,%q4),gt(%q8,%q4))); setq(9,%xhGAME%xn: [name(%#)]'s [capitalize(%q1)][switch(strlen(%q2),0,%bis,+[capitalize(%q2)] are)] [switch(%q3,&gt;=,at least,greater than)]&#160;%q4.[switch(%q7,0,%b%b%xhNot!%xn)]); @switch/first ucstr(%0)=HERE,@emit&#160;%q9,{setq(0,iter(%0,[switch(setr(0,num(*##)),#-1,##,%q0)])); @dolist setunion(%#,%q0)={@switch left(##,1)=#,@pemit *##=%q9,@pemit&#160;%#=%xhGAME%xn: '##' No such player...}}
&amp;DO_BG_ADD Master Commands:MC=$+bg/add *:@switch match(gettext(%#,bkapprove),approved)=0,{set(%#,statsbg:[strcat([u(%#/statsbg)]%b,%0)]); @pemit&#160;%#=%xhGAME%xn: Added.}, @pemit&#160;%#=%xhGAME%xn: You may not add to your background after approval.
&amp;DO_DESC_HELP Master Commands:MC=$+desc/help:@pemit&#160;%#=%xhGAME%xn: What you're interested in is in&#160;%xh+help multidescer%xn.;@force&#160;%#=+help multidescer
&amp;DO_SHIFT_ENQ Master Commands:MC=$+shift:setq(0,gettext(%#,race)); setq(1,gettext(%#,tribe)); setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(4,switch(words(lattr(%q2/ADJUST_%q1_*)),0,RACE,ucstr(%q1))); setq(3,sort(lattr(%q2/ADJUST_%q4_*))); setq(6,edit(capitalize(%0),%b,_)); setq(5,ADJUST_%q4_%q6); setq(8,strlen(%q5)); setq(7,iter(%q3,capitalize(mid(##,%q8,99)))); setq(9,%xhGAME%xn:%b); @pemit&#160;%#=%q9[switch(strlen(%q7),0,Your character is not a shifter.,Valid forms are:&#160;%q7)]
&amp;FN_WHO_FMT Master Commands:MC=[ljust(u(FN_IDLENAME,%0),22)]%b[switch(get(%0/SEX),M*,m,F*,f,?)][switch(hasflag(%0,WIZARD),1,/c,[switch(isstaff(%0),1,[switch(hasflag(%0,head),1,/a,/s)],[switch(hasflag(%0,HAVEN),1,/h,%b%b)])])] [rjust(fmtconn(%0),4)] [rjust(fmtidle(%0),4)] [switch(isstaff(%#)[or(hasflag(%0,unfindable), not(cansee(%#,&#160;%0)))][or(hasflag(loc(%0),unfindable), not(cansee(%#, loc(%0))))],1??,ljust(mid(stripansi(name(loc(%0))),0,29),29) [loc(%0)][switch(hasflag(loc(%0),JUMP_OK),1,J,)],?1?,&lt;Unfindable&gt;,??1,&lt;Unfindable&gt;,ljust(mid(stripansi(name(loc(%0))),0,29),29) [loc(%0)][switch(hasflag(loc(%0),JUMP_OK),1,J,)])]
&amp;FN_WHERE Master Commands:MC=%b[setq(0,sort(iter(lwho(),switch([or(orflags(##,DU), not(cansee(%0, ##)))][or(hasflag(loc(##),UNFINDABLE), not(cansee(%0, loc(##))))][isstaff(%0)],??1,loc(##),000,loc(##)))))][setq(0,rest(setunion(#,%q0)))][iter(%q0,[ljust(%xh[left(stripansi(name(##)),22)]%xn[switch(or(isstaff(%0),hasflag(##,JUMP_OKAY)),1,%b&lt;##&gt;)],32,.)][iter(lcon(##),switch([hasflag(##,CONNECTED)][isstaff(%0)][orflags(##,DU)],0*,,11*,[ljust(u(FN_IDLENAME,##),16)],100,[ljust(u(FN_IDLENAME,##),16)]))]%r)]
&amp;DO_STATS Master Commands:MC=$+stats *:setq(0,edit(%0,/,:)); @switch [and(isstaff(%#),gt(words(%q0,:),1),isdbref(num(*[first(%q0,:)])))]=1,@pemit&#160;%#=[line(Partial stats for [name(*[first(%q0,&#160;:)])])]%r%b[u(FN_STATS,num(*[first(%q0,:)]),rest(%q0,:))]%r[line(End: Partial stats for [name(*[first(%q0,&#160;:)])])],@pemit&#160;%#=[line(Partial stats for:&#160;%N)]%r%b[u(FN_STATS,%#,%0)]%r[line(End: Partial stats for:&#160;%N)]
&amp;DO_STATSLIST Master Commands:MC=$+stats/list:@pemit&#160;%#=Available +stats sections: [squish(edit(u(FN_NOHIDDEN, switch(hasattr(%#, SHEET-FMT), 1, get(%#/SHEET-FMT), 0, u(SHEET-FMT))), |,&#160;%b))]
&amp;DO_STATSLIST_ONE Master Commands:MC=$+stats/list *:@switch/first [isstaff(%#)][isdbref(setr(0, num(*%0)))]=0?, @pemit&#160;%#=Permission denied.,&#160;?0, @pemit&#160;%#=Invalid player., @pemit&#160;%#=Available +stats sections for&#160;%xh[name(%q0)]%xn: [squish(edit(u(FN_NOHIDDEN, switch(hasattr(%q0, SHEET-FMT), 1, get(%q0/SHEET-FMT), 0, u(SHEET-FMT))), |,&#160;%b))]
&amp;FN_HANGOUTS Master Commands:MC=[setq(0,filter(FN_FILTERVISIBLE,lwho()))]%b[iter(u(HANGOUTS),switch(%1[words(setr(1,setinter(lcon(##),%q0)))],00,,[left(ljust(%xh[name(##)]%xn[switch(or(isstaff(%0),hasflag(##,JUMP_OK)),1,%b&lt;##&gt;)],28,.),28)][rjust(words(%q1),2,.)][switch(or(not(hasflag(##,UNFINDABLE)),isstaff(%0)),1,:%b[iter(%q1,switch(or(isstaff(%0),not(orflags(##,DU))),[left(u(FN_IDLENAME,##),10)]%b%b))])]%r))]
&amp;DO_CHECK Master Commands:MC=$+check*:@switch switch(and(isstaff(%#),strlen(%0)),1,isdbref(setr(0,ifelse(isdbref(setr(0,locate(%#,%0,*))),%q0,locate(%#,*%0,*)))),[setq(0,%#)]1)=0,{@switch streq(%0,mail)=0,@pemit&#160;%#=I don't see that here.,{@switch strlen(%0)=5,@force&#160;%#=+checkmail}},{@pemit&#160;%#=[line(Character Check: [name(%q0)])]%r[u(FN_CHECK_CHARGEN,%q0)][line(Racial)]%r[u(FN_CHECK_RACE_[gettext(%q0,[switch(hasabil(%q0,TempRace),1,Temprace,Race)])],%q0)]Race:%t[gettext(%q0,Race)]%t%b%b|%bTempRace:%t[gettext(%q0,TempRace)]%b|%bSphere:%b[ifelse(hasabil(%q0,temprace),gettext(%q0,temprace),%xrhave admin set%xn)]%r[line(Technical)]%r[u(FN_CHECK_OPTIONAL,%q0)]%r[line(End: Character Check: [name(%q0)])]%r%r[u(FN_FINGER11,0,%q0)]}
&amp;DO_AURASET Master Commands:MC=$+aura/set *=*:@switch and(gte(%0,1),lte(%0,5))=1,{&amp;AURA-[add(%0,0)]&#160;%#=%1;@pemit&#160;%#=Aura level [add(%0,0)] set.},@pemit&#160;%#=Please use a level between 1 and 5.
&amp;FN_GETAURA Master Commands:MC=[switch([hasattr(%0,AURA-%1)][lt(%1,5)],01,u(FN_GETAURA,%0,add(%1,1)),get(%0/AURA-%1))]
&amp;DO_AURA Master Commands:MC=$+aura *:@switch/first [isstaff(%#)]:[setr(0,locate(%#,%0,himn[ifelse(isstaff(%#),pa,)]))]=*:#-2,@pemit&#160;%#=I don't know which you mean!,*:#-1,@pemit&#160;%#=I don't see that here.,1:*,@pemit&#160;%#=u(FN_SHOW_AURA,%#,%q0,5),*:%#,@pemit&#160;%#=u(FN_SHOW_AURA,%#,%#,5),{@pemit&#160;%#=[switch([gte(getabil(%#,Awareness),3)][hasrxlevel(%#,Obf2)]:[match(v(AURASCAN-%#),%q0 *,|)],00:0,You can't see auras.,01:0,[u(FN_SHOW_AURA,%#,%q0,[extract(froll([add(getabil(%#,Perception),getabil(%#,Empathy))]=8),2,1)])][set(me,AURASCAN-%#:[setunion(v(AURASCAN-%#),%q0 [secs()],|)])],*:0,[u(FN_SHOW_AURA,%#,%q0,[extract(froll([add(getabil(%#,Perception),getabil(%#,Awareness))]=5),2,1)])][set(me,AURASCAN-%#:[setunion(v(AURASCAN-%#),%q0 [secs()],|)])],You already checked [name(%q0)]'s aura.)]}
&amp;DO_AURAPOSE Master Commands:MC=$+aura/pose *:@pemit&#160;%#=%xh&lt;%xnIn your aura%xh&gt;%xn&#160;%0;@pemit/list filter(FN_CANSEEAURAS,setdiff(%l [lcon(%l)],%#))=%xh&lt;%xnIn&#160;%N's aura%xh&gt;%xn&#160;%0
&amp;FN_CANSEEAURAS Master Commands:MC=[and(cansee(%0,%#),or(hasrxlevel(%0,Obf2),gte(getabil(%0,Awareness),3)))]
&amp;FN_SHOW_AURA Master Commands:MC=[switch(%2,-*,[line([name(%1)]'s aura)]%r Aspect&#160;: [randword(v(RAND_ASPECTS),|)]%r [iter(lnum(1,die(1,5)),Level ##: [randword(v(RAND_AURAS),|)]%r)][line(End: [name(%1)]'s Aura)][switch(cansee(%1,%0),1,pemit(%1,[name(%0)] is giving you a long look.))],0,You fail to see the aura.,[line([name(%1)]'s aura)]%r Aspect&#160;: [gettext(%1,Aura_Aspect)]%r [iter(lnum(1,min(%2,5)),Level ##: [u(FN_GETAURA,%1,##)]%r)][line(End: [name(%1)]'s Aura)])]
&amp;DO_AURA_SPHERE Master Commands:MC=$^\+[aA][uU][rR][aA]/([mM][iI][nN][dD]|[sS][pP][iI][rR][iI][tT]) (.+)$:@switch/first [setr(0,locate(%#,%2,himn))]:[gte(setr(1,getabil(%#,%1_Sphere)),2)]:[match(v(AURASCAN-%#),%q0 *,|)]=#-2:*,@pemit&#160;%#=I don't know which you mean!,#-1:*,@pemit&#160;%#=I don't see that here.,*:0:*,@pemit&#160;%#=Your [capstr(lcstr(%1))] is not high enough.,*:0,{@pemit&#160;%#=[switch(setr(1,extract(froll([getabil(%#,Arete)]=4),2,1)),-*,Your spell backfires![pemit(%q0,%N is giving you a long look)][set(%#,STATS:[setabil(%#,Paradox,switch(lt(words(setr(2,gettext(%#,Paradox)),/),2),1,add(%q2,getabil(%#,%1_Sphere)),[add(first(%q2,/),getabil(%#,%1_Sphere))]/[rest(%q2,/)]))])],[u(FN_SHOW_AURA,%q0,%#,%q1)][set(me,AURASCAN-%#:[setunion(v(AURASCAN-%#),%q0 [secs()],|)])])]},@pemit&#160;%#=You already checked that aura.
@set Master Commands:MC/DO_AURA_SPHERE = regexp
&amp;RAND_ASPECTS Master Commands:MC=Normal|Bright|Sparkling|Rapidly Changing|Pale
@Startup Master Commands:MC=@cron me/AURA_CLEANUP=*/5 * * * *
&amp;AURA_CLEANUP Master Commands:MC=@dolist lattr(me/AURASCAN-*)=&amp;## me=[filter(FN_AURA_CLEAR,v(##),|)]
&amp;FN_AURA_CLEAR Master Commands:MC=[lt(secs(),add(rest(%0),3600))]
&amp;RAND_AURAS Master Commands:MC=Sad|Happy|Bitter|Ice cold|Deep Blue|Bitter and jagged|Sad, compassionate|Love, passion|Hatred|Frigtened|Warm red
&amp;DO_VERIFY Master Commands:MC=$+verify*:@pemit&#160;%#=%xhGAME%xn: +verify not implemented yet, please use +prove!
&amp;DO_DESCREMOVE Master Commands:MC=$+desc/rem* *:@force&#160;%#=+desc/del&#160;%1
&amp;DO_DOING Master Commands:MC=$DOING:@force&#160;%#=+who
&amp;DO_PIPE_OLD Master Commands:MC=|*:@pemit/c&#160;%l=%xh&lt;%xn%xh%xbOOC%xn%xh&gt;%xn&#160;%N[switch(mid(%0,0,1),:,%b[mid(%0,1,strlen(%0))],;,[mid(%0,1,strlen(%0))],%bsays &quot;{%0}&quot;)]
@set Master Commands:MC=INHERIT
@set Master Commands:MC=SAFE
@set Master Commands:MC=COMMANDS
@rxlevel Master Commands:MC=Real Obf1 Obf2 Obf3 Obf4 Obf5 Obf6 Obf7 Obf8 Obf9 Obf10 Umbra Fae Shadow Spy All
@txlevel Master Commands:MC=Real
@parent Master Commands:MC=#8
@alias #9=
---
#10
#2
#2
#72
@create Master Staffer Object:MSO=10
&amp;DO_JOIN Master Staffer Object:MSO=$+join *:setq(9,%xhGAME%xn:); setq(0,num(*%0)); @switch isdbref(%q0)=0,{@pemit&#160;%#=%q9 No such player&#160;%0},1,{@pemit&#160;%#=%q9 Warning [name(%q0)] et al...; @pemit/c [loc(%q0)]=%q9&#160;%xh%xr%N will be joining you in three seconds.%xn; @wait 3=@tel&#160;%#=[loc(%q0)]}
&amp;ISSTAFF Master Staffer Object:MSO=[isstaff(%#)]
@lock/UseLock Master Staffer Object:MSO=ISSTAFF/1
&amp;DO_SUMMON Master Staffer Object:MSO=$+summon *:setq(0,num(*%0)); @switch isdbref(%q0)=0,{@pemit&#160;%#=No such player&#160;%0},1,{@pemit&#160;%#=Warning [name(%q0)]...; @pemit/c [loc(%q0)]=%xh%xc[name(%q0)] is being summoned by staff, and will leave in three seconds.%xn; &amp;UNSUMMON&#160;%q0=[loc(%q0)]; @wait 3=@tel&#160;%q0=%l}
&amp;DO_UNSUMMON Master Staffer Object:MSO=$+unsummon *:setq(0,num(*%0)); @switch isdbref(%q0)=0,{@pemit&#160;%#=No such player&#160;%0},1,{@pemit/c [loc(%q0)]=[name(%q0)] is being returned, and will leave in three seconds.; @pemit/c [get(%q0/UNSUMMON)]=%xh%xc[name(%q0)] is on the way back, and will return in three seconds.%xn; @wait 3={@tel&#160;%q0=[get(%q0/UNSUMMON)]; &amp;UNSUMMON&#160;%q0}}
&amp;DO_DARKEN Master Staffer Object:MSO=$+darken:@set&#160;%#=Dark; @pemit&#160;%#=%xhGAME%xn: You are now dark.; @unlock/page&#160;%#; @idle&#160;%#
&amp;DO_SEMI_DARK Master Staffer Object:MSO=$+semi-dark:@set&#160;%#=Dark; @pemit&#160;%#=%xhGAME%xn: You are now dark and idled.; @idle&#160;%#=I'm dark for some reason. Most likely it has to do with how quickly I'll respond. I'll get back to you ASAP.; @unlock/page&#160;%#; @reject&#160;%#
&amp;DO_DARK Master Staffer Object:MSO=$+dark:@set&#160;%#=Dark; &amp;DARK_STAFF&#160;%#=\[isstaff(\%#)]; @lock/page&#160;%#=DARK_STAFF/1; @idle&#160;%#=I'm sorry, but I'm working to make this place better, and am therefore refusing pages from all except staff. Make sure it's important.; @pemit&#160;%#=%xhGAME%xn: You are now dark and pagelocked to non-staffers.
&amp;DO_UNDARK Master Staffer Object:MSO=$+undark:@set&#160;%#=!DARK; @unlock/page&#160;%#; @idle&#160;%#; @pemit&#160;%#=%xhGAME%xn: You are now visible again.
&amp;DO_BIT Master Staffer Object:MSO=$+bit *:&amp;BIT&#160;%#=[capitalize(%0)]; @Pemit&#160;%#=You have set your position to '[capitalize(%0)]'.
&amp;DO_BG_CHECK Master Staffer Object:MSO=$+bg/check *:setq(0,num(*%0)); @switch isdbref(%q0)=1,{@pemit&#160;%#=[line(name(%q0)'s Background)]%r[u(%q0/STATSBG)]%r[repeat(-,75)]%r%xhApproval:%xn[switch(strlen(gettext(%q0,BKAPPROVE)),0,Not yet approved,gettext(%q0,BKAPPROVE))]%r[center(%xhNotes%xn,75,-)]%r[gettext(%q0,bknote)]%r[line(End: [name(%q0)]'s Background)]},0,{@pemit&#160;%#=%xhCharGen:%xn No such player {'%0'}}
&amp;DO_LIST_SECTIONS_ALL Master Staffer Object:MSO=$+list:@pemit&#160;%#=[line(Valid Sections)]%r[columns(capitalize(u(VALID_SECTIONS)),17)][switch(mod(words(u(VALID_SECTIONS)),4),0,,%r)][line(End: Valid Sections)]
&amp;DO_LIST_ONE_SECTION Master Staffer Object:MSO=$+list *:@switch/first [words(%0,:)][match(u(VALID_SECTIONS),last(%0,:))]=?0,{@pemit&#160;%#=I'm sorry, but there is no such section '[capitalize(%0)]'.},1*,{setq(0,sort(u(parent(me)/FN_BUILD_FULL_LIST,%0))); @pemit&#160;%#=[line(Listing of [capitalize(%0)])]%r[edit(columns(%q0,25),_,%b)][switch(mod(words(%q0),3),0,,%r)][line(End: Listing of [capitalize(%0)])]},2*,{setq(1,u(u(parent(me)/FN_GET_RACE_DBREF,first(%0,:))/[last(%0,:)])); setq(0,sort(%q1)); @pemit&#160;%#=[line(Listing of [capitalize(first(%0,:))]'s [capitalize(last(%0,:))])]%r[edit(columns(%q0,25),_,%b)]%r[line(End: Listing of [capitalize(first(%0,:))]'s [capitalize(last(%0,:))])]}
&amp;DO_RACE_APPONLY Master Staffer Object:MSO=$+race/apponly *:@switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%0))]=0,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%0)].},1,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); @set&#160;%q0=SUSPECT; @pemit&#160;%#=People must now apply and be cleared before they may become [name(%q0)]s.}
&amp;DO_RACE_NOAPP Master Staffer Object:MSO=$+race/noapp *:@switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%0))]=0,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%0)].},1,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); @set&#160;%q0=!SUSPECT; @pemit&#160;%#=People no longer need to apply and be cleared before they may become [name(%q0)]s.}
&amp;DO_RACE_NOSHOW Master Staffer Object:MSO=$+race/noshow *:@switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%0))]=0,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%0)].},1,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); @set&#160;%q0=DARK; @pemit&#160;%#=The race [capitalize(%0)] is now a hidden race in chargen, and cannot be selected.}
&amp;DO_RACE_SHOW Master Staffer Object:MSO=$+race/show *:@switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%0))]=0,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%0)].},1,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); @set&#160;%q0=!DARK; @pemit&#160;%#=The race [capitalize(%0)] is now a visible race in chargen, and can be selected.}
&amp;DO_RACE_LIST Master Staffer Object:MSO=$+race/list:@pemit&#160;%#=+[line(Races On [mudname()],73,-)]+%r|[center(Name of Race,40)]|[center(Safe,10)]|[center(Visible,10)]|[center(App Only,10)]|%r+[repeat(-,40)]+[repeat(-,10)]+[repeat(-,10)]+[repeat(-,10)]+; @pemit&#160;%#=[list(sort(lcon(parent(me))),| [mid(ljust(name(##)(##),39),0,39)]|[center(switch(hasflag(##,safe),1,Yes,No),10)]|[center(switch(hasflag(##,dark),1,No,Yes),10)]|[center(switch(hasflag(##,suspect),1,Yes,No),10)]|)]; @pemit&#160;%#=+[line(End: Races On [mudname()],73,-)]+
&amp;DO_RACE_SAFE Master Staffer Object:MSO=$+race/safe *:@switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%0))]=0,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%0)].},1,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); @set&#160;%q0=SAFE; @pemit&#160;%#=The race [capitalize(%0)] is now safe, and must be manually destroyed. No +commands have been written which will allow its removal.}
&amp;DO_ABILS_ADD Master Staffer Object:MSO=$+abils/add *:setq(0,first(%0,:)); setq(1,capitalize(edit(strip(extract(%0,2,1,:)),%b,_),_)); setq(2,extract(%0,3,1,:)); setq(3,extract(%0,4,1,:)); setq(4,extract(%0,5,1,:)); setq(5,edit(last(%0,:),\,,%b)); setq(6,extract(%0,6,1,:)); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID_FOR_RACE,%q1,u(parent(me)/FN_GET_RACE_DBREF,%q0))][gte(words(%q2,|),1)][switch(%q3,y,1,yes,1,n,1,no,1,0)][u(parent(me)/FN_IS_VALID_FOR_RACE,%q4,u(parent(me)/FN_GET_RACE_DBREF,%q0))][gte(strlen(%q4),1)][gte(strlen(%q5),1)][gt(match(u(VALID_SECTIONS),%q6),0)][lte(strlen(%q1),20)]=0*,{@pemit&#160;%#=I'm sorry, but '%q0' is not a valid race.},11*,{@pemit&#160;%#=I'm sorry, but the ability '%q1' already exists. Please rename it.},100*,{@pemit&#160;%#=I'm sorry, but you must provide at least one value that may be used in chargen.},1010*,{@pemit&#160;%#=I'm sorry, but you must tell me if this ability requires an explanation or not.},1011??0??,{@pemit&#160;%#=I need a description of this 
ability, please.},1011011??,{@pemit&#160;%#=I'm sorry, but '%q4' is not a valid parent skill.},???????0?,{@pemit&#160;%#=I'm sorry, but&#160;%q6 is not a valid section},1011??1?0,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is too long. Please choose a shorter name for the ability.},1011??1?1,{@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); &amp;EXPLAIN_%q1&#160;%q0=%q5; &amp;INFO_%q1&#160;%q0=%q2^[switch(%q3,y,Yes,yes,Yes,n,No,no,No)]^%q4; &amp;%q6&#160;%q0=[setunion(get(%q0/%q6),%q1)]; @pemit&#160;%#=You have added the ability named '[edit(%q1,_,%b)]' to the list of [capitalize(%q6)] for [name(%q0)].; @notify me}}
&amp;DO_RACE_VIEW Master Staffer Object:MSO=$+race/view *:@switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%0))]=0,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%0)].},1,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); setq(1,name(%q0)); setq(2,parent(%q0)); setq(3,name(%q2)); @pemit&#160;%#=[line(Information for&#160;%q1)]%r Parent Race: [switch(isdbref(%q2),0,None,1,%q3(%q2[flags(%q2)]))]%r Racial Information: [switch(hasattr(%q0,desc),0,None Available,1,%r[screenfmt(get(%q0/DESC),NONE,3,75)])]%r%r Can the race be destroyed by +race/destroy? [switch(hasflag(%q0,safe),0,Yes,1,No)]%r Can the race be chosen in chargen? [switch(hasflag(%q0,DARK),1,No,0,Yes)]%r Does a player have to apply to join this race? [switch(hasflag(%q0,SUSPECT),1,Yes,0,No)]%r[line(End: Information for&#160;%q1)]}
&amp;DO_RACE_INFO Master Staffer Object:MSO=$+race/info *:setq(0,first(edit(%0,\,,%b),:)); setq(1,rest(edit(%0,\,,%b),:)); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))]=0,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%q0)].},1,{setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q0)); @desc&#160;%q2=%q1; @pemit&#160;%#=You have set the information for [name(%q2)].}
&amp;DO_ABILS_DEL Master Staffer Object:MSO=$+abils/del *:setq(0,first(%0,:)); setq(1,edit(capitalize(last(%0,:)),%b,_)); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID_FOR_RACE,%q1,%q0)]=0?,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},11,{@wait me={setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q1,%q0)); @wipe&#160;%q0/%q1_RESTRICT*; @wipe&#160;%q0/%q1_LOOKUP*; @wipe&#160;%q0/%q1_COMPUTE*; &amp;%q2&#160;%q0=[remove(get(%q0/%q2),%q1)]; &amp;EXPLAIN_%q1&#160;%q0; &amp;INFO_%q1&#160;%q0; &amp;INFO2_%q1&#160;%q0;@pemit&#160;%#=You have removed the ability '[edit(%q1,_,%b)]'.; @notify me}}
&amp;DO_ABILS_DESC Master Staffer Object:MSO=$+abils/desc *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,edit(last(%0,:),\,,)); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID,%q1)][ gte(strlen(%q3),1)]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but I need a description of the ability.},111,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q1,%q0)); &amp;EXPLAIN_%q1&#160;%q0=%q3; @pemit&#160;%#=You have set the description for the ability '[edit(%q1,_,%b)]'.}
&amp;DO_ABILS_VIEW Master Staffer Object:MSO=$+abils/view *:setq(0,first(%0,:)); setq(1,edit(capitalize(last(%0,:)),%b,_)); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID,%q1)]=0?,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},11,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q1,%q0)); @pemit&#160;%#=[line(Ability Information: [edit(%q1,_,%b)])]%rRace: [name(%q0)]%rValid Values: [andlist(first(get(%q0/INFO_%q1),^),|)]%rDoes this ability require an explanation? [extract(get(%q0/INFO_%q1),2,1,^)]%rParent Skill: [switch(strlen(last(get(%q0/INFO_%q1),^)),0,None,last(get(%q0/INFO_%q1),^))]%rSection: [capitalize(%q2)]%rSection to draw points from: [switch(setr(9,extract(get(%q0/INFO2_%q1),3,1,^)),?*,%q9,capitalize(%q2))]%rDefault Cost: [switch(setr(9,extract(get(%q0/INFO2_%q1),1,1,^)),?*,%q9,None associated)]%rFreebie Cost: [
switch(setr(9,extract(get(%q0/INFO2_%q1),2,1,^)),?*,%q9,Same as for all [capitalize(%q2)]'s.)][iter(lnum2(1,5),switch(hasattr(%q0,%q1_LOOKUP_##),1,%rLookup ##: [get(%q0/%q1_LOOKUP_##)]))][iter(lnum2(1,5),switch(hasattr(%q0,%q1_COMPUTE_##),1,%rFunction ##: [get(%q0/%q1_COMPUTE_##)]))][iter(lnum2(1,5),switch(hasattr(%q0,%q1_RESTRICT_##),1,%rRestriction ##: [get(%q0/%q1_RESTRICT_##)]))]%rDescription of Ability:%r%t[get(%q0/EXPLAIN_%q1)]%r[line(End: Ability Information: [edit(%q1,_,%b)])]}
&amp;DO_ABILS_VALUES Master Staffer Object:MSO=$+abils/values *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,edit(last(%0,:),\,,)); setq(4,^^); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID,%q1)][gte(strlen(%q3),1)]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but I need a description of the ability.},111,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q1,%q0)); setq(4,replace(%q4,1,%q3,^)); setq(4,replace(%q4,2,extract(get(%q0/INFO_%q1),2,1,^),^)); setq(4,replace(%q4,3,extract(get(%q0/INFO_%q1),3,1,^),^)); &amp;INFO_%q1&#160;%q0=%q4; @pemit&#160;%#=You have set the values for the ability '[edit(%q1,_,%b)]'.}
&amp;DO_ABILS_PARENT Master Staffer Object:MSO=$+abils/parent *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,edit(extract(%0,3,1,:),\,,)); setq(4,^^); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID,%q1)][or(u(parent(me)/FN_IS_VALID,%q1),eq(strlen(%q3),0))]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but there is no such ability '%q3'.},111,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(3,edit(%q3,%b,_)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q1,%q0)); setq(4,replace(%q4,1,first(get(%q0/INFO_%q1),^),^)); setq(4,replace(%q4,2,extract(get(%q0/INFO_%q1),2,1,^),^)); setq(4,replace(%q4,3,switch(strlen(%q3),0,,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q3,%q0),%q3,%q0)),^)); &amp;INFO_%q1&#160;%q0=%q4; @pemit&#160;%#=You have set the parent for the ability '[edit(%q1,_
,%b)]'.}
&amp;DO_ABILS_EXPLAIN Master Staffer Object:MSO=$+abils/explain *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,switch(last(%0,:),y,Yes,yes,Yes,n,No,no,No,Zippo)); setq(4,^^); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID,%q1)][or(strmatch(%q3,Yes),strmatch(%q3,No))]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but I need a description of the ability.},111,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q1,%q0)); setq(4,replace(%q4,1,first(get(%q0/INFO_%q1),^),^)); setq(4,replace(%q4,2,%q3,^)); setq(4,replace(%q4,3,extract(get(%q0/INFO_%q1),3,1,^),^)); &amp;INFO_%q1&#160;%q0=%q4; @pemit&#160;%#=You have set the explanation requirements for the ability '[edit(%q1,_,%b)]'.}
@Startup Master Staffer Object:MSO=@drain me; @notify me
&amp;DO_SET Master Staffer Object:MSO=$+set *:setq(0,first(%0,:)); setq(1,switch(isdbref(locate(%#,%q0,*)),0,locate(%#,*%q0,p),1,locate(%#,%q0,*))); setq(2,edit(extract(%0,2,1,:),%b,_)); setq(9,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,gettext(%q1,race))); setq(3,switch(strlen(%q9),0,u(parent(me)/FN_IN_WHICH_SECTION,%q2),%q9)); setq(5,u(parent(me)/FN_FULL_NAME,%q3,%q2)); setq(4,capitalize(last(%0,:))); @switch/first [and(or(not(comp(%q1,%#)),not(isstaff(%q1))),isdbref(%q1))][u(parent(me)/FN_IS_VALID,%q2)]=0?,{@pemit&#160;%#=No such player/object '%q0'.},?0,{@pemit&#160;%#=No such ability '[extract(%0,2,1,:)'].},11,{@pemit&#160;%#=You have set [name(%q1)]'s [edit(%q5,_,%b)] to&#160;%q4; &amp;STATS&#160;%q1=[setabil(%q1,%q2,%q4)]}
&amp;DO_SECTIONS_MAX Master Staffer Object:MSO=$+sections/max *:setq(9,first(%0,:)); setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q9)); setq(1,extract(%0,2,1,:)); setq(2,last(%0,:)); @switch [isdbref(%q0)][gt(match(u(VALID_SECTIONS),%q1),0)][isnum(%q2)]=0??,{@pemit&#160;%#=I'm sorry, but '%q9' is not a valid race. Use '+race/list' to see a list of valid races.},?0?,{@pemit&#160;%#=I'm sorry, but '%q1' is not a valid section. Use '+list' to see a list of valid sections.},??0,{@pemit&#160;%#=I'm sorry, but '%q2' is not a valid number. Please enter a valid number.},{@pemit&#160;%#=You have set the maximum value for [name(%q0)]'s [capitalize(%q1,-)] to&#160;%q2.; &amp;STATS&#160;%q0=[setabil(%q0,%q1max,%q2)]}
&amp;DO_SECTIONS_POINTS Master Staffer Object:MSO=$+sections/points *:setq(9,first(%0,:)); setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q9)); setq(1,extract(%0,2,1,:)); setq(2,last(%0,:)); @switch [isdbref(%q0)][gt(match(u(VALID_SECTIONS),%q1),0)][isnum(%q2)]=0??,{@pemit&#160;%#=I'm sorry, but '%q9' is not a valid race. Use '+race/list' to see a list of valid races.},?0?,{@pemit&#160;%#=I'm sorry, but '%q1' is not a valid section. Use '+list' to see a list of valid sections.},??0,{@pemit&#160;%#=I'm sorry, but '%q2' is not a valid number. Please enter a valid number.},{@pemit&#160;%#=You have set the points for [name(%q0)]'s [capitalize(%q1,-)] to&#160;%q2.; &amp;STATS&#160;%q0=[setabil(%q0,%q1points,%q2)]}
&amp;DO_SECTIONS_VIEW Master Staffer Object:MSO=$+sections/view *:setq(9,first(%0,:)); setq(8,u(parent(me)/FN_GET_RACE_DBREF,%q9)); setq(6,capitalize(last(%0,:),-)); setq(7,name(%q8)); @switch [isdbref(%q8)][gt(match(u(VALID_SECTIONS),%q6),0)]=0?,{@pemit&#160;%#=I'm sorry, but '%q9' is not a valid race. Use '+race/list' to see a list of valid races.},?0,{@pemit&#160;%#=I'm sorry, but '%q6' is not a valid section. Use '+list' to see a list of valid sections.},{@pemit&#160;%#=[line(Section Info:&#160;%q7's&#160;%q6)]%rMaximum value which can be selected in chargen: [getabil(%q8,%q6max)]%rNumber of points available in chargen: [getabil(%q8,%q6points)]%rCost to raise an item in this section one point: [getabil(%q8,%q6defcost)]%rCost to raise an item in this section one point with freebies: [getabil(%q8,%q6frcost)]%rSection which will have points changed: [gettext(%q8,%q6section)]%r[line(End Section Info:&#160;%q7's&#160;%q6)]}
&amp;DO_ABILS_SEARCH Master Staffer Object:MSO=$+abils/search *:setq(0,capitalize({%0})); @pemit&#160;%#=[line(Search Results -&#160;%q0)]; @pemit&#160;%#=[edit(columns(Race Section Name [iter(lcon(parent(me)),u(parent(me)/FN_MATCHES,##,%q0))],25),_,%b)]; @pemit&#160;%#=[line(End: Search Results -&#160;%q0)]
&amp;DO_ABILS_DEFCOST Master Staffer Object:MSO=$+abils/defcost *:setq(0,first(%0,:)); setq(2,edit(extract(%0,2,1,:),%b,_)); setq(6,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,edit(extract(%0,3,1,:),\,,)); setq(5,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q6)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q5,%q1,%q6)); setq(4,^^^^^^^); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][gt(strlen(%q2),0)][isnum(%q3)]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but '%q3' is not a valid default cost.},111,{setq(7,switch(hasattr(%q6,INFO2_%q1),1,get(%q6/INFO2_%q1),0,%q4)); setq(4,replace(%q7,1,%q3,^)); &amp;INFO2_%q1&#160;%q6=%q4; @pemit&#160;%#=You have set the default cost for the ability '[edit(%q2,_,%b)]'.}
&amp;DO_ABILS_FRCOST Master Staffer Object:MSO=$+abils/frcost *:setq(0,first(%0,:)); setq(2,edit(extract(%0,2,1,:),%b,_)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,edit(extract(%0,3,1,:),\,,)); setq(5,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(6,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q5,%q1,%q6)); setq(4,^^^^^^^); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][gt(strlen(%q2),0)][isnum(%q3)]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but '%q3' is not a valid freebie cost.},111,{setq(7,switch(hasattr(%q6,INFO2_%q1),1,get(%q6/INFO2_%q1),0,%q4)); setq(4,replace(%q7,2,%q3,^)); &amp;INFO2_%q1&#160;%q6=%q4; @pemit&#160;%#=You have set the freebie cost for the ability '[edit(%q2,_,%b)]'.}
&amp;DO_ABILS_SECTION Master Staffer Object:MSO=$+abils/section *:setq(0,first(%0,:)); setq(2,edit(extract(%0,2,1,:),%b,_)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,edit(extract(%0,3,1,:),\,,)); setq(5,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(6,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q5,%q1,%q6)); setq(4,^^^^^^^); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][gt(strlen(%q2),0)][or(gt(match(u(VALID_SECTIONS),%q3),0),eq(strlen(%q3),0))]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but '%q3' is not a valid section.},111,{setq(7,switch(hasattr(%q6,INFO2_%q1),1,get(%q6/INFO2_%q1),0,%q4)); setq(4,replace(%q7,3,%q3,^)); &amp;INFO2_%q1&#160;%q6=%q4; @pemit&#160;%#=You have set the section for the ability '[edit(%q2,_,%b)]'.}
&amp;DO_SECTIONS_SECTION Master Staffer Object:MSO=$+sections/section *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(2,%q1); setq(3,edit(extract(%0,3,1,:),\,,)); setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); @switch/first [isdbref(%q0)][gt(match(u(VALID_SECTIONS),%q2),0)][or(gt(match(u(VALID_SECTIONS),%q3),0),eq(strlen(%q3),0))]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid section},??0,{@pemit&#160;%#=I'm sorry, but '%q3' is not a valid section.},111,{@pemit&#160;%#=You have set the section for the section '[edit(%q2,_,%b)]'.; &amp;STATS&#160;%q0=[setabil(%q0,%q1section,%q3)]}
&amp;DO_SECTIONS_DEFCOST Master Staffer Object:MSO=$+sections/defcost *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(2,%q1); setq(3,edit(extract(%0,3,1,:),\,,)); setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); @switch/first [isdbref(%q0)][gt(match(u(VALID_SECTIONS),%q2),0)][isnum(%q3)]=0??,{@pemit&#160;%#=I'm sorry, but [first(%0,:)] is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid section},??0,{@pemit&#160;%#=I'm sorry, but '%q3' is not a valid number.},111,{@pemit&#160;%#=You have set the default cost for the section '[edit(%q2,_,%b)]'.; &amp;STATS&#160;%q0=[setabil(%q0,%q1defcost,%q3)]}
&amp;DO_SECTIONS_FRCOST Master Staffer Object:MSO=$+sections/frcost *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(2,%q1); setq(3,edit(extract(%0,3,1,:),\,,)); setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); @switch/first [isdbref(%q0)][gt(match(u(VALID_SECTIONS),%q2),0)][isnum(%q3)]=0??,{@pemit&#160;%#=I'm sorry, but [first(%0,:)] is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid section},??0,{@pemit&#160;%#=I'm sorry, but '%q3' is not a valid number.},111,{@pemit&#160;%#=You have set the freebies cost for the section '[edit(%q2,_,%b)]'.; &amp;STATS&#160;%q0=[setabil(%q0,%q1frcost,%q3)]}
&amp;DO_ABILS_LOOKUP Master Staffer Object:MSO=$+abils/lookup *:setq(0,first(%0,:)); setq(1,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,edit(extract(%0,2,1,:),%b,_),%q1),edit(extract(%0,2,1,:),%b,_),%q1)); setq(3,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,edit(extract(%0,3,1,:),%b,_),%q1),edit(extract(%0,3,1,:),%b,_),%q1)); setq(4,extract(%0,4,1,:)); setq(5,extract(%0,5,words(%0,:),:)); setq(6,first(get(%q1/INFO_%q2),^)); setq(7,1); iter(%q5,setq(7,and(%q7,match(%q6,first(##,|),|))),^); @switch [isdbref(%q1)][gt(strlen(%q2),0)][gt(strlen(%q3),0)][between(%q4,1,5)]%q7=0????,{@pemit&#160;%#=I'm sorry, but that is not a valid race.},?0???,{@pemit&#160;%#=I'm sorry, but that is not a valid ability to trigger from.},??0??,{@pemit&#160;%#=I'm sorry, but that's not a valid ability to modify},???0?,{@pemit&#160;%#=I'm sorry, but lookup numbers must be between 1 and 5},????0,{@pemit&#160;%#=I'm sorry, but at least one value in your 
list is not a value which may be chosen in chargen},{setq(9,edit(%q5,|,{{|setabil(%%1,%q3,}})); setq(9,edit(%q9,\\^,{{)^}})); setq(5,%q9\)); setq(5,edit({%q5},|,\,)); setq(5,edit({%q5},\\^,\,)); setq(8,aswitch(%%0,%q5,0)); &amp;%q2_LOOKUP_%q4&#160;%q1=mid(%q8,1,strlen(%q8)); @pemit&#160;%#=You have set lookup list number&#160;%q4 for&#160;%q2 on the race [name(%q1)].}
&amp;DO_ABILS_COMPUTE Master Staffer Object:MSO=$+abils/compute *:@wait me={setq(0,first(%0,:)); setq(1,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,extract(%0,2,1,:),%q1),extract(%0,2,1,:),%q1)); setq(3,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,extract(%0,3,1,:),%q1),extract(%0,3,1,:),%q1)); setq(4,extract(%0,4,1,:)); setq(5,extract(%0,5,words(%0,:),:)); setq(7,1); setq(9,edit(edit(edit(edit(edit(edit(%q5,/,%b/%b),-,%b-%b),+,%b+%b),*,%b@%b),\(,%b&lt;%b),\),%b&gt;%b)); setq(5,&lt; &lt;&#160;%q9 &gt; &gt;); setq(6,1); iter(%q5,switch(u(parent(me)/FN_IS_VALID_FOR_RACE,##,%q1),0,setq(6,add(%q6,1)),1,[setq(5,replace(%q5,%q6,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,##,%q1),##,%q1)))][setq(6,add(%q6,1))])); iter(%q5,setq(7,and(%q7,or(isnum(##),u(FN_ISMATH,##),u(parent(me)/FN_IS_VALID_FOR_RACE,##,%q1))))); @switch [isdbref(%q1)][gt(strlen(%q2),0)][gt(strlen(%q3),0)][between(%q4,1,5)]%q7=0????,{@
pemit&#160;%#=I'm sorry, but that is not a valid race.; @notify me},?0???,{@pemit&#160;%#=I'm sorry, but that is not a valid ability to trigger from.; @notify me},??0??,{@pemit&#160;%#=I'm sorry, but that's not a valid ability to modify; @notify me},???0?,{@pemit&#160;%#=I'm sorry, but equation numbers must be between 1 and 5; @notify me},????0,{@pemit&#160;%#=I'm sorry, but at least one term in your equation is invalid; @notify me},{setq(9,%q5); [iter(%q9,switch(##,^,push(operators,^),@,push(operators,@),/,push(operators,/),+,push(operators,+),-,push(operators,-),&lt;,,&gt;,[setq(8,pop(operands))][push(operands,&lt; [pop(operators)] [pop(operands)]&#160;%q8 &gt;)],push(operands,##)))][setq(8,iter(lstack(operands),switch([u(FN_ISMATH,##)][isnum(##)],1?,##,01,##\\\\\\,,00,\\\\\\\\getabil(%%0,##))))][setq(8,edit(%q8,+,add\())][setq(8,edit(%q8,-,sub\())][setq(8,edit(%q8,@,mul\())][setq(8,edit(%q8,/,fdiv\())][setq(8,edit(%q8,\\^,power\())][setq(8,edit(%q8,&lt;,))][setq(8,edit(%q8,&gt;,\)))][setq(8,edit(%q8,%b,))][setq(8,edit(%q8,\),\)\,))][setq(8,edit(%q8,\)\,
\),\)\)))][setq(8,edit(%q8,\,\),\)))][setq(8,edit(%q8,\\,))][setq(8,mid(%q8,0,sub(strlen(%q8),2)))]; setq(9,setabil); setq(8,{%q9\(%%0,%q3,%q8\)}); empty(operands); empty(operators); &amp;%q2_COMPUTE_%q4&#160;%q1=%q8; @pemit&#160;%#=You have set equation number&#160;%q4 for&#160;%q2 on the race [name(%q1)].; @notify me}}
&amp;DO_CLEAR Master Staffer Object:MSO=$+clear *:setq(0,first(%0,:)); setq(1,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),0,locate(%#,*%q0,p))); setq(2,last(%0,:)); setq(3,edit(u(parent(me)/FN_LIST_RACES),@,)); setq(4,grab(%q3,%q2)); @switch [isdbref(%q1)][or(gt(match(%q3,%q2),0),strmatch(%q2,0))]=0?,{@pemit&#160;%#=I'm sorry, but I don't see '%q0' here.},?0,{@pemit&#160;%#=I'm sorry, but the race '%q2' is not one which a player may go through chargen as.},{@pemit&#160;%#=[switch(%q2,0,You have removed [name(%q1)]'s racial clearance.,You have cleared [name(%q1)] to go through chargen as a '%q4'.)]; @pemit&#160;%q1=[switch(%q2,0,%n has removed your racial clearance.,%n has cleared you to go through chargen as a '%q4'.)]; &amp;STATS&#160;%q1=[setabil(%q1,clearance,%q4)]}
&amp;DO_ABILS_CLEAR Master Staffer Object:MSO=$+abils/clear *:setq(0,first(%0,:)); setq(1,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,extract(%0,2,1,:),%q1),extract(%0,2,1,:),%q1)); setq(3,extract(%0,3,1,:)); setq(4,extract(%0,4,1,:)); @switch [isdbref(%q1)][gt(strlen(%q2),0)][gt(match(COMPUTE LOOKUP RESTRICT,%q3),0)][between(%q4,1,5)]=0???,{@pemit&#160;%#=I'm sorry, but that is not a valid race.},?0??,{@pemit&#160;%#=I'm sorry, but that is not a valid ability to clear.},??0?,{@pemit&#160;%#=I'm sorry, but that's not a valid option to clear},???0,{@pemit&#160;%#=I'm sorry, but option numbers must be between 1 and 5},{&amp;%q2_%q3_%q4&#160;%q1; @pemit&#160;%#=You have cleared [capitalize(%q3)] number&#160;%q4 for&#160;%q2 on [name(%q1)].}
&amp;DO_ABILS_RESTRICT Master Staffer Object:MSO=$+abils/restrict *:setq(0,first(%0,:)); setq(1,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,edit(extract(%0,2,1,:),%b,_),%q1),edit(extract(%0,2,1,:),%b,_),%q1)); setq(3,u(parent(me)/FN_FULL_NAME_FOR_RACE,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,edit(extract(%0,3,1,:),%b,_),%q1),edit(extract(%0,3,1,:),%b,_),%q1)); setq(4,extract(%0,4,1,:)); setq(5,extract(%0,5,words(%0,:),:)); setq(6,first(get(%q1/INFO_%q3),^)); setq(7,1); iter(%q5,setq(7,and(%q7,match(%q6,##,|))),|); @switch [isdbref(%q1)][gt(strlen(%q2),0)][gt(strlen(%q3),0)][between(%q4,1,5)]%q7=0????,{@pemit&#160;%#=I'm sorry, but that is not a valid race.},?0???,{@pemit&#160;%#=I'm sorry, but that is not a valid ability to restrict.},??0??,{@pemit&#160;%#=I'm sorry, but that's not a valid ability use in a restriction.},???0?,{@pemit&#160;%#=I'm sorry, but restriction numbers must be between 1 and 5},????0,{@pemit&#160;%#=I'm sorry, but at least one value in 
your list is not a value which may be chosen in chargen},{&amp;%q2_RESTRICT_%q4&#160;%q1=%q3:%q5; @pemit&#160;%#=You have set restriction number&#160;%q4 for&#160;%q2 on the race [name(%q1)].}
&amp;DO_ABILS_RENAME Master Staffer Object:MSO=$+abils/rename *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,first(%0,:))); setq(1,edit(extract(%0,2,1,:),%b,_)); setq(2,edit(capitalize(extract(%0,3,1,:)),%b,_)); setq(3,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(4,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q3,%q1,%q0)); setq(5,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q2,%q0)); setq(6,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q5,%q2,%q0)); @switch/first [isdbref(%q0)][gt(strlen(%q4),0)][eq(strlen(%q6),0)][lte(strlen(%q2),20)]=0???,{@pemit&#160;%#=I'm sorry, but [first(%0,:)] is not a valid race.},?0??,{@pemit&#160;%#=I'm sorry, but '%q1' is not a valid ability name.},??0?,{@pemit&#160;%#=I'm sorry, but '%q2' already exists. Please choose a different name.},???0,{@pemit&#160;%#=I'm sorry, but&#160;%q2 is too long. Please choose a name under 20 characters long.},{&amp;%q3&#160;%q0=[setdiff(get(%q0/%q3),%q4)]; &amp;%q3&#160;%q0=[setunion(get(%q0/%q3),%q2)]; @mvattr&#160;%q0=INFO_%q4,INFO_%q2; @mvattr&#160;%q0=INFO2_%q4,INFO2_%q2; @mvattr&#160;%q0=EXPLAIN_%q4,EXPLAIN_%q2; @
dolist [lattr(%q0/%q4_LOOKUP*)]=@mvattr&#160;%q0=##,%q2_[rest(##,_)]; @dolist [lattr(%q0/%q4_COMPUTE*)]=@mvattr&#160;%q0=##,%q2_[rest(##,_)]; @dolist [lattr(%q0/%q4_RESTRICT*)]=@mvattr&#160;%q0=##,%q2_[rest(##,_)]; @wait 0=@pemit&#160;%#=The ability '%q4' has been renamed to '%q2'}
&amp;DO_BG_APPROVE Master Staffer Object:MSO=$+bg/approve *:setq(0,switch(isdbref(locate(%#,%0,*)),1,locate(%#,%0,*),locate(%#,*%0,*))); setq(1,time()); setq(2,extract(%q1,2,2)\,[last(%q1)]); @switch [isdbref(%q0)]=0,{@pemit&#160;%#=No such player.},1,{@set&#160;%q0/STATSBG=wizard; &amp;STATS&#160;%q0=[setabil(%q0,bkapprove,name(%q0) approved on&#160;%q2 by&#160;%n.)]; @pemit&#160;%#=You have approved [name(%q0)] for roleplay on&#160;%q2.; @set&#160;%q0=!FIXED; set(%q0,XP:); set(%q0/XP,wizard); set(%q0,IC_LOC:[u(#225/MAP_CENTRE)]); set(%q0/IC_LOC,wizard); @pemit&#160;%q0=%n has approved you for roleplay on&#160;%q2; &amp;UNAPPROVED [parent(parent(me))]=[ldelete(u(UNAPPROVED),match(u(UNAPPROVED),%q0:*))]}
&amp;DO_BG_DISAPPROVE Master Staffer Object:MSO=$+bg/disapprove *:setq(0,switch(isdbref(locate(%#,%0,*)),1,locate(%#,%0,*),locate(%#,*%0,*))); setq(1,time()); setq(2,extract(%q1,2,2)\,[last(%q1)]); @switch [isdbref(%q0)]=0,{@pemit&#160;%#=No such player.},1,{&amp;STATS&#160;%q0=[setabil(%q0,bkapprove,name(%q0) removed from roleplay on&#160;%q2 by&#160;%n.)]; @pemit&#160;%#=You have removed [name(%q0)] from roleplay on&#160;%q2.; @pemit&#160;%q0=%n has removed you for roleplay on&#160;%q2; &amp;UNAPPROVED [parent(parent(me))]=[ldelete(u(UNAPPROVED),match(u(UNAPPROVED),%q0:*))]; &amp;UNAPPROVED [parent(parent(me))]=[setunion(u(UNAPPROVED),%q0:[secs()])]}
&amp;DO_BG_NOTE_ADD Master Staffer Object:MSO=$+bg/note/add *:setq(0,switch(isdbref(locate(%#,first(%0,:),*)),1,locate(%#,first(%0,:),*),locate(%#,*[first(%0,:)],*))); setq(1,name(%q0)); setq(2,gettext(%q0,bknotes)%r[strip(rest(%0,:))]); @switch isdbref(%q0)=1,{&amp;STATS&#160;%q0=[setabil(%q0,bknotes,%q2)]; @pemit&#160;%#=You have added notes on&#160;%q1},0,{No such player {'%0'}};
&amp;DO_BG_NOTE_SET Master Staffer Object:MSO=$+bg/note/set *:setq(0,switch(isdbref(locate(%#,first(%0,:),*)),1,locate(%#,first(%0,:),*),locate(%#,*[first(%0,:)],*))); setq(1,name(%q0)); setq(2,strip(rest(%0,:))); @switch isdbref(%q0)=1,{&amp;STATS&#160;%q0=[setabil(%q0,bknotes,%q2)]; @pemit&#160;%#=You have cleared the old notes on&#160;%q1, and put new ones in.},0,{@pemit&#160;%#=No such player {'%0'}};
&amp;DO_JNOTE_SET Master Staffer Object:MSO=$+jnote/set *:setq(0,first(%0,:)); setq(1,capitalize(strip(extract(%0,2,1,:)))); setq(2,strip(rest(rest(%0,:),:))); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); setq(3,match(get(%q0/JNOTES),%q1|*,^)); @switch/first [isdbref(%q0)][eq(%q3,0)]=0?,{@pemit&#160;%#=No such player.},?0,{@pemit&#160;%#=That judgenote has already been set. Please clear it before setting it.},{&amp;JNOTES&#160;%q0=^[setunion(get(%q0/JNOTES),%q1|Note set by&#160;%N at [time()]%r%r%q2,^)]; @pemit&#160;%#=Judge note set.}
&amp;DO_JNOTE_LIST Master Staffer Object:MSO=$+jnote/list *:setq(0,%0); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); setq(3,words(get(%q0/JNOTES),^)); @switch/first [isdbref(%q0)][gt(%q3,1)]=0?,{@pemit&#160;%#=No such player.},?0,{@pemit&#160;%#=This character has no judgenotes.},{@pemit&#160;%#=[line(Judge Notes For [name(%q0)])]%r[edit(columns(iter(rest(get(%q0/JNOTES),^),edit(first(##,|),%b,_),^),25),_,%b)]%r[line(End: Judge Notes For [name(%q0)])]}
&amp;DO_JNOTE_VIEW Master Staffer Object:MSO=$+jnote/view *:setq(0,first(%0,:)); setq(1,capitalize(strip(extract(%0,2,1,:)))); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); setq(3,match(get(%q0/JNOTES),%q1|*,^)); @switch/first [isdbref(%q0)][and(gt(words(get(%q0/JNOTES),^),0),strmatch(%q1,all))][gt(%q3,0)]=0??,{@pemit&#160;%#=No such player.},?1?,{@dolist/delimit ^ {[rest(u(%q0/JNOTES),^)]}=@pemit&#160;%#=[line(JudgeNote: [name(%q0)] - [first(##,|)])]%r[rest(##,|)]%r[line(End: JudgeNote: [name(%q0)] - [first(##,|)])]},??0,{@pemit&#160;%#=No such judgenote.},{@pemit&#160;%#=[line(JudgeNote: [name(%q0)] -&#160;%q1)]%r[rest(extract(get(%q0/JNOTES),%q3,1,^),|)]%r[line(End: JudgeNote: [name(%q0)] -&#160;%q1)]}
&amp;DO_JNOTE_CLEAR Master Staffer Object:MSO=$+jnote/clear *:setq(0,first(%0,:)); setq(1,capitalize(strip(extract(%0,2,1,:)))); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); setq(3,match(get(%q0/JNOTES),%q1|*,^)); @switch/first [isdbref(%q0)][gt(%q3,0)]=0?,{@pemit&#160;%#=No such player.},?0,{@pemit&#160;%#=No such judgenote.},{&amp;JNOTES&#160;%#=[ldelete(get(%q0/JNOTES),%q3,^)]; @pemit&#160;%#=Judgenote cleared.}
&amp;DO_JNOTE_EDIT Master Staffer Object:MSO=$+jnote/edit *:setq(0,first(%0,:)); setq(1,capitalize(strip(extract(%0,2,1,:)))); setq(2,strip(extract(%0,3,1,:))); setq(4,strip(extract(%0,4,1,:))); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); setq(3,match(get(%q0/JNOTES),%q1|*,^)); setq(5,rest(extract(get(%q0/JNOTES),%q3,1,^),|)); @switch/first [isdbref(%q0)][gt(%q3,0)]=0?,{@pemit&#160;%#=No such player.},?0,{@pemit&#160;%#=No such judgenote},{&amp;JNOTES&#160;%q0=[replace(get(%q0/JNOTES),%q3,%q1|[edit(%q5,%q2,%q4)],^)]; @pemit&#160;%#=Judge note edited - [rest(extract(get(%q0/JNOTES),%q3,1,^),|)].}
&amp;DO_STAFF_ADD Master Staffer Object:MSO=$+staff/add *:setq(0,first(%0,:)); setq(1,extract(%0,2,1,:)); setq(2,capitalize(strip(last(%0,:)))); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); setq(3,parent(parent(me))); @switch/first [isdbref(%q0)][gt(match(WIZARD ADMIN JUDGE CODER BARD STAFF,%q1),0)]=0?,{@pemit&#160;%#=No such player.},?0,{@pemit&#160;%#=The bit must be either Wizard, Admin, or Judge. Please use '+staff/add [name(%q0)]:&lt;bit&gt;:%q2'.},{&amp;%q1S_LIST&#160;%q3=[setunion(get(%q3/%q1S_LIST),%q0)]; &amp;BIT&#160;%q0=%q2; @pemit&#160;%#=[name(%q0)] is now on the staff listings. [switch(%q1,wizard,Log in as #1\, and type '@set&#160;%q0=wizard' now.,Type '@set&#160;%q0=%q1' now.)]}
&amp;DO_STAFF_DEL Master Staffer Object:MSO=$+staff/del *:setq(0,%0); setq(0,switch(isdbref(locate(%#,%q0,*)),1,locate(%#,%q0,*),locate(%#,*%q0,*))); setq(3,parent(parent(me))); setq(1,switch(1,gt(match(get(%q3/WIZARDS_LIST),%q0),0),WIZARD,gt(match(get(%q3/ADMINS_LIST),%q0),0),ADMIN,gt(match(get(%q3/JUDGES_LIST),%q0),0),JUDGE,NONE)); @switch/first [isdbref(%q0)][gt(match(WIZARD ADMIN JUDGE,%q1),0)]=0?,{@pemit&#160;%#=No such player.},?0,{@pemit&#160;%#=That player is not currently on the staff listings.},{&amp;%q1S_LIST&#160;%q3=[setdiff(get(%q3/%q1S_LIST),%q0)]; &amp;BIT&#160;%q0; @pemit&#160;%#=[name(%q0)] is now off the staff listings. [switch(%q1,wizard,Log in as #1\, and type '@set&#160;%q0=!wizard' now.,Type '@set&#160;%q0=!%q1' now.)]}
&amp;DO_CHARCHECK Master Staffer Object:MSO=$+charcheck *:setq(0,switch(isdbref(locate(%#,%0,*)),1,locate(%#,%0,*),locate(%#,*%0,*))); @switch [isdbref(%q0)]=0,{@pemit&#160;%#=No such player.},{@force&#160;%#={@pemit me=Checking [name(%q0)]; +bg/check&#160;%q0; +sheet&#160;%q0; +explain/review&#160;%q0:all; +jnote/view&#160;%q0:all; @wait 0=@pemit me=Description For: [name(%q0)](%q0[flags(%q0)])%r[u(%q0/desc)]; @wait 0=@force&#160;%#=+finger [name(%q0)]; @wait 0=@pemit me=End: Checking [name(%q0)]}}
&amp;DO_JROLL Master Staffer Object:MSO=$+jroll *:setq(0,first(%0,=)); setq(1,switch(words(%0,=),1,,last(%0,=))); setq(2,%#); iter(%q0,setq(2,switch(words(##,:)[isdbref(locate(%#,first(##,:),*))],1?,%q2,21,locate(%#,first(##,:),*),locate(%#,*[first(##,:)],*)))[setq(3,add(%q3,switch(isnum(last(##,:)),1,last(##,:),getabil(%q2,last(##,:)))))],+); iter(%q1,setq(2,switch(words(##,:)[isdbref(locate(%#,first(##,:),*))],1?,%q2,21,locate(%#,first(##,:),*),locate(%#,*[first(##,:)],*)))[setq(4,add(%q4,switch(isnum(last(##,:)),1,last(##,:),getabil(%q2,last(##,:)))))],+); setq(5,iter(lnum(%q3),add(rand(10),1))); iter(%q5,setq(6,add(%q6,switch(1,##,-1,lt(##,%q4),0,1)))[setq(7,%q7 [switch(1,##,-1-,lt(##,%q4),##,&lt;##&gt;)])]); setq(7,trim(%q7)); setq(4,switch(isnum(%q4),1,%q4,0)); @pemit&#160;%#=%n rolls&#160;%q3 dice at a difficulty of&#160;%q4:%r%q7%rAchieving&#160;%q6 successes, resulting in [switch(1,lt(%q6,0),a botch!,eq(%q6,0),a failure,eq(%q6,1),a marginal success.,eq(%q6,2),a moderate success.,eq(%q6,3),a complete success.,eq(%q6,4),an 
exceptional success!,eq(%q6,5),a phenomenal success!,an unbelievable success!)]
&amp;DO_FORMS_ADD Master Staffer Object:MSO=$+forms/add *:setq(0,first(%0,:)); setq(1,extract(%0,2,1,:)); setq(8,edit(extract(%0,3,1,:),%b,_)); setq(2,extract(%0,4,words(%0,:),:)); setq(4,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(3,1); iter(%q2,setq(3,and(%q3,u(parent(me)/FN_IS_VALID_FOR_RACE,first(##,|),%q0),isnum(last(##,|)))),^); setq(5,get(%q4/INFO_TRIBE)); setq(6,first(%q5,^)); setq(7,edit(%q1,%b,_)); @switch/first [isdbref(%q4)]%q3[strmatch(%q1,ALL)][gt(match(%q6,%q1,|),0)]=0???,{@pemit&#160;%#=No such race '%q0'},?0??,{@pemit&#160;%#=I'm sorry, but some portion of your list is incorrect. Please re-enter it.},??1?,{&amp;ADJUST_RACE_%q8&#160;%q4=%q2; @pemit&#160;%#=You have set the racial adjustment for [name(%q4)]'s [edit(%q8,_,%b)] form.},???1,{&amp;ADJUST_%q7_%q8&#160;%q4=%q2; @pemit&#160;%#=You have set the tribe adjustments for the [name(%q4)] tribe [capitalize(%q1)]'s [edit(%q8,_,%b)] form.}
&amp;DO_FORMS_DEL Master Staffer Object:MSO=$+forms/del *:setq(0,first(%0,:)); setq(1,extract(%0,2,1,:)); setq(8,edit(extract(%0,3,1,:),%b,_)); setq(4,u(parent(me)/FN_GET_RACE_DBREF,%q0)); @switch/first [isdbref(%q4)][strmatch(%q1,ALL)][gt(match(%q5,%q1,|),0)]=0??,{@pemit&#160;%#=No such race '%q0'},?1?,{&amp;ADJUST_RACE_%q8&#160;%q4=%q2; @pemit&#160;%#=You have cleared the racial adjustment for [name(%q4)]'s [edit(%q8,_,%b)] form.},??1,{&amp;ADJUST_%q7_%q8&#160;%q4=%q2; @pemit&#160;%#=You have set cleared tribe adjustments for the [name(%q4)] tribe [capitalize(%q1)]'s [edit(%q8,_,%b)] form.}
&amp;DO_FORMS_LIST Master Staffer Object:MSO=$+forms/list *:setq(0,first(%0,:)); setq(1,switch(last(%0,:),ALL,RACE,%q0,RACE,edit(last(%0,:),%b,_))); setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(3,capitalize(edit(%q1,_,%b))); @switch/first [isdbref(%q2)][gt(words(lattr(%q2/ADJUST_%q1*)),0)]=0?,{@pemit&#160;%#=No such race.},?0,{@pemit&#160;%#=No forms for this race/tribe combination},{@pemit&#160;%#=[line(Forms for [name(%q2)][switch(%q1,RACE,,%b%q3s)])]%r[columns(iter(lattr(%q2/ADJUST_%q1*),capitalize(edit(extract(##,3,words(##,_),_),_,%b))),25)]%r[line(End: Forms for [name(%q2)][switch(%q1,RACE,,%b%q3s)])]}
&amp;DO_FORMS_VIEW Master Staffer Object:MSO=$+forms/view *:setq(0,first(%0,:)); setq(1,switch(extract(%0,2,1,:),ALL,RACE,%q0,RACE,edit(extract(%0,2,1,:),%b,_))); setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(3,capitalize(edit(%q1,_,%b))); setq(4,edit(last(%0,:),%b,_)); setq(5,capitalize(edit(%q4,_,%b))); @switch/first [isdbref(%q2)][hasattr(%q2,ADJUST_%q1_%q4)]=0?,{@pemit&#160;%#=No such race.},?0,{@pemit&#160;%#=No such form for this race/tribe combination.},{@pemit&#160;%#=[line([name(%q2)][switch(%q1,RACE,,%b%q3)]'s&#160;%q5 Form)]%r[center(How The Statistics Change From Basic Homid,75)]%r[columns(iter(get(%q2/ADJUST_%q1_%q4),ljust(capitalize(first(##,|)),20,.)[rjust(last(##,|),4,.)],^),25)]%r[line([name(%q2)][switch(%q1,RACE,,%b%q3)]'s&#160;%q5 Form)]}
&amp;DO_APPROVE_LIST Master Staffer Object:MSO=$+approve/list:setq(9,iter(lcon(u(APPROVAL_ROOM)),switch(gt(strmatch(flags(##),*P*),0),1,##:[u(##/APP_TIME)] ,))); @switch words(%q9)=0,{@pemit&#160;%#=No players are currently awaiting approval.},{@pemit&#160;%#=[line(Characters Awaiting Approval)]%r[ljust(Player's Name,25)] [ljust(Player's Race,20)] [ljust(Waiting Since,24)]; @pemit&#160;%#=[list(%q9,setq(0,first(##,:))[setq(1,last(##,:))][ljust(name(%q0),25)] [ljust(gettext(%q0,Race),20)] [convsecs(%q1)])]; @pemit&#160;%#=[line(End: Characters Awaiting Approval)]}
&amp;DO_PURGE_SCAN Master Staffer Object:MSO=$+purge/scan:@pemit&#160;%#=[line(Players who have been gone too long)]; @dolist search(type=player)=@switch u(FN_IDLED,##)=1,{@pemit&#160;%#=[name(##)](##[flags(##)]) has been idle too long.}; @wait 0=@pemit&#160;%#=[line(End: Players who have been gone too long)]
&amp;DO_PURGE_WIPE Master Staffer Object:MSO=$+purge/wipe:@tr [parent(parent(me))]/TR_WIPE_PLAYERS
&amp;DO_PURGE_PLAYERS Master Staffer Object:MSO=$+purge/players:@tr [parent(parent(me))]/TR_PURGE_PLAYERS
&amp;DO_SEARCH Master Staffer Object:MSO=$+search *:setq(9,switch(2,words(%0,&gt;),&gt;,words(%0,&lt;),&lt;,=)); setq(0,capitalize(first(%0,%q9))); setq(2,capitalize(last(%0,%q9))); setq(1,switch(mid(%q2,0,1),=,%q9=,%q9)); setq(2,switch(mid(%q2,0,1),=,mid(%q2,1,strlen(%q2)),%q2)); setq(0,edit(trim(%q0),%b,_)); setq(2,edit(trim(%q2),%b,_)); setq(1,switch(%q1,&gt;=,gte,&gt;,gt,=,strmatch,&lt;,lt,&lt;=,lte)); setq(5,switch(%q1,gt,Greater Than,gte,Greater Than Or Equal To,strmatch,Equal To,lt,Less Than,lte,Less Than Or Equal To)); setq(3,{%q1\(gettext(##,%q0),%q2)}); setq(3,{and\(hasattr(##,STATS),%q3\)}); setq(4,search(eval=\[%q3\])); @switch words(%q4)=0,{@pemit&#160;%#=No matches.},{@pemit&#160;%#=[line(Objects With&#160;%q0&#160;%q5&#160;%q2)]%r[ljust(Player's Name,22)] [ljust(Race,27)] Last Login%r[repeat(-,75)]; @dolist&#160;%q4=@pemit&#160;%#=[ljust(name(##),22)] [ljust(gettext(##,Race),27)] [get(##/Last)]; @wait 0=@pemit&#160;%#=[line(All Objects With&#160;%q0&#160;%q5&#160;%q2)]}
&amp;FN_MATCHES_SECTION Master Staffer Object:MSO=iter(get(%0/%1),switch(strmatch(##,%2*),1,name(%0) [capstr(lcstr(%1))] ##))
&amp;DO_RESTART Master Staffer Object:MSO=$+restart:&amp;restart me=[u(RESTART)][time()]%t[name(%#)]%r; @restart
&amp;RESTART Master Staffer Object:MSO=Sun Apr 23 00:58:47 2000     Callisto
Sun Apr 23 09:15:56 2000        Callisto
Mon Apr 24 13:09:46 2000        Mercury
Mon Apr 24 13:35:50 2000        Mercury
Wed Apr 26 03:46:29 2000        Mercury
Thu Apr 27 00:05:34 2000        Mercury
Thu Apr 27 00:08:09 2000        Mercury
Thu Apr 27 00:12:53 2000        Mercury
Thu Apr 27 00:18:16 2000        Mercury
Thu Apr 27 00:27:56 2000        Mercury
Thu Apr 27 00:34:32 2000        Mercury
Thu Apr 27 01:15:15 2000        Mercury

&amp;DO_WALL Master Staffer Object:MSO=$+wall*:@switch andflags(%#,w?)=1,{@power&#160;%#=announce; @force&#160;%#=@wall%0; @power&#160;%#!announce;}
&amp;DO_ATTR Master Staffer Object:MSO=$+attr */*=*:setq(1,%xhGAME%xn:%b); @switch and(not(isstaff(*%0)),andflags(*%0,P))=1,{ set(%0,%1:%2); @pemit&#160;%#=%q1You set [name(num(*%0))]'s [capitalize(%1)] to &quot;%2&quot;... },@pemit&#160;%#=%q1[name(num(*%0))] is not a player character. [capitalize(%1)] not set.
&amp;DO_ATTRIB Master Staffer Object:MSO=$attrib */*=*:@force&#160;%#=+attr&#160;%0/%1=%2
&amp;DO_ALTS Master Staffer Object:MSO=$+alts *:@switch isdbref(setr(1,num(*%0)))=0,@pemit&#160;%#=%xhGAME%xn: No such player.,@pemit&#160;%#=[line(Alts for: [name(%q1)])][setq(0,get(%q1/SITES))][iter(filter(FN_ISALT,search(flags=P)),%r[ljust(strtrunc([switch(isstaff(##),1,%xr[name(##)],name(##))],30),30,.)] [ifelse(isstaff(##),%xrSTAFF%t%b[u(##/BIT)],switch(gettext(##,Race),Mortal,%xg[gettext(##,Race)],,%xbGuest,%xy[gettext(##,Race)]%t[switch(gettext(##,Rank),,[switch(gettext(##,Vampire_Generation),,[switch(gettext(##,Tradition),,,[gettext(##,Tradition)]%, Arete [gettext(##,Arete)])],Generation [gettext(##,Vampire_Generation)])],Rank [gettext(##,Rank)])]))])]%xn%r%xh[center(Take with a grain of salt&#160;%(firewalls and dynamic IPs thwart this.%),79)]%xn%r[line(End: Alts)]
&amp;DO_APPROVE_LIST_OLD Master Staffer Object:MSO=+approve/list:setq(9,u(UNAPPROVED)); @switch words(%q9)=0,{@pemit&#160;%#=No players are currently awaiting approval.},{@pemit&#160;%#=[line(Characters Awaiting Approval)]%r[ljust(Player's Name,25)] [ljust(Player's Race,20)] [ljust(Waiting Since,24)]; @pemit&#160;%#=[list(u(UNAPPROVED),setq(0,first(##,:))[setq(1,last(##,:))][ljust(name(%q0),25)] [ljust(gettext(%q0,Race),20)] [convsecs(%q1)])]; @pemit&#160;%#=[line(End: Characters Awaiting Approval)]}
&amp;DO_ALTS_REMOVE Master Staffer Object:MSO=$+alts/remove *=*:@switch [and(isdbref(setr(0,num(*%0))),isdbref(setr(1,num(*%1))))]=0,@pemit&#160;%#=%xh:GAME%xn: No such player.,{&amp;SITES&#160;%q0=[setq(2,words(setinter(get(%q0/SITES),get(%q1/SITES))))][setdiff(get(%q0/SITES),get(%q1/SITES))];@pemit&#160;%#=%xhGAME%xn:&#160;%q2 addies removed from [name(%q0)].}
&amp;DO_ABILS_DESC_BAK Master Staffer Object:MSO=$+abils/desc *:setq(0,first(%0,:)); setq(1,edit(capitalize(extract(%0,2,1,:)),%b,_)); setq(3,edit(last(%0,:),\,,)); @switch/first [isdbref(u(parent(me)/FN_GET_RACE_DBREF,%q0))][u(parent(me)/FN_IS_VALID,%q1)][gte(strlen(%q3),1)]=0??,{@pemit&#160;%#=I'm sorry, but&#160;%q0 is not a race.},10?,{@pemit&#160;%#=I'm sorry, but&#160;%q1 is not a valid ability},??0,{@pemit&#160;%#=I'm sorry, but I need a description of the ability.},111,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%q0)); setq(2,u(parent(me)/FN_IN_WHICH_SECTION_FOR_RACE,%q1,%q0)); setq(1,u(parent(me)/FN_FULL_NAME_FOR_RACE,%q2,%q1,%q0)); &amp;EXPLAIN_%q1&#160;%q0=%q3; &amp;INFO_%q1&#160;%q0; @pemit&#160;%#=You have set the description for the ability '[edit(%q1,_,%b)]'.}
@set Master Staffer Object:MSO/DO_ABILS_DESC_BAK = no_command
@set Master Staffer Object:MSO=INHERIT
@set Master Staffer Object:MSO=SAFE
@set Master Staffer Object:MSO=COMMANDS
@power Master Staffer Object:MSO=announce
@rxlevel Master Staffer Object:MSO=Real
@txlevel Master Staffer Object:MSO=Real
@parent Master Staffer Object:MSO=#8
@alias #10=
---
#11
#2
#2
#72
@create Wiz Commands:WC=10
&amp;DO_SHUTDOWN Wiz Commands:WC=$+shutdown *:@switch isnum(%0)=0,{@pemit&#160;%#=I need to know how many minutes to wait before shutting down.},1,{@force&#160;%#=@wall Shutting down in&#160;%0 minutes!; @dolist lnum(%0)=@wait [mul(add(##,1),60)]=@force&#160;%#={@wall Shutting down in [sub(%0,add(##,1))] minutes!}; @wait [mul(%0,60)]=@force&#160;%#=@shutdown}
&amp;ISWIZ Wiz Commands:WC=[hasflag(%#,Wizard)]
@lock/UseLock Wiz Commands:WC=ISWIZ/1
&amp;DO_RACE_DESTROY Wiz Commands:WC=$+race/destroy *:setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); setq(1,name(%q0)); @switch/first [isdbref(%q0)][hasflag(%q0,safe)]=0*,{@pemit&#160;%#=I'm sorry, but there is no such race [capitalize(%0)].},10,{setq(0,u(parent(me)/FN_GET_RACE_DBREF,%0)); @set&#160;%q0=destroy_ok; @destroy/override&#160;%q0; @pemit&#160;%#=The race&#160;%q1 has been destroyed.},11,{@pemit&#160;%#=I'm sorry, but the race&#160;%q1 can not be destroyed.}
&amp;DO_RACE_CREATE Wiz Commands:WC=$+race/create *:setq(0,first(%0,:)); setq(1,last(%0,:)); setq(2,u(parent(me)/FN_GET_RACE_DBREF,%q1)); @switch/first [neq(words(%0,:),2)][isdbref(u(parent(me)/FN_GET_RACE_DBREF,%0))][isdbref(%q2)]=1??,{@pemit&#160;%#=I'm sorry, but race names must be one word long, followed by a&#160;:, followed by the parent race name},?1?,{@pemit&#160;%#=I'm sorry, but the race [capitalize(%0)] already exists. Please choose another name.},000,{@pemit&#160;%#=I'm sorry, but no such race&#160;%q1 exists. Please choose a valid parent race.},001,{setq(0,create(capitalize(%q0),50,t)); @tel&#160;%q0=[parent(me)]; @parent&#160;%q0=%q2; @set&#160;%q0=INHERIT; @dolist u(VALID_SECTIONS)=&amp;##&#160;%q0=\[u(parent(me)/##)\]; @wait 0=@pemit&#160;%#=You have created the race [name(%q0)].}
&amp;DO_PURGE_DAYS Wiz Commands:WC=$+purge/days *:@switch isnum(%0)=0,{@pemit&#160;%#=You must supply a number of days to wait for a purge.},{&amp;HOW_MANY_DAYS [parent(parent(me))]=%0; @pemit&#160;%#=Maximum number of days which people can be gone for is now&#160;%0.}
&amp;DO_PURGE_MAX Wiz Commands:WC=$+purge/max *:@switch isnum(%0)=0,{@pemit&#160;%#=You must supply a number of days which people can't go on vacation longer than.},{&amp;MAX_VACATION_DAYS [parent(parent(me))]=%0; @pemit&#160;%#=Maximum number of days for a vaction is now&#160;%0.}
&amp;DO_HEAVEN Wiz Commands:WC=$heav*:@tel&#160;%#=loc(me)
&amp;DO_WEATHER Wiz Commands:WC=$weat*:@tel&#160;%#=#251
&amp;DO_FINDCOMMAND Wiz Commands:WC=$+findcommand *:@dolist search(type=THING)=@switch gt(words(setr(1,lattr(##/do_[%0]*))),0)=1,@pemit&#160;%#=##: [name(##)][flags(##)] \{ [andlist(lattr(##/do_[%0]*))] \}
@set Wiz Commands:WC=INHERIT
@set Wiz Commands:WC=SAFE
@set Wiz Commands:WC=COMMANDS
@rxlevel Wiz Commands:WC=Real
@txlevel Wiz Commands:WC=Real
@parent Wiz Commands:WC=#8
@alias #11=
---
#12
#2
#2
#72
@create MIAMIO=10
@Desc MIAMIO=This is the Mux-In-A-Minute information object, where information that is needed to do updates and finish installs is stored. Please do not alter or destroy this object. Thank you.
&amp;MFDO MIAMIO=#6
&amp;MFGO MIAMIO=#7
&amp;CF MIAMIO=#8
&amp;MC MIAMIO=#9
&amp;MSO MIAMIO=#10
&amp;WC MIAMIO=#11
&amp;BEGINROOM MIAMIO=#2
&amp;MASTERROOM MIAMIO=#2
&amp;BASE_OBJECT MIAMIO=#13
&amp;BETEBASE_OBJECT MIAMIO=#14
&amp;MAGE_OBJECT MIAMIO=#19
&amp;GAROU_OBJECT MIAMIO=#15
&amp;MORTAL_OBJECT MIAMIO=#16
&amp;VAMPIRE_OBJECT MIAMIO=#17
&amp;MORTAL+_OBJECT MIAMIO=#18
&amp;NUWISHA_OBJECT MIAMIO=#22
&amp;CHANGELING_OBJECT MIAMIO=#21
&amp;WRAITH_OBJECT MIAMIO=#20
&amp;GURAHL_OBJECT MIAMIO=#23
&amp;CORAX_OBJECT MIAMIO=#24
&amp;BASTET_OBJECT MIAMIO=#25
&amp;RATKIN_OBJECT MIAMIO=#26
&amp;MOKOLE_OBJECT MIAMIO=#27
&amp;ROKEA_OBJECT MIAMIO=#28
&amp;ANANASI_OBJECT MIAMIO=#29
&amp;WEAPON_OBJECT MIAMIO=#31
&amp;ARMOR_OBJECT MIAMIO=#30
&amp;BEGINNINGS MIAMIO=#32
&amp;HALL MIAMIO=#35
&amp;FREEBIES MIAMIO=#39
&amp;MISC MIAMIO=#42
&amp;FLAWS MIAMIO=#45
&amp;MERITS MIAMIO=#48
&amp;SPELLS MIAMIO=#51
&amp;POWERS MIAMIO=#54
&amp;BGS MIAMIO=#57
&amp;ABILITIES MIAMIO=#60
&amp;ATTR MIAMIO=#63
&amp;BASICS MIAMIO=#66
@set MIAMIO=INHERIT
@set MIAMIO=SAFE
@set MIAMIO=COMMANDS
@rxlevel MIAMIO=Real
@txlevel MIAMIO=Real
@alias #12=
---
#91
#2
#170
#72
@create thuidle=10
@rxlevel thuidle=Real
@txlevel thuidle=Real
@alias #91=
---
#133
#2
#72
#72
@create Callisto's Descriptions=10
&amp;ROOTNAME Callisto's Descriptions=Callisto
&amp;DESC-MAIN Callisto's Descriptions=%tThere is a faint animalistic smell in the air, and the elegant young woman seems to be right at its centre. A face in the whitest China is contrasted by sparkling green eyes and by lips accented with purple and silvery hues. Her wild curls tower up on her head in an almost surrealistic way, just to flow down one side of it in the guise of a brunette waterfall, seeming cultivated and untamed at the same time. The beauty and the best, this one is both. Whether it is her sensuality that makes her fragrant, or the fragrance that makes her sensual, remains obscure however...
&amp;DESC-HOMID Callisto's Descriptions=There is a faint animalistic smell in the air, and the elegant young woman seems to be right at its centre. A face in the whitest China is contrasted by sparkling green eyes and by lips accented with purple and silvery hues. Her wild curls tower up on her head in an almost surrealistic way, just to flow down one side of it in the guise of a brunette waterfall, seeming cultivated and untamed at the same time. The beauty and the best, this one is both. Whether it is her sensuality that makes her fragrant, or the fragrance that makes her sensual, remains obscure however...
&amp;DESC-SOKTO Callisto's Descriptions=
        Not a thing that doesn't seem unearthly about the naked supermodel -- her beauty, her size, her size, her toned body, they all but serve to put forward the startling notion that the lens she hypnotizes does her no justice, that it is not the billboards where she is larger than life, her huge form almost seeming to blot out the light, sucking it into her pasty body, making her emerald eyes sparkle even brighter. Her wild curls tower up on her head, making her look almost seven foot tall, just to flow down one side of it in the guise of a brunette waterfall, cultivated and untamed at the same time as it barely covers one of her nipples. The beauty and the beat, this one clearly is both.
&amp;DESC-FELINE Callisto's Descriptions=The colour of sand, the heat of the desert, the cruelty of the savannah all seem to melt into one in this creature, her eyes amber orbs of judgement, wisdom and will one, sheathed within an aura of majesty, grace, death, danger and beauty combined to a compelling mixture, her manner betraying the lioness' obvious ability to take life.
&amp;NAME-FELINE Callisto's Descriptions=Moon in her Eyes
&amp;DESC-CRINOS Callisto's Descriptions=Huge. Yellow. A purring primordial bulldozer. Let's face it, you'll be dead before you can make out the details. Good night, Gracie.
&amp;NAME-CRINOS Callisto's Descriptions=Damali
&amp;DESC-CHATRO Callisto's Descriptions=The nightmare foe, the ancient smilodon incarnated, too real to be true, too large to be ignored. Completely failing to look dusty and moth-eaten, there is no salvation in the idea that this monstrous creature might be an excerpt from a museum. Her dead yellow eyes full of an ancient lust for death, she does not even seem enraged. She will kill, simply because she was created to, every cell seeming to cry out for, to speed towards to a sole, final purpose -- swift, immanent death. No incantations of remorse. It's nothing personal, you see.
&amp;NAME-CHATRO Callisto's Descriptions=Damali
&amp;DESC-COLLAR Callisto's Descriptions=Her outfit is completed by a black leather collar with silver embroidery. The buckle seems to feature a ligature of the letters I and J in silver, almost melting into a U.
&amp;DESC-RET Callisto's Descriptions=

&amp;DESC-TAB Callisto's Descriptions=      
&amp;DESC-SWIMSUIT Callisto's Descriptions=The swimsuit she is wearing is a variation on the popular pretzel design, revamped for the young millenium, or more accurately, reduced to the a bare minimum. The straps of the bikini go over her shoulders only to reemerse underarm to hold the front of her slip\; likewise, it may be assumed that it's the back of the slip that comes to the front, connecting to the sides of the micro cups. All in all, it's a rather slinky affair in shiny purple string, and it only makes a token attempt at preserving her modesty.
&amp;DESC-LABRYS Callisto's Descriptions=On her upper arm, a tattoo remains visible which turns out to be a labrys at closer inspection. One blade of the axe shows Michelle's own profile, while the other crescent depicts a brunette woman of less renown.
&amp;DESC-LATEX2 Callisto's Descriptions=She is wearing a minidress in purple latex, the bust of which buckles onto a collar ring, together with a small silver lock which secures two glittering silver chains to the ring which disappear underneath the latex covering her breasts on one hand and underneath the mass of her curls on the other. Long latex gloves and purple heels complete the outfit,which actually comes out stylish on her, completely failing to look cheap or trash-baggish, subtly demonstrating what the extra buck can do.
&amp;DESC-MINIDRESS Callisto's Descriptions=She is wearing a black velvet ultramini-dress that leaves very little of her curves to the imagination. She also looks as though she were trying very hard not to get into a bankrobbery as the first &quot;Hands up!&quot; would certainly reveal whether or not she wears underwear... Her almost implausibly long legs are pointlessly lowlighted by elegant black nylons that disappear under the almost non-existant hem of the dress. A sparkling diamond braceletand matching earrings add the je-ne-sais-quoi to the outfit, making it stunning in its simplicity.
&amp;DESC-INFURIATED Callisto's Descriptions=
        Curls of brown hair stand up some three inches on top of Lucie's head before waterfalling down the side of her head in a wild mane, framing a face of divine beauty, all the more for the sheer animalic hatred expressed by the slanted brows, the sparkling green eyes, the sneering purple lips revealing bright white teeth that almost look pointed...
&amp;DESC-NAKED Callisto's Descriptions=Her nakedness bearing unnecessary proof that her curves were not just an illusion conjured up by fancy clothing, but her earrings and the silver bracelet she wears remained when she undressed.
&amp;DESC-LEATHER Callisto's Descriptions=She is wearing black leather pants and a corset of the same material, just leaving enough room between the latter and her long gloves for a labrys tattoo on her upper arm to remain visible. One blade of the amazon axe shows her own profile, the other crescent shows that of a brunette woman of less renown.
@set Callisto's Descriptions=HALTED
@rxlevel Callisto's Descriptions=Real
@txlevel Callisto's Descriptions=Real
@alias #133=
---
#134
#2
#2
#72
@create The Callist-O-Mat=10
&amp;TAB The Callist-O-Mat=%0[SPACE(SUB(%1,STRLEN(%0)))]
&amp;TAB2 The Callist-O-Mat=[left(%0,SUB(%2,ADD(STRLEN(%1),1)))][SPACE(MAX(1,SUB(SUB(%2,STRLEN(%0)),STRLEN(%1))))]%1
@Desc The Callist-O-Mat=Callisto's bonus commands.&#160;%xh+note%xn,&#160;%xh+vote%xn,&#160;%xh+xp%xn,&#160;%xh+find%xn etc. by Azundris (Callisto@Chicago)%r%r%xhdependencies%xn: The vote-handler uses login/idle-data for each player stored in the loggin-object. Certain commands try to interface with certain other commands in +kinks, +map and various other objects, but will fail graciously if those objects are not installed.%r%r%xhtodo%xn: this will be broken down further in future releases.%r
&amp;FN_GWHO The Callist-O-Mat=[repeat(=-=,26)]%r%xh[u(tab,Name,16)][u(tab,Con'd,7)][u(tab,Idle,6)][u(tab,@tel #,8)][u(tab2,Where,Flags,41)]%xn [iter(lwho(),[switch([idle(##)],-1,,{%r[left(u(tab,[name(##)][ifelse(isstaff(##),+,)][ifelse(icstatus(##),,~)],16),16)][switch(gte(conn(##),60),1,{[u(tab,rjust(div(conn(##),3600),2):[rjust(mod(div(conn(##),60),60),2)],7)]},{[u(tab,rjust(conn(##),4)s,7)]})][switch(gte(idle(##),60),1,{[u(tab,rjust(div(idle(##),60),3)m,6)]},{[u(tab,rjust(idle(##),3)s,6)]})][rjust(switch(where(##),#-1,hidden,where(##)),6)%b[ifelse(hasflag(where(##),JUMP_OK),%b,-)][u(tab2,switch(where(##),#-1,,name(where(##))),flags(##),41)]]})])]%r[setq(0,words(lwho()))[switch(r(0),0,Are you hiding from yourself?,1,{You are the only one online, how lonely!},There are&#160;%q0 people online.)]]%r[repeat(=-=,26)]
&amp;DO_GW The Callist-O-Mat=$gw:@pemit&#160;%#=u(me/fn_gwho)
&amp;FN_FINGER The Callist-O-Mat=[repeat(=-=,26)]%r%xh[u(tab,Name,24)]Position%xn[iter(lwho(),[switch([idle(##)],-1,,{%r[u(dot,left(u(FN_IDLENAME,##),22),24)][mid(escape([switch(hasattr(##,BIT),1,stripansi(objeval(##,u(##/BIT))),stripansi(gettext(##,position)))]),1,54)]})])]%r[repeat(=-=,26)]
&amp;DOT The Callist-O-Mat=%0[REPEAT(.,SUB(%1,STRLEN(%0)))]
&amp;DO_NEWS The Callist-O-Mat=$+news*:@pemit&#160;%#=GAME: Please use '%xhnews%xn' instead, without the +. Thankyou.
&amp;DO_OOC The Callist-O-Mat=$+ooc:@switch [loc(%#)]=#0,@pemit&#160;%#=%xhGAME%xn: You are already Out Of Character.,{set(%#,IC_LOC:[loc(%#)]); set(%#/IC_LOC,wizard); @emit&#160;%xhGAME%xn: [fullname(%#)] runs off stage.;@tel&#160;%#=#0}
&amp;DO_IC The Callist-O-Mat=$+ic:@switch [hasabil(%#,BKAPPROVE)][hasattr(%#,IC_LOC)]=11,{@emit&#160;%xhGAME%xn: [fullname(%#)] goes back on stage.;@tel&#160;%#=[u(%#/IC_LOC)]},10,{@emit&#160;%xhGAME%xn: [fullname(%#)] dons the robes of Torquamada and goes In Character for the first time, all excited.;@tel&#160;%#=u(#225/MAP_CENTRE)},@pemit&#160;%#=%xhGAME%xn: You have not been approved yet.
&amp;DO_INFO The Callist-O-Mat=$+info:@pemit&#160;%#=%xhGAME%xn: [switch(strlen(setr(0,u([loc(%#)]/INFO))),0,The creator of this room is unknown; it is owned by [name(owner(loc(%#)))].,%q0)]
&amp;DO_NOTE The Callist-O-Mat=$+note*:switch(left(%0,1),/,[setq(0,ucstr(first(mid(%0,1,sub(strlen(%0),1)))))][setq(4,rest(%0))],[setq(0,LIST)][setq(4,%0)]); switch(pos(/,%q4),#-1,[setq(3,%q4)],[setq(3,first(%q4,/))][setq(2,rest(%q4,/))]); switch(or(isnum(%q3),pos(=,%q3)),1,[setq(2,%q3)][setq(1,%#)],[setq(1,switch(strlen(%0),0,%#,switch(setr(5,num(%q3)),#-1,num(*%q3),%q5)))]); switch(setr(5,pos(=,%q2)),#-1,,[setq(6,mid(%q2,%q5,sub(strlen(%q2),%q5)))][setq(2,left(%q2,sub(%q5,1)))]);@pemit&#160;%#=[switch(left(setr(9,u(FN_NOTE_[%q0],%#,%q1,trim(%q2),%q6)),3),#-1,%xhGAME%xn: Error in&#160;%xh+note/%q0%xn -- best guess: you tried to set\, delete or%r[space(6)]modify notes on something that wasn't yours.,%q9)]
@Aconnect The Callist-O-Mat=set(%#,LOGON_COUNT:[setr(1,add(1,u(%#/LOGON_COUNT)))]); set(%#/LOGON_COUNT,wizard); set(%#,TIMEON_CURR:[secs()]); set(%#/TIMEON_CURR,wizard); @switch [hasabil(%#,BKAPPROVE)]=1,@pemit&#160;%#=%xhGAME%xn: Hi [fullname(%#)]! You have now visited us&#160;%q1 times.%r[space(6)][setq(1,sub(words(lwho()),1))]There [switch(%q1,0,are no other users,1,is 1 other user,are&#160;%q1 other users)] online.,{@set&#160;%#=FIXED;@pemit&#160;%#=%xhGAME%xn: You have not been approved yet.};&amp;SITES&#160;%#=[setunion(get(%#/SITES),get(%#/LASTSITE))];@set&#160;%#/SITES=wizard
&amp;FN_NOTE The Callist-O-Mat=setq(0,[switch(setr(2,num(%0)),#-1,[num(*%0)],%q2)]);setq(1,words([u(%#/NOTE)],^));@pemit&#160;%#=[fullname(%q0)] --&#160;%q1 notes.
&amp;FN_NOTE_HELP The Callist-O-Mat=[line(+note/help)]%r%xh+note%xn/help[space(27)]view this help%r%xh+note%xn/list[space(4)][ljust(&lt;obj&gt;,23)]list notes that are set on object%r%xh+note%xn/view[space(4)][ljust(&lt;index&gt;,23)]view note number &lt;index&gt; on yourself%r%xh+note%xn/view[space(4)][ljust(&lt;obj&gt;/&lt;index&gt;,23)]view note &lt;index&gt; on object/player &lt;obj&gt;%r%xh+note/add%xn[space(5)][ljust(&lt;title&gt;=&lt;note&gt;%b,23)]sets a note on you%r%xh+note/add%xn[space(5)][ljust(&lt;obj&gt;/&lt;title&gt;=&lt;note&gt;,23)]sets a note on something you own%r%xh+note/remove%xn[ljust(%b%b&lt;index&gt;%b,25)]removes a note set on you.%r%xh+note/remove%xn[ljust(%b%b&lt;obj&gt;/&lt;index&gt;%b,25)]removes a note on one of your objects.%r%xh+note/toggle%xn[ljust(%b%b&lt;index&gt;,25)]set one of your notes PUBLIC/PRIVATE%r%xh+note/approve%xn[ljust(%b&lt;obj&gt;/&lt;index&gt;,24)]what staff use to approve notes%r%xh+note/show%xn[space(4)][ljust(&lt;index&gt;=&lt;player&gt;,23)]shows one of your notes to a player%r%xh+note/show%xn[space(4)][ljust(&lt;obj&gt;/&lt;index&gt;=&lt;player&gt; &lt;player&gt;,32)]shows a note on one of your%r[
space(37)]things to several players%r%xh+note/help2%xn[space(25)] review syntax%r%xh+note/help3%xn[space(25)] what the flags mean (PUB/PRIV/APPROVED)%r[line(End: +note/help)]
&amp;FN_NOTE_HELP2 The Callist-O-Mat=[line(+note/help)]%r%xh+note%xn\[%xh/%xn&lt;cmd&gt;\] \[&lt;obj&gt;\]|\[&lt;obj&gt;%xh/%xn\]&lt;index&gt;|\[&lt;obj&gt;%xh/%xn\]&lt;title&gt;%xh=%xn&lt;note&gt;|&lt;obj&gt;%xh/%xn&lt;index&gt;|%r[space(14)]\[&lt;obj&gt;%xh/%xn\]&lt;index&gt;%xh=%xn(%xhPUBLIC%xn|%xhPRIVATE%xn)%r%r&lt;cmd&gt; can be either of&#160;%xhadd%xn,&#160;%xhremove%xn,&#160;%xhlist%xn,&#160;%xhview%xn,&#160;%xhtoggle%xn,&#160;%xhapprove%xn,&#160;%xhhelp%xn, or&#160;%xhhelp2%xn. If &lt;cmd&gt; is not given, it will default to&#160;%xhlist%xn if an object is given, to&#160;%xhview%xn if an index or both an object and an index are given; and to&#160;%xhhelp%xn otherwise.%r%r&lt;obj&gt; can be the name of a local object, a player, a room (or&#160;%xhHERE%xn), or a dbref (object number). If &lt;obj&gt; is omitted, your player object will be assumed.%r%rFor less cryptic examples, use&#160;%xh+note/help%xn.%rFor information on the flags (%xh+note/toggle%xn,&#160;%xh+note/approve%xn) see&#160;%xh+note/help3%xn.%r[line(End: +note/help)]
&amp;FN_NOTE_LIST The Callist-O-Mat=[switch(%2,,[line(+note/list [fullname(%1)])]%r[iter(u(%1/NOTE),[rjust(#@,2)]%b|%b[ljust(extract(##,1,1,^),32)]|%b[extract(##,2,1,^)]%b|%b[extract(##,3,1,^)] -- [switch(strlen(extract(##,5,1,^)),0,NOT%b,)]APPROVED,|,%r)]%r[line(End: +note/list [fullname(%1)])],[u(FN_NOTE_VIEW,%0,%1,%2)])]
&amp;FN_NOTE_VIEW The Callist-O-Mat=[line(+note/view [fullname(%1)]/%2)]%r[switch(extract(extract(u(%1/NOTE),%2,1,|),3,1,^),PUBLIC,setq(0,u(%1/NOTE)),setq(0,objeval(%0,u(%1/NOTE))))][switch(strlen(%q0),0,%xhGAME%xn: [fullname(%1)]'s +note&#160;%2 is PRIVATE.,%r[setq(0,extract(%q0,%2,1,|))][center(%xh[extract(%q0,1,1,^)]%xn,79)]%r[center(extract(%q0,2,1,^),79)]%r%r[extract(%q0,4,1,^)][switch(setr(5,extract(%q0,5,1,^)),,,%r%r[center(%q5,79)])])]%r[line(End: +note/view [fullname(%1)]/%2)]
&amp;FN_NOTE_ADD The Callist-O-Mat=[switch(or(isstaff(%0),streq(owner(%1),%0)),1,[set(%1,NOTE:[strcat([switch(setr(1,u(%1/NOTE)),,,%q1|)],[u(FN_NOTE_DECONTAMINATE,%2)],^,[setq(2,time())][mid(%q2,4,3)]/[mid(%q2,8,2)]/[right(%q2,2)],^,PUBLIC,^,[u(FN_NOTE_DECONTAMINATE,%3)],^,[switch(isstaff(%#),1,This +note was set by a member of staff.,)])])][set(%0/NOTE,wizard)]%xhGAME%xn: Note has been set.&#160;:&#160;%)%tOh%, and Callisto was here.,%xhGAME%xn: You don't own that [name(%1)]!)]
&amp;FN_NOTE_SET The Callist-O-Mat=[switch(or(isstaff(%0),streq(owner(%1),%0)),1,[setq(1,u(%1/NOTE))][setq(2,extract(%q1,%2,1,|))][set(%1,NOTE:[replace(%q1,%2,replace(%q2,3,switch(extract(%q2,3,1,^),PUBLIC,PRIVATE,PUBLIC),^),|)])]%xhGAME%xn: Note status has been set.,%xhGAME%xn: Not your [name(%0)].)]
&amp;DO_WOMAN The Callist-O-Mat=$woman*:@force&#160;%#=man&#160;%0
&amp;FN_NOTE_TOGGLE The Callist-O-Mat=[switch(or(isstaff(%0),streq(owner(%1),%0)),1,[setq(1,u(%1/NOTE))][setq(2,extract(%q1,%2,1,|))][set(%1,NOTE:[replace(%q1,%2,replace(%q2,3,switch(extract(%q2,3,1,^),PUBLIC,PRIVATE,PUBLIC),^),|)])]%xhGAME%xn: Note status has been set.,%xhGAME%xn: You don't own that [name(%1)]!)]
&amp;FN_NOTE_APPROVE The Callist-O-Mat=switch(isstaff(%0),1,[setq(1,u(%1/NOTE))][setq(2,extract(%q1,%2,1,|))][set(%1,NOTE:[replace(%q1,%2,replace(%q2,5,This note was approved by [fullname(%0)] on [time()].,^),|)])]%xhGAME%xn: Note [fullname(%1)]/%2 has been approved.,%xhGAME%xn: You're not a member of staff. Go away.)
&amp;FN_NOTE_REMOVE The Callist-O-Mat=[switch(or(isstaff(%0),streq(owner(%1),%0)),1,[set(%1,NOTE:[ldelete(u(%1/NOTE),%2,|)])]%xhGAME%xn: Note has been deleted.,%xhGAME%xn: You don't own that [name(%1)]!)]
&amp;DO_NOTE_SHOW The Callist-O-Mat=$+note/show *=*:@switch/first [switch(pos(/,%0),#-1,[setq(1,%#)][setq(2,%0)],[setq(1,first(%0,/))][switch(setr(8,num(%q1)),#-1,setq(1,num(*%q1)),setq(1,%q8))][setq(2,last(%0,/))])][isnum(%q2)][not(streq(%q1,#-1))]=11,{@dolist&#160;%1={setq(3,num(*##));@pemit&#160;%#=%xhGAME%xn: Showing +note [fullname(%q1)]/%q2 to [fullname(%q3)]...;@pemit&#160;%q3=u(FN_NOTE_VIEW,%#,%q1,%q2)}},10,{@pemit&#160;%#=%xhGAME%xn: That object or player does not exist.},{@pemit&#160;%#=%xhGAME%xn: Which note? Please give an index.}
&amp;FN_NOTE_HELP3 The Callist-O-Mat=[line(+note: flags)]%r%xhPRIVATE%xn: Noone can see it unless the owner shows it to them. Like, TS prefs. Maybe you don't want them PUBLIC cause people might think you're a slut.%r%r%xhPRIVATE/APPROVED%xn: The note says this place is your sanctum and has banes in it, but to keep up the masq, you don't show it unless it's necessary. The APPROVED stamp proves that you didn't just make it up.%r%r%xhPUBLIC%xn: What's common knowledge about your char, or any old rant you always wanted to do ICly or OOCly.%r%r%xhPUBLIC/APPROVED%xn: Freely available IC info that looks better with wiz approval (rare case, I guess).%r[line(End: +note: flags)]
&amp;COPYRIGHT The Callist-O-Mat=Made by Callisto@ChicaGo; reuse at will, but please give credit.
&amp;DO_COFFEE The Callist-O-Mat=$coffe*:setq(1,mid(%0,2,999)); setq(0,switch(gt(strlen(%q1),0),1,iter(%q1,num(*##)),setinter(lwho(),lcon(loc(%#))))); pemit(%q0,%N snaps&#160;%p fingers. An aardvaark appears.&#160;%S makes a face. &quot;That didn't work very well.&quot;%,&#160;%s notes clinically.&#160;%S claps&#160;%p hands%, and the beast disappears. &quot;Let's try again.&quot; The air begins to shimmer%, and gradually%, a platypus becomes recognizable%, just to turn into a cup of double espresso with a plop -- double strength%, quad sugar. &quot;Aaaah%, there. That's better!&quot;);
&amp;DO_INSPECT The Callist-O-Mat=$+inspect*:switch(strlen(%0),0,setq(1,loc(%#)),setq(1,%0));@pemit&#160;%#=[u(FN_INSPECTTROOM)] [u(FN_INSPECTROOM,%q1)]%r[u(FN_INSPECTTEXITS)] [iter(lexits(%q1),u(FN_INSPECTEXITS,##))]
&amp;FN_YESNO1 The Callist-O-Mat=YES
&amp;FN_YESNO0 The Callist-O-Mat=---
&amp;FN_INSPECTEXITS The Callist-O-Mat=[right(rjust(%0,4),4)]%b[switch(hasflag(%0,DARK),1,D,%b)]%b[left(ljust(first(fullname(%0),;),16),16)]%b%b%b[u(FN_YESNO[hasattr(%0,desc)])][switch(hasflag(%0,TRANSPARENT),1,t,%b)]%b[u(FN_YESNO[hasattr(%0,succ)])]%b%b[u(FN_YESNO[hasattr(%0,osucc)])]%b%b%b[u(FN_YESNO[hasattr(%0,drop)])]%b%b[u(FN_YESNO[hasattr(%0,odrop)])]%b%b%b[u(FN_YESNO[gt(strlen(lock(%0)),0)])]%b%b[u(FN_YESNO[hasattr(%0,fail)])]%b%b[u(FN_YESNO[hasattr(%0,ofail)])]%r
&amp;FN_INSPECTTEXITS The Callist-O-Mat=%b%xhExit%xn%b%b%b[ljust(Name,16)]%b%b%bDesc Succ OSucc Drop Odrop Lock Fail Ofail%r
&amp;FN_INSPECTTROOM The Callist-O-Mat=%b%xhRoom%xn%b%b%b[ljust(Name,16)]%b%b%bDesc Ambient Prefix Fwdlist help_* view_* @parent%r
&amp;FN_INSPECTROOM The Callist-O-Mat=[right(rjust(%0,4),4)]%b%b%b[left(ljust(first(fullname(%0),;),16),16)]%b%b%b[u(FN_YESNO[hasattr(%0,desc)])]%b%b[u(FN_YESNO[hasattr(%0,ambient)])][space(5)][u(FN_YESNO[hasattr(%0,prefix)])][space(4)][u(FN_YESNO[hasattr(%0,forwardlist)])][space(5)][u(FN_YESNO[switch(words(lattr(%0/help_*)),0,0,1)])][space(4)][u(FN_YESNO[switch(words(lattr(%0/view_*)),0,0,1)])][space(4)][switch(setr(7,parent(%0)),#-1,---,%q7)]%r
&amp;DO_VOTE The Callist-O-Mat=$+vote*:switch(isstaff(%#),0,[setq(0,%0)][setq(2,%#)],[setq(1,name(setr(2,switch(streq(#-1,setr(3,num(*%0))),1,%#,%q3))))]); @switch/first strlen(%q0)=0,@pemit&#160;%#=[switch(isstaff(%#),1,line(%q1 has voted for:,79),line(You have +voted for:,79))]%r%r[iter(u(%q2/VOTES),[center(name(first(##,:)),78)]%r)]%r[center([switch(isstaff(%#),1,%q1,You have)] [switch(strlen(setr(8,u(%q2/XP))),0,never had,%q8 unspent and [switch(strlen(setr(7,u(%q2/XP_SPENT))),0,no,%q7)] spent)] XP.,79)]%r[line(End: +vote,79)],@pemit&#160;%#=%xhGAME%xn: [switch(gte(words(u(%#/VOTES)),u(VOTE_MAX)),1,You have no +votes left%, please wait a while.,switch(setr(1,num(*%0)),#-1,&quot;[capitalize(trim(%0))]&quot; is not a player character.,switch(streq(%q1,%#),1,Don't make me laugh.,switch(match(u(%#/VOTES),%q1:*),0,You have +voted for [fullname(%q1)].[set(%#,VOTES:[cat(u(%#/VOTES),&#160;%q1:[secs()])])][set(%#/VOTES,wizard)],Yes%, [name(%q1)] is cool.%r[space(6)]But give it some time before you +vote for [obj(%q1)] again?))))]
&amp;DO_XP The Callist-O-Mat=$+xp*:setq(9,%xhGAME%xn:); setq(1,switch(strlen(%0),0,%#,switch(left(%0,1),/,[setq(5,mid(%0,1,1))][num(*[first(mid(%0,pos(%b,%0),100),=)])][setq(6,rest(%0,=))],num(*%0)))); @pemit&#160;%#=[switch(%q5,,%q9 [switch(streq(%q1,#-1),1,&quot;[capitalize(trim(%0))]&quot; is not a player.,[fullname(%q1)] has [switch(strlen(setr(2,u(%q1/XP))),0,no,%q2)] unspent [switch(or(isstaff(%#),streq(%#,%q1)),1,and [switch(strlen(setr(3,u(%q1/XP_SPENT))),0,no,%q3)] spent)] XP.)],s,switch(isstaff(%#),1,[set(%q1,XP:[sub(u(%q1/XP),%q6)])][set(%q1,XP_SPENT:[add(u(%q1/XP_SPENT),%q6)])][fullname(%q1)] spent&#160;%q6 XP.,You are a not a member of staff.),g,switch(isstaff(%#),1,[set(%q1,XP:[add(u(%q1/XP),%q6)])][set(%#,XP_GIVEN:[add(u(%#/XP_GIVEN),%q6)])]You graced [fullname(%q1)] with&#160;%q6 XP.,You are not a member of staff.),%q9 Unknown option for XP?)]
&amp;VOTE_MAX The Callist-O-Mat=12
&amp;VOTE_CYCLE The Callist-O-Mat=7
&amp;VOTE_HANDLER The Callist-O-Mat=setq(7,86400); setq(1,sub(secs(),setr(8,mul(u(VOTE_CYCLE),%q7)))); @set me=VOTE_TIMEOUT:%q1; @wall +vote handling, cross your fingers!; @dolist search(eplayer=\[strlen(u(##/VOTES))\])={ @set ##=VOTES:[filter(FN_VOTEEXPIRY,u(##/VOTES))]; }; @dolist search(type=player)={@set ##=XP:[add(mul(setr(4,u(FN_IDLESUM,##)),u(XP_PER_IDLE)),mul(sub(u(FN_BUSYSUM,##),%q4),u(XP_PER_BUSY)),u(##/XP))]; @set ##/XP=wizard; }
&amp;FN_VOTEEXPIRY The Callist-O-Mat=[setq(3,pos(:,%0))][setq(1,left(%0,sub(%q3,1)))][setq(2,mid(%0,%q3,99))][switch(lt(%q2,u(#134/VOTE_TIMEOUT)),1,0[set(%q1,XP:[add(u(%q1/XP),u(cinfo/XP_PER_VOTE))])],1)]
&amp;XP_PER_VOTE The Callist-O-Mat=0.05
&amp;XP_PER_IDLE The Callist-O-Mat=0.001
&amp;XP_PER_BUSY The Callist-O-Mat=0.01
&amp;FN_BUSYSUM The Callist-O-Mat=[setq(1,0)][iter(lcon(loggin),switch(name(##),olddata,,*data,setq(1,add(%q1,u(##/[left(name(##),3)]%0)))))]%q1
&amp;FN_IDLESUM The Callist-O-Mat=[setq(1,0)][iter(lcon(loggin),switch(fullname(##),oldidle,,*idle,setq(1,add(%q1,u(##/[left(fullname(##),3)]%0)))))]%q1
&amp;VOTE_TIMEOUT The Callist-O-Mat=1082602802
&amp;DO_PLACES The Callist-O-Mat=$places:@pemit&#160;%#=[setq(1,loc(%#))][switch(words(setr(2,lattr(%q1/PLACE_*))),0,%xhGAME%xn: There are no places here.,Places in [fullname(%q1)]:[iter(%q2,%r%b%b[u(FN_PLACESUPDATE,%q1,##)][rjust(#[last(##,_)],3)]%b-%b[capitalize(first(setr(4,extract(setr(3,u(%q1/##)),1,1,|))))] [rest(%q4)] ([extract(%q3,2,1,|)]/[extract(%q3,3,1,|)]): [edit(andlist(iter(extract(%q3,7,1,|),edit(fullname(##),%b,_))),_,%b)])])]
&amp;DO_FREE The Callist-O-Mat=$free:@pemit&#160;%#=[setq(1,loc(%#))][setq(8,andlist(left(setr(7,iter(setr(3,lattr(%q1/PLACE_*)),[u(FN_PLACESUPDATE,%q1,##)][extract(setr(2,u(%q1/##)),1,1,|)] ([sub(extract(%q2,3,1,|),extract(%q2,2,1,|))]/[extract(%q2,3,1,|)])|)),sub(strlen(%q7),1)),|))][switch(words(%q3),0,No places,[capitalize(first(%q8))] [squish(rest(%q8))]%, places)] are available.
&amp;VERSION The Callist-O-Mat=a/o 11/26/00 by Callisto@Chicago (Azundris) and Charon@Chicago
&amp;DO_VERSION The Callist-O-Mat=$+version*:@pemit&#160;%#=[miamversion()]%rMigration [u(VERSION)].%rWeather &amp; Time v[u(#255/VERSION)] by [u(#255/AUTHOR)].
&amp;DO_PLAYERS The Callist-O-Mat=$+players:@pemit&#160;%#=Players on [mudname()]:%r[edit(revwords(sort(iter(search(type=player),|[setq(1,switch(hasflag(##,CONNECTED),1,[time()],[u(##/LAST)]))][right(%q1,4)]/[rjust(member(Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec,mid(%q1,4,3)),2,0)]/[rjust(trim(mid(%q1,8,2)),2,0)][switch(hasflag(##,CONNECTED),1,*,%b)]%b[rjust(left(extract(%q1,4,1),5),5,0)] [rjust(##,6)]%b%b[left(ljust(fullname(##),18,.),18)][switch(hasflag(%#,WIZARD),1,from [u(##/LASTSITE)])]),a,|),|),|,%r)]
&amp;DO_JOIN The Callist-O-Mat=$join *:setq(0,loc(%#)); setq(2,lattr(%q0/PLACE_*)); iter(%q2,[setq(3,last(setr(4,get(%q0/##)),|))][switch(gt(setr(5,member(%q3,%#)),0),1,[setq(4,replace(%q4,7,ldelete(%q3,%q5),|))][set(%q0,##:%q4)])]); switch(left(%0,1),#,setq(1,PLACE_[mid(%0,1,2)]),switch(setr(3,num(*[setr(8,switch(first(%0),with,rest(%0),%0))])),#-1,[iter(%q2,switch(match(first(get(%q0/##),|),*%q8*),0,,setq(1,##)))][switch(%q1,,[switch(isnum(%0),1,setq(1,PLACE_%0))])][setq(3,)][setq(4,capitalize(%0))],[setq(4,name(%q3))][iter(%q2,switch(member(last(get(%q0/##),|),%q3),0,,setq(1,##)))])); @pemit&#160;%#=[switch(strlen(setr(2,get(%q0/%q1))),0,switch(strlen(%q3),0,%xhGAME%xn: You managed to enter a word that is neither a player's name%,%r[space(6)]a place's name%, nor a place-number. Congratulations.&#160;:&#160;%),%xhGAME%xn:&#160;%q4 isn't seated anywhere in this place.),eval(extract(%q2,4,1,|)))];@switch gt(strlen(%q2),0)=1,{set(%q0,%q1:[trim(%q2%b%#)]); &amp;PLACE&#160;%#=last(%q1,_); u(FN_PLACESUPDATE,%q0,%q1); @pemit setinter(setdiff(
lcon(loc(%#)),%#),lwho())=[name(%#)] [eval(extract(%q2,5,1,|))]}
@Adisconnect The Callist-O-Mat=set(%#,TIMEON:[add(u(%#/TIMEON),sub(secs(),u(%#/TIMEON_CURR)))]); set(%#/TIMEON,wizard); @femit/here&#160;%#=[name(%#)] has gone: [ucstr(%0)].
&amp;FN_PLACESUPDATE The Callist-O-Mat=[setq(6,get(%0/%1))][setq(7,setinter(lcon(%0),setinter(lwho(),extract(%q6,7,1,|))))][set(%0,%1:[replace(replace(%q6,7,%q7,|),2,words(%q7),|)])]
&amp;DO_DEPART The Callist-O-Mat=$depart:setq(9,[setq(1,loc(%#))][iter(lattr(%q1/PLACE_*),[setq(2,get(%q1/##))][setq(3,last(%q2,|))][switch(gt(setr(4,member(%q3,%#)),0),1,[fullname(%#)] leaves the [first(%q2,|)].[setq(3,ldelete(%q3,%q4))][set(%q1,##:[replace(%q2,7,%q3,|)])][u(FN_PLACESUPDATE,%q1,##)])])]); @switch/first gt(strlen(%q9),0)=1,{&amp;PLACE&#160;%#; @femit/here&#160;%#=%q9},@pemit&#160;%#=%xhGAME%xn: You're not seated at a place.
&amp;DO_QUOTE The Callist-O-Mat=$'*:switch(gt(strlen(setr(1,u(%#/PLACE))),0),1,switch(gt(strlen(setr(2,u([loc(%#)]/PLACE_[%q1]))),0),1,switch(gt(member(last(%q2,|),%#),0),1,setq(9,1)))); @switch&#160;%q9=1,@force&#160;%#=tt [escape(%0)],{@switch setr(1,num(*[first(%0)]))=#-1,@pemit&#160;%#=%xhGAME%xn: [capitalize(first(%0))] is not a player?,{setq(2,rest(%0)); setq(3,[left(ljust(\[To [name(%q1)]\],18),18)][name(%#)]); @switch left(%q2,1)=:,@femit/here&#160;%#=%q3 [mid(%q2,1,1024)],%;,@femit/here&#160;%#=%q3[mid(%q2,1,1024)],|,@femit/here&#160;%#=[left(ljust(\[To [name(%q1)]\],18),18)][mid(%q2,1,1024)],@femit/here&#160;%#=%q3 says%, &quot;%q2&quot;; }}
&amp;DO_TT The Callist-O-Mat=$tt *:setq(0,loc(%#)); setq(1,last(setr(4,u(%q0/[setr(7,PLACE_[u(%#/PLACE)])])),|)); setq(4,extract(%q4,6,1,|)); @switch/first [strlen(%q1)]:[comp(default(%#/LANGUAGE, get(#1427/DEFAULT_LANGUAGE)), get(#1427/DEFAULT_LANGUAGE))]=0:*,@pemit&#160;%#=%xhGAME%xn: Please '%xhjoin%xn' a place before using&#160;%xht%xnable%xht%xnalk?,*:0,{u(#134/FN_PLACESUPDATE,%q0,%q7); @pemit/list&#160;%q1=%q4 [setr(8, [switch(setr(9,left(%0,1)),|,,name(%#))][switch(%q9,|,mid(%0,1,1024),:,%b[mid(&#160;%0,1,1024)],;,mid(%0,1,1024),%bsays%,%b&quot;%0&quot;)])]; @switch [and(not(hasattr(%l, NO_SPY)), cansee(me, me))]=1, @pemit/list [setq(9, txlevel(%#))][setq(1, setdiff(filter(#1410/FN_FILTERORCANSEE, lcon(%l)),&#160;%q1))][setq(9, Spy)][filter(#1410/FN_FILTERANDCANSEE,&#160;%q1)]=%q4&#160;%q8}, {u(#134/FN_PLACESUPDATE,&#160;%q0,&#160;%q7); @pemit&#160;%#=[setr(2,&#160;%q4 [ulocal(#1427/FN_LANG_SAY,&#160;%#, get(%#/LANGUAGE),&#160;%0)])]; @dolist [setdiff(%q1,&#160;%#)]=@pemit ##=[ulocal(#1427/FN_LANG_HEAR, ##, get(%#/LANGUAGE),&#160;%q2)]; @switch [and(not(hasattr(%l, NO_SPY)), cansee(me, me)
)]=1, {@dolist [setq(9, txlevel(%#))][setq(1, setdiff(filter(#1410/FN_FILTERORCANSEE, lcon(%l)),&#160;%q1))][setq(9, Spy)][filter(#1410/FN_FILTERANDCANSEE,&#160;%q1)]=@pemit ##=[ulocal(#1427/FN_LANG_HEAR, ##, get(%#/LANGUAGE),&#160;%q2)]}}
&amp;DO_OCC The Callist-O-Mat=$occ*:@pemit&#160;%#=[setq(1,loc(%#))][switch(words(setr(2,lattr(%q1/PLACE_*))),0,%xhGAME%xn: There are no places here.,Occupied places in [fullname(%q1)]:[iter(%q2,[u(FN_PLACESUPDATE,%q1,##)][switch(extract(setr(3,u(%q1/##)),2,1,|),0,,%r%b%b[rjust(#[last(##,_)],3)]%b-%b[capitalize(first(setr(4,extract(%q3,1,1,|))))] [rest(%q4)] ([extract(%q3,2,1,|)]/[extract(%q3,3,1,|)]): [edit(andlist(iter(extract(%q3,7,1,|),edit(fullname(##),%b,_))),_,%b)])])])]
&amp;DO_TIMEON The Callist-O-Mat=$+timeon*:setq(0,switch(gt(strlen(%0),0),1,num(*%0),%#)); setq(1,switch(hasflag(%q0,CONNECTED),1,sub(secs(),u(%q0/TIMEON_CURR)),0)); setq(2,add(%q1,u(%q0/TIMEON))); @pemit&#160;%#=%xhGAME%xn: [switch(streq(%q0,#-1),1,'[trim(%0)]' is not a player...,+timeon [left(ljust(&quot;[name(%q0)]&quot;,24),24)] today: [rjust(trunc(div(%q1,3600)),3)]:[rjust(mod(div(%q1,60),60),2,0)][space(5)]total: [rjust(trunc(div(%q2,3600)),5)] h)]
&amp;DO_TAXI The Callist-O-Mat=$+taxi:setq(1,filter(FN_ISTAXI,search(TYPE=THING))); @switch words(%q1)=0,@pemit&#160;%#=The operator tells you to call back later since all cabs are busy!,{@switch hasattr(setr(2,loc(%#)),X)=0,@pemit&#160;%#=%xhGAME%xn: Please go outside to hail a cab.,@tel first(%q1)=%q2};@switch isstaff(%#)=1,@pemit&#160;%#=%xhGAME%xn: Hallo [name(%#)]%, there [switch(setr(2,words(%q1)),1,is one taxi,are&#160;%q2 taxis)] left: [edit(andlist(iter(%q1,edit(##%, the [name(##)],%b,_))),_,%b)].
&amp;TAXI_PARENT The Callist-O-Mat=#228
&amp;FN_ISTAXI The Callist-O-Mat=[and(streq(parent(%0),u(TAXI_PARENT)),eq(words(setinter(lcon(%0),lwho())),0))]
@Daily The Callist-O-Mat=@trigger me/vote_handler; @dump/flatfile
&amp;DO_STAFFHELP The Callist-O-Mat=$+staffhelp*:@force&#160;%#=+shelp%0
&amp;DO_TEL The Callist-O-Mat=$+tel *:@switch isstaff(%#)=0,@pemit&#160;%#=%xhGAME%xn: You are not a member of staff.,@tel&#160;%#=%0;
&amp;DO_FIND The Callist-O-Mat=$+find *:@switch first(%0)=online,{@force&#160;%#=+findonline [rest(%0)];},kink*,{@force&#160;%#=+findkink [rest(%0)];},my,{setq(0,rest(%0)); @pemit&#160;%#=+find my &quot;*%q0*&quot;:[iter(search(type=THING),switch(and(gt(strmatch(name(##),*%q0*),0),streq(%#,owner(##))),1,%r[rjust(##,4)]:%xh[name(##)]%xn [switch(not(streq(setr(1,rloc(##,1)),##)),1,is in&#160;%q1:[name(%q1)] [switch(not(streq(setr(2,rloc(##,2)),%q1)),1,is in&#160;%q2:[name(%q2)])])]))]; },{@switch setr(2,num(*%0))=#-1,@force&#160;%#=+findstreet&#160;%0,@force&#160;%#=find [name(%q2)]}
&amp;DO_NAMES The Callist-O-Mat=$+names:@pemit&#160;%#=%xhGAME%xn: [setq(1,filter(fn_visstaff,setdiff(lwho(),%#)))][switch(words(%q1),0,You are alone in this. Scary%, isn't it?,iter(%q1,edit(name(##),%b,_)))]
&amp;DO_EASTER The Callist-O-Mat=$easter*:@pemit&#160;%#=%r%b/\\%r/__\\ Z U N D R I S [repeat(.%b,30)]%r%rhidden commands:&#160;%xh+names +restart gw%xn%r
&amp;DO_PLACE The Callist-O-Mat=$place *:switch(isnum(setr(0,switch(left(%0,1),#,mid(%0,1,3),%0))),0,iter(lattr([setr(1,loc(%#))]/PLACE_*),switch(gt(match(u(%q1/##),*%0*,|),0),1,setq(0,last(##,_))))); @pemit&#160;%#=[setq(1,loc(%#))][switch(words(setr(2,lattr(%q1/PLACE_%q0))),0,%xhGAME%xn: There is no such place here. (%0),[u(FN_PLACESUPDATE,%q1,%q2)][rjust(#[last(%q2,_)],3)]%b-%b[capitalize(first(setr(4,extract(setr(3,u(%q1/%q2)),1,1,|))))] [rest(%q4)] ([extract(%q3,2,1,|)]/[extract(%q3,3,1,|)]): [edit(andlist(iter(extract(%q3,7,1,|),edit(name(##),%b,_))),_,%b)])]
&amp;NOTE The Callist-O-Mat=Female roleplayers^Aug/ 2/00^PUBLIC^ 
Check this excellent article:

        http://www.TastesLikePhoenix.com/articles/women.html

^This +note was set by a member of staff.
&amp;DO_WHOAMI The Callist-O-Mat=$whoami:@pemit&#160;%#=%xhGAME%xn: [name(%#)] ([gettext(%#,Race)])
&amp;DO_MAKE_EXITS The Callist-O-Mat=$+makeexits *:@force&#160;%#=@dolist lnum(%0,add(%0,9))=@open/location ## &lt;##&gt;\\\;##
&amp;DO_KILLEXITS The Callist-O-Mat=$+killexits:@force&#160;%#=@dolist lexits(here)=@dest ##;@force&#160;%#=@dbck
&amp;DO_TT_BAK The Callist-O-Mat=$tt *:setq(0,loc(%#)); setq(1,last(setr(4,u(%q0/[setr(7,PLACE_[u(%#/PLACE)])])),|)); setq(4,extract(%q4,6,1,|)); @switch strlen(%q1)=0,@pemit&#160;%#=%xhGAME%xn: Please '%xhjoin%xn' a place before using&#160;%xht%xnable%xht%xnalk?,{u(FN_PLACESUPDATE,%q0,%q7); @pemit/list&#160;%q1=%q4 [switch(setr(9,left(%0,1)),|,,name(%#))][switch(%q9,|,mid(%0,1,1024),:,%b[mid(%0,1,1024)],;,mid(%0,1,1024),%bsays%,%b&quot;%0&quot;)]}
@set The Callist-O-Mat/DO_TT_BAK = no_command
&amp;DO_HELPERS The Callist-O-Mat=$+helpers:@pemit&#160;%#=[repeat(=-=,26)][iter(lwho(),switch(hasflag(##,HAVEN),1,%r%b%xh[left(ljust(u(FN_IDLENAME,##),20,.),20)]%xn[left(ljust(u(##/BIT),42,.),42)][right(rjust(idle(##),5,.),5)] s))]%r[repeat(=-=,26)]
&amp;FN_NOTE_DECONTAMINATE The Callist-O-Mat=[edit(edit(edit(edit(%0,%[,%(),%],%)),|,%b),^,%b)]
&amp;DO_MUTTER The Callist-O-Mat=$mutter *=*:@switch isdbref(setr(0,locate(%#,%0,imn)))=0,@pemit&#160;%#=Mutter to whom?,{@switch [setq(1,[lcon(%l)]&#160;%l)][setq(9,txlevel(%#))][setq(2,filter(FN_FILTERORCANSEE,%q1))][setq(9,txlevel(%q0))][setq(3,filter(FN_FILTERORCANSEE,%q2))][setq(2,setdiff(%q2,%q3))][setq(9,Spy[get(%l/NO_SPY)])][setq(4,filter(FN_FILTERANDCANSEE,%q2))][setq(2,setdiff(%q2,%q4))][setq(5,setunion(filter(FN_FILTERANDCANSEE,%q3),%#&#160;%q0))][setq(3,setdiff(%q3,%q5))][comp(setr(6,default(%#/LANGUAGE,get(#1427/DEFAULT_LANGUAGE))),get(#1427/DEFAULT_LANGUAGE))]=0,{@pemit/list&#160;%q5=[ulocal(FN_MUTTER_SAY,%q0,%1,0)];@pemit/list&#160;%q3=[ulocal(FN_MUTTER_SAY,%q0,%1,1)];@pemit/list&#160;%q4=[ulocal(FN_MUTTER_SAY,%oself,%1,0)];@pemit/list&#160;%q2=[ulocal(FN_MUTTER_SAY,%oself,%1,1)]},{@pemit&#160;%#=[setr(7,ulocal(#1427/FN_LANG_SAY,%#,%q6,|[ulocal(FN_MUTTER_SAY,%q0,%1,0)]))];@dolist setdiff(%q5,%#)={@pemit ##=[ulocal(#1427/FN_LANG_HEAR,##,%q6,%q7)]};@dolist [setq(7,ulocal(#1427/FN_LANG_SAY,%#,%q6,|[ulocal(FN_MUTTER_SAY,%q0,%1,1)]))]%q3={@
pemit ##=[ulocal(#1427/FN_LANG_HEAR,##,%q6,%q7)]};@dolist [set(7,ulocal(#1427/FN_LANG_SAY,%#,%q6,|[ulocal(FN_MUTTER_SAY,%oself,%1,0)]))]%q4={@pemit ##=[ulocal(#1427/FN_LANG_HEAR,##,%q6,%q7)]};@dolist [setq(7,ulocal(#1427/FN_LANG_SAY,%#,%q6,|[ulocal(FN_MUTTER_SAY,%oself,%1,1)]))]%q2={@pemit ##=[ulocal(#1427/FN_LANG_HEAR,##,%q6,%q7)]}}}
&amp;DO_MUTTER_TT The Callist-O-Mat=$mutter/tt *:setq(0,loc(%#)); setq(1,last(setr(4,u(%q0/[setr(7,PLACE_[u(%#/PLACE)])])),|)); setq(4,extract(%q4,6,1,|)); @switch/first [strlen(%q1)]:[comp(setr(8,default(%#/LANGUAGE,get(#1427/DEFAULT_LANGUAGE))),get(#1427/DEFAULT_LANGUAGE))]=0:*,@pemit&#160;%#=%xhGAME%xn: Please '%xhjoin%xn' a place before using&#160;%xht%xnable%xht%xnalk?,*:0, {[u(FN_PLACESUPDATE,%q0,%q7)][setq(9,txlevel(%#))][setq(2,filter(FN_FILTERORCANSEE,%l [lcon(%l)]))][setq(9,Spy[get(%l/NO_SPY)])][setq(1,setunion(setinter(%q1,%q2),filter(FN_FILTERANDCANSEE,%q2)))][setq(2,setdiff(%q2,%q1))];@pemit/list&#160;%q1=%q4 [ulocal(FN_MUTTER_SAY,the people near&#160;%o,%0,0)]; @pemit/list&#160;%q2=%q4 [ulocal(FN_MUTTER_SAY,the people near&#160;%o,%0,1)]},{[u(FN_PLACESUPDATE,%q0,%q7)][setq(9,txlevel(%#))][setq(2,filter(FN_FILTERORCANSEE,%l [lcon(%l)]))][setq(9,Spy[get(%l/NO_SPY)])][setq(1,setunion(setinter(%q1,%q2),filter(FN_FILTERANDCANSEE,%q2)))][setq(2,setdiff(%q2,%q1))];@pemit&#160;%#=%q4 [setr(7,ulocal(#1427/FN_LANG_SAY,%#,%q8,|[ulocal(FN_
MUTTER_SAY,the people near him,%0,0)]))];@dolist setdiff(%q1,%#)={@pemit ##=%q4 [ulocal(#1427/FN_LANG_HEAR,##,%q8,%q7)]};@dolist [setq(6,ulocal(#1427/FN_LANG_SAY,%#,%q8,|[ulocal(FN_MUTTER_SAY,the people near him,%0,1)]))]%q2={@pemit ##=[ulocal(#1427/FN_LANG_HEAR,##,%q8,%q6)]}}
&amp;FN_MUTTER_MAKEPOSE The Callist-O-Mat=[squish([first(%0,\&quot;)][switch(%2[right(trim(first(%0,\&quot;)),1)],1*,%N mutters,0.,%S mutters)] to [ifelse(isdbref(%1),[ifelse(comp(%#,%1),name(%1),%oself)],%1)]%, \&quot;[rest(%0,\&quot;)])]
&amp;FN_MUTTER_PARSE The Callist-O-Mat=[iter(%0,[ifelse(mod(#@,2),[##],\&quot;[ulocal(FN_MUTTER_SCRAMBLE,[##])]\&quot;)],\&quot;)]
&amp;FN_MUTTER_SAY The Callist-O-Mat=[setq(1, switch(mid(%1, 0, 1),:,%N [delete(%1,0,1)][setq(8,0)],;,%N[delete(%1,0,1)][setq(8,0)],|,[delete(%1,0,1)][setq(8,0)],\&quot;%1\&quot;[setq(8,1)]))][setq(2, u(FN_MUTTER_MAKEPOSE,%q1,%0,%q8))][switch(%2,0,%q2,u(FN_MUTTER_PARSE,%q2))]
&amp;FN_MUTTER_SCRAMBLE The Callist-O-Mat=[iter(%0,[ifelse(rand(2),[##],...)])]
&amp;DO_TT_MUTTER The Callist-O-Mat=$tt/mutter *:@force&#160;%#=mutter/tt&#160;%0
&amp;HOOK_COMTITLE_AFTER The Callist-O-Mat=[setq(0,left(extract(secure(setr(1,rest(%c,=))),1,2),16))][switch(not(streq(%q0,%q1)),1,force(%#,[first(%c,=)]=%q0))]
&amp;DO_CHECKMAIL The Callist-O-Mat=$+checkmail:setq(0,mail([name(%#)]));@pemit&#160;%#=%xhGAME%xn: [first(%q0)] read, [switch(setr(1,extract(%q0,2,1)),0,0 unread,%xh%q1 unread%xn)], and [last(%q0)] cleared messages.
&amp;DO_FINGER_ALL The Callist-O-Mat=$+finger:@pemit&#160;%#=u(fn_finger)
@set The Callist-O-Mat=INHERIT
@set The Callist-O-Mat=COMMANDS
@rxlevel The Callist-O-Mat=Real
@txlevel The Callist-O-Mat=Real
@parent The Callist-O-Mat=#8
@alias #134=
---
#135
#92
#72
#72
@create generic cat=10
@set generic cat=PARENT_OK
@rxlevel generic cat=Real
@txlevel generic cat=Real
@alias #135=
---
#201
#2
#2
#72
@create +phone=10
&amp;DO_HANGUP +phone=$+hangup*:@femit/here&#160;%#=switch(mid(%0,1,1),c,[name(%#)] clicks shut [poss(%#)] cellphone%, ending the call.,p,[name(%#)] hangs up and retrives [poss(%#)] telephone card.,[name(%#)] hangs up.); @switch gt(strlen(setr(1,u(%#/PHONE))),0)=1,{@pemit/list&#160;%#&#160;%q1=There is a faint click as the line breaks.; &amp;PHONE&#160;%#; &amp;PHONE&#160;%q1},&amp;PHONE_PENDING&#160;%#;
&amp;DO_DIAL +phone=$+dial*:switch(u(PHONE_PENDING),,,[set([u(PHONE_PENDING)]/PHONE_PENDING:)][set(%#,PHONE_PENDING:)]); &amp;PHONE_ANS&#160;%#; switch(hasattr(%#,PHONE),1,[set(u(%#/PHONE),PHONE:)][set(%#,PHONE:)]); switch(left(%0,1),/,[setq(3,mid(%0,1,1))][setq(2,rest(%0))],setq(2,mid(%0,1,1024))); @femit/here&#160;%#=[name(%#)] [switch(%q3,c,flips open [poss(%#)] cell phone and begins to touch in numbers.,p,sticks [poss(%#)] telephone card into the payphone and begins to dial.,seizes the phone and begins to dial.)]; @switch setr(1,num(*%q2))=#-1,@pemit&#160;%#=%xhGAME%xn: '%q2' is not a player.,{@switch hasflag(%q1,CONNECTED)=1,{@switch or(hasattr(%q1,PHONE),hasattr(%q1,PHONE_PENDING))=1,@pemit&#160;%#=The line is busy.,{@pemit&#160;%q1=%r%xhGAME%xn: Drrrrring! Someone's trying to call you. You may want to pose your%r[space(6)]phone or a phone nearby ringing. Use '%xh+answer%xn' to accept the call.%r; &amp;PHONE_PENDING&#160;%q1=%#; &amp;PHONE_PENDING&#160;%#=%q1; &amp;PHONE_ANS&#160;%q1=1; @pemit&#160;%#=The phone starts to ring on the other end...}},@pemit&#160;%#=switch(
gt(strlen(setr(5,u(%q1/MESSAGE))),0),1,The phone is picked up on the other end:%r&quot;%q5&quot;%r(Use '%xh@mail [name(%q1)]=phone message%xn' to leave a message on the machine.),The phone keeps ringing%, but noone picks it up.);}
@Adisconnect +phone=&amp;PHONE&#160;%#; &amp;PHONE_PENDING&#160;%#; &amp;PHONE_ANS&#160;%#
&amp;DO_ANSWER +phone=$+answer*:switch(left(%0,1),/,[setq(3,mid(%0,1,1))][setq(2,rest(%0))],setq(2,mid(%0,1,1024))); @femit/here&#160;%#=[name(%#)] [switch(%q3,c,flips open [poss(%#)] cell phone to answer the call.,p,takes [poss(%#)] call on the payphone.,seizes the phone to answer the call.)]; @switch streq(%#,u([u(%#/PHONE_PENDING)]/PHONE_PENDING))=0,@pemit&#160;%#=%xhGAME%xn: Too slow! The line is dead. The other party must have hang up.,{@switch and(hasattr(%#,PHONE_ANS),gt(strlen(setr(1,u(%#/PHONE_PENDING))),0))=0,@pemit&#160;%#=%xhGAME%xn: You had no call waiting from the system.,{@pemit/list&#160;%#&#160;%q1=There is a click as the line is established.; &amp;PHONE&#160;%#=%q1; &amp;PHONE&#160;%q1=%#; &amp;PHONE_PENDING&#160;%#;}}
@Desc +phone=Phone code, copyleft by Callisto@ChicaGo and Azundris
&amp;DO_CALL +phone=$call*:@force&#160;%#=+dial%0
&amp;DO_PHONE +phone=$+phone*:@switch left(%0,1)=/,{@pemit/list&#160;%# u(%#/PHONE_PENDING)=switch(mid(%0,1,1),r,The phone rings and rings%, but noone picks it up.,u,This is no longer a working number.,b,The line is busy.,%xhGAME%xn: Not a valid switch for +phone.); switch(u([setr(1,u(%#/PHONE_PENDING))]/PHONE_PENDING),%#,set(%q1,PHONE_PENDING:)); set(%#,PHONE_PENDING:); set(%#,PHONE_ANS:); },@force&#160;%#=+dial%0
&amp;DO_PSAY +phone=$+psay *:@force&#160;%#=+talk&#160;%0
&amp;DO_TALK_BAK +phone=$+talk *:switch(gt(strlen(setr(4,u(%#/PHONEALIAS))),0),0,setq(4,switch(left(u(%#/SEX),1),f,a woman,m,a lad,someone))); @switch strlen(setr(1,u(%#/PHONE)))=0,@pemit&#160;%#=%xhGAME%xn: Please '%xh+dial%xn' someone's number before using&#160;%xh+talk%xn?,{ setq(3,[switch(left(%0,1),|,mid(%0,1,1024),:,%b[mid(%0,1,1024)],;,mid(%0,1,1024),%bsays%,%b&quot;%0&quot;)]); @pemit&#160;%q1=On the phone%, [switch(left(%0,1),|,,%q4)]%q3; @switch left(%0,1)=|,,@femit/here&#160;%#=Directed into [poss(%#)] telephone%, [name(%#)]%q3; }
@set +phone/DO_TALK_BAK = no_command
&amp;DO_TALKQ_BAK +phone=$+talkq *:switch(gt(strlen(setr(4,u(%#/PHONEALIAS))),0),0,setq(4,switch(left(u(%#/SEX),1),f,a woman,m,a lad,someone))); @switch strlen(setr(1,u(%#/PHONE)))=0,@pemit&#160;%#=%xhGAME%xn: Please '%xh+dial%xn' someone's number before using&#160;%xh+talk%xn?,{ @pemit/list&#160;%#&#160;%q1=On the phone, [switch(setr(9,left(%0,1)),|,,%q4)][switch(%q9,|,mid(%0,1,1024),:,%b[mid(%0,1,1024)],;,mid(%0,1,1024),%bsays%,%b&quot;%0&quot;)]}
@set +phone/DO_TALKQ_BAK = no_command
&amp;DO_TALK +phone=$+talk *:switch(gt(strlen(setr(4,u(%#/PHONEALIAS))),0),0,setq(4,switch(left(u(%#/SEX),1),f,a woman,m,a lad,someone))); @switch/first [strlen(setr(1,u(%#/PHONE)))]:[comp(default(%#/LANGUAGE, get(#1427/DEFAULT_LANGUAGE)), get(#1427/DEFAULT_LANGUAGE))]=0:*,@pemit&#160;%#=%xhGAME%xn: Please '%xh+dial%xn' someone's number before using&#160;%xh+talk%xn?,*:0,{ setq(3,[switch(left(%0,1),|,mid(%0,1,1024),:,%b[mid(%0,1,1024)],;,mid(%0,1,1024),%bsays%,%b&quot;%0&quot;)]); @pemit&#160;%q1=On the phone%, [switch(left(%0,1),|,,%q4)]%q3; @dolist [setq(9,txlevel(%#))][filter(FN_FILTERORCANSEE,%l [lcon(%l)])]=@pemit ##=Directed into [switch(left(%0,1),|,%N's telephone%,%b,%p telephone%,&#160;%N)]%q3; @pemit/list [setq(9,txlevel(%q1))][setq(6,filter(FN_FILTERORCANSEE,setdiff([loc(%q1)] [lcon(loc(%q1))],%q1&#160;%l [lcon(%l)])))][setq(9,Spy)][filter(FN_FILTERANDCANSEE,%q6)]=On [name(%q1)]'s phone%, [switch(left(%0,1),|,,%q4)]%q3},{setq(3,[switch(left(%0,1),|,ulocal(#1427/FN_LANG_SAY,%#,get(%#/LANGUAGE),%0),after(ulocal(#1427/FN_LANG_SAY,%#,get(%#
/LANGUAGE),%0),%N))]); @pemit&#160;%q1=On the phone%, [switch(left(%0,1),|,,;,%q4,%q4%b)][ulocal(#1427/FN_LANG_HEAR,%q1,get(%#/LANGUAGE),%q3)]; @dolist [setq(9, txlevel(%#))][filter(FN_FILTERORCANSEE,&#160;%l [lcon(%l)])]=@pemit ##=Directed into [switch(left(%0,1),|,%N's telephone%,%b,;,%p telephone%,&#160;%N,%p telephone%,&#160;%N%b)][ulocal(#1427/FN_LANG_HEAR,##,get(%#/LANGUAGE),%q3)]; @dolist [setq(9,txlevel(%q1))][setq(6,filter(FN_FILTERORCANSEE,setdiff([loc(%q1)] [lcon(loc(%q1))],%q1&#160;%l [lcon(%l)])))][setq(9,Spy)][filter(FN_FILTERANDCANSEE,%q6)]=@pemit ##=On [name(%q1)]'s phone%, [switch(left(%0,1),|,,;,%q4,%q4%b)][ulocal(#1427/FN_LANG_HEAR,%q1,get(%#/LANGUAGE),%q3)]}
&amp;DO_TALKQ +phone=$+talkq *:switch(gt(strlen(setr(4,u(%#/PHONEALIAS))),0),0,setq(4,switch(left(u(%#/SEX),1),f,a woman,m,a lad,someone))); @switch [strlen(setr(1,u(%#/PHONE)))]:[comp(default(%#/LANGUAGE, get(#1427/DEFAULT_LANGUAGE)), get(#1427/DEFAULT_LANGUAGE))]=0:*,@pemit&#160;%#=%xhGAME%xn: Please '%xh+dial%xn' someone's number before using&#160;%xh+talk%xn?,*:0,{@pemit/list&#160;%#&#160;%q1=On the phone, [setr(3,[switch(setr(9,left(%0,1)),|,,%q4)][switch(%q9,|,mid(%0,1,1024),:,%b[mid(%0,1,1024)],;,mid(%0,1,1024),%bsays%,%b&quot;%0&quot;)])]; @pemit/list [setq(9,txlevel(%#))][setq(6,filter(FN_FILTERORCANSEE,setdiff(%l [lcon(%l)],%#&#160;%q1)))][setq(9,Spy)][filter(FN_FILTERANDCANSEE,%q6)]=Quietly, into&#160;%N's phone,&#160;%q3; @pemit/list [setq(9,txlevel(%q1))][setq(6,filter(FN_FILTERORCANSEE,setdiff([loc(%q1)] [lcon(loc(%q1))],%q1&#160;%#)))][setq(9,Spy)][filter(FN_FILTERANDCANSEE,%q6)]=On [name(%q1)]'s phone,&#160;%q3},{setq(3,[switch(left(%0,1),|,ulocal(#1427/FN_LANG_SAY,%#,get(%#/LANGUAGE),%0),after(ulocal(#1427/FN_LANG_SAY,%#,get(%#/LANGUAGE),%0),%N))]); 
@pemit&#160;%#=Directed into&#160;%p phone, [switch(left(%0,1),|,,;,%N,%N%b)]%q3; @pemit&#160;%q1=On the phone, [switch(left(%0,1),|,,;,%q4,%q4%b)][ulocal(#1427/FN_LANG_HEAR,%q1,get(%#/LANGUAGE),%q3)]; @dolist [setq(9,txlevel(%#))][setq(6,filter(FN_FILTERORCANSEE,setdiff(%l [lcon(%l)],%#&#160;%q1)))][setq(9,Spy)][filter(FN_FILTERANDCANSEE,%q6)]=@pemit ##=Quietly, into&#160;%p phone, [switch(left(%0,1),|,,;,%q4,%q4%b)][ulocal(#1427/FN_LANG_HEAR,##,get(%#/LANGUAGE),%q3)]; @dolist [setq(9,txlevel(%q1))][setq(6,filter(FN_FILTERORCANSEE,setdiff([loc(%q1)] [lcon(loc(%q1))],%#&#160;%q1)))][setq(9,Spy)][filter(FN_FILTERANDCANSEE,%q6)]=@pemit ##=On [name(%q1)]'s phone, [switch(left(%0,1),|,,;,%q4,%q4%b)][ulocal(#1427/FN_LANG_HEAR,##,get(%#/LANGUAGE),%q3)]}
@set +phone=COMMANDS
@rxlevel +phone=Real
@txlevel +phone=Real
@alias #201=
---
#202
#2
#170
#72
@create wedidle=10
@rxlevel wedidle=Real
@txlevel wedidle=Real
@alias #202=
---
#203
#2
#170
#72
@create tueidle=10
@rxlevel tueidle=Real
@txlevel tueidle=Real
@alias #203=
---
#204
#2
#170
#72
@create monidle=10
@rxlevel monidle=Real
@txlevel monidle=Real
@alias #204=
---
#205
#2
#170
#72
@create oldidle=10
@rxlevel oldidle=Real
@txlevel oldidle=Real
@alias #205=
---
#221
#2
#170
#72
@create friidle=10
@rxlevel friidle=Real
@txlevel friidle=Real
@alias #221=
---
#222
#2
#170
#72
@create satidle=10
@rxlevel satidle=Real
@txlevel satidle=Real
@alias #222=
---
#223
#2
#170
#72
@create sunidle=10
@rxlevel sunidle=Real
@txlevel sunidle=Real
@alias #223=
---
#224
#107
#107
#72
@create PARENT: Harley=10
@lock/EnterLock PARENT: Harley=PARENT: Harley
@Sex PARENT: Harley=male
&amp;BIT PARENT: Harley=Code?
@lock/TportLock PARENT: Harley=PARENT: Harley
&amp;XP PARENT: Harley=0.03
&amp;TIMEON PARENT: Harley=889
&amp;LOGON_COUNT PARENT: Harley=1
&amp;TIMEON_CURR PARENT: Harley=955572624
@Desc PARENT: Harley=A classic '94 Harley Davidson. Jet black with blued chrome. This is one very hot-looking bike. If it had wings, it would fly... &lt;bikehelp&gt;%r%rNOTE: You must type @listen &lt;bikename&gt;=* to be able to hear what's going on outside.
@Ealias PARENT: Harley=hop on;mount;mount bike;mount motorbike;mount motorcycle
@Lalias PARENT: Harley=hop off;dismount;unmount;o;out;leave
@Enter PARENT: Harley=You hop on the [name(me)]. The Bike growls between your legs.
@Oenter PARENT: Harley=hops onto the bike behind you...
@Oxenter PARENT: Harley=hops onto the [name(me)] and crouches down, you hear the motor growl...
@Leave PARENT: Harley=You jump off the bike and see it go into idle mode... The motor purrs...
@Oleave PARENT: Harley=jumps off of the bike...
@Oxleave PARENT: Harley=jumps off of the [name(me)], the bike settles into idle mode, the motor winding down from a growl to a purr...
@Listen PARENT: Harley=*
@VA PARENT: Harley=$drive *:\\The [name(me)] growls and speeds out of sight!;move&#160;%0
@Fail PARENT: Harley=Fergeddaboudit!
@VB PARENT: Harley=$scan:look
@VE PARENT: Harley=$drive home:home
@VF PARENT: Harley=$rev*:: 's engine revs, &quot;VROOOOOOOOOOOOOOOOOOOOOOOOM!
@Omove PARENT: Harley=thunders into view, the exhaust rumbling.
@VH PARENT: Harley=$tunes,*:\\A tape automatically is inserted and from two mega-bass speakers welded above the handlebars, the latest&#160;%0 tune starts slamming into yer ears!
@VI PARENT: Harley=$scan *:look&#160;%0
&amp;SCORE PARENT: Harley=6
&amp;MOTOR PARENT: Harley=$motor *:&amp;DCount me=0;@tr me/motor2=%0,&#160;%N
&amp;DCMAX PARENT: Harley=5
&amp;DCOUNT PARENT: Harley=0
&amp;MOTOR2 PARENT: Harley=@switch&#160;%0=*,{drive&#160;%0;@wait v(speed)=@tr me/motor2=%0},{@emit The [name(me)] screeches to a stop...}
&amp;BRAKE PARENT: Harley=$brake:@halt me;@emit The [name(me)] screeches to a stop...
&amp;SHIFT PARENT: Harley=$shift *:&amp;speed me=%0
&amp;SPEED PARENT: Harley=0
@Odesc PARENT: Harley=checks out the [name(me)].
&amp;BHELP PARENT: Harley=$bikehelp:@pemit&#160;%#= Commands for the Bike:%r%rhop on%rhop off%rdrive &lt;direction&gt;%rdrive home%t%t(teleports bike and contents home)%rscan%t%t%t(look)%rscan &lt;object&gt;%t%t(look at object)%rrev%t%t%t(revs the engine)%rtunes,&lt;band name&gt;%t(blasts the speaker!)%rhorn%t%t%t(honk the horn)
&amp;CREDITS PARENT: Harley=Coded by mjg@biosun.harvard.edu, updated and brought to you here by Jade@CitadelMUSH, brought to Dark Metal by yours truly, Fishbone
@Filter PARENT: Harley=* has left.,* has arrived.
@Infilter PARENT: Harley=* has left,* has arrived.
&amp;HORN PARENT: Harley=$horn:@switch [num(me)]=[loc([v(#)])],{@pemit me=[v(n)] honks the horn.;@emit The [name(me)]'s horn HONKS!}
@lock/TeloutLock PARENT: Harley==#0
@Tfail PARENT: Harley=This object is set jump_OK so as to make it's muber clear. It is not set up to b teleported to.
@set PARENT: Harley=DARK
@set PARENT: Harley=MONITOR
@set PARENT: Harley=VISUAL
@set PARENT: Harley=PARENT_OK
@set PARENT: Harley=AUDIBLE
@set PARENT: Harley=HALTED
@set PARENT: Harley=SAFE
@rxlevel PARENT: Harley=Real
@txlevel PARENT: Harley=Real
@alias #224=
---
#225
#2
#2
#72
@create +map=10
@Desc +map=%rMap code, copyleft by Azundris (Callisto@Chicago).%r%r%xh&amp;MAP_CENTRE +map=%xndb_ref_of_your_1st_IC_room%r%xh+map/create%xn to build the map.%r%xh+map%xn to view it.&#160;%xh+map%xn &lt;name&gt; highlight the given street's or person's location.%r%r%xhRequirements%xn:&#160;%xhMAP_CENTRE%xn needs to be set.%r%r%xhLimitations%xn: Will only map rooms accessable from&#160;%xhMAP_CENTRE%xn through repeated use of the eight directions of the compass rose plus up and down. These are also required for&#160;%xh+compass%xn to render usable results.%r%xhfunction_invocation_limit%xn may need to be raised depending on the size of your map (above the 12,5oo Keran's weathercode requires; we use 18000(!)); likewise for&#160;%xhfunction_recursion_limit%xn (we use 4oo). These two can be set using the&#160;%xh@admin%xn command; putting them in your&#160;%xh.conf%xn-file is preferable, however.%r
&amp;MAP_CENTRE +map=#808
&amp;FN_MAPCOORDDO +map=[switch(member(u(MAP_DONE),%0),0,%r[rjust(%0,6)] [rjust(%1,3)]/[rjust(%2,3)]/[rjust(%3,3)]%b%b[left(ljust(name(%0),32),32)][switch(lt(%1,u(MAP_XMIN)),1,set(me,MAP_XMIN:%1))][switch(lt(%2,u(MAP_YMIN)),1,set(me,MAP_YMIN:%2))][switch(lt(%3,u(MAP_ZMIN)),1,set(me,MAP_ZMIN:%3))][switch(gt(%1,u(MAP_XMAX)),1,set(me,MAP_XMAX:%1))][switch(gt(%2,u(MAP_YMAX)),1,set(me,MAP_YMAX:%2))][switch(gt(%3,u(MAP_ZMAX)),1,set(me,MAP_ZMAX:%3))][set(%0,X:%1)][set(%0,Y:%2)][set(%0,Z:%3)][set(me,MAP_DONE:[setr(1,[u(MAP_DONE)]&#160;%0)])][iter(lexits(%0),[setq(2,ucstr(fullname(##)))][switch(gt(member(%q1,setr(3,loc(##))),0),0,[switch(gt(member(%q2,WEST,;),0),1,u(FN_MAPCOORDDO,%q3,sub(%1,1),%2,%3))][switch(gt(member(%q2,EAST,;),0),1,u(FN_MAPCOORDDO,%q3,add(%1,1),%2,%3))][switch(gt(member(%q2,NORTH,;),0),1,u(FN_MAPCOORDDO,%q3,%1,sub(%2,1),%3))][switch(gt(member(%q2,SOUTH,;),0),1,u(FN_MAPCOORDDO,%q3,%1,add(%2,1),%3))][switch(gt(member(%q2,SOUTHWEST,;),0),1,u(FN_MAPCOORDDO,%q3,sub(%1,1),add(%2,1),%3))][switch(gt(member(%q2,
SOUTHEAST,;),0),1,u(FN_MAPCOORDDO,%q3,add(%1,1),add(%2,1),%3))][switch(gt(member(%q2,NORTHWEST,;),0),1,u(FN_MAPCOORDDO,%q3,sub(%1,1),sub(%2,1),%3))][switch(gt(member(%q2,NORTHEAST,;),0),1,u(FN_MAPCOORDDO,%q3,add(%1,1),sub(%2,1),%3))][switch(gt(member(%q2,UP,;),0),1,u(FN_MAPCOORDDO,%q3,%1,%2,add(%3,1)))][switch(gt(member(%q2,DOWN,;),0),1,u(FN_MAPCOORDDO,%q3,%1,%2,sub(%3,1)))])])])]
&amp;FN_MAPCOORDUPD +map=[set(me,MAP_XMIN:0)][set(me,MAP_YMIN:0)][set(me,MAP_ZMIN:0)][set(me,MAP_XMAX:0)][set(me,MAP_YMAX:0)][set(me,MAP_ZMAX:0)][set(me,MAP_DONE:)][u(FN_MAPCOORDDO,u(MAP_CENTRE),0,0,0)]
&amp;FN_MAPINIT +map=[setq(4,add(1,mul(2,sub(u(MAP_XMAX),u(MAP_XMIN)))))][setq(5,add(1,mul(2,sub(u(MAP_YMAX),u(MAP_YMIN)))))][setq(6,add(1,sub(u(MAP_ZMAX),u(MAP_ZMIN))))][iter(lmin(u(MAP_ZMIN),u(MAX_ZMAX)),set(me,MAP_LVL[##]:[repeat([repeat(%b,%q4)]&amp;,%q5)]))]
&amp;FN_MAPSET +map=[setq(5,extract(get(me/MAP_LVL[%3]),%2,1,&amp;))][setq(6,[switch(gt(setr(9,sub(%1,1)),0),1,left(%q5,%q9))]%0[switch(gt(setr(9,sub(strlen(%q5),%1)),0),1,right(%q5,%q9))])][set(me,MAP_LVL[%3]:[replace(get(me/MAP_LVL[%3]),%2,%q6,&amp;)])]
&amp;FN_MAPSETUP +map=[iter(search(type=ROOM),switch(and(hasattr(##,X),hasattr(##,Y)),1,[setq(1,add(1,mul(2,sub(u(##/X),u(MAP_XMIN)))))][setq(2,add(1,mul(2,sub(u(##/Y),u(MAP_YMIN)))))][setq(3,switch(hasattr(##/Z),1,u(##/Z),0))][u(FN_MAPSET,O,%q1,%q2,%q3)][iter(lexits(##),[setq(4,ucstr(fullname(##)))][switch(gt(member(%q4,WEST,;),0),1,u(FN_MAPSET,-,sub(%q1,1),%q2,%q3))][switch(gt(member(%q4,EAST,;),0),1,u(FN_MAPSET,-,add(%q1,1),%q2,%q3))][switch(gt(member(%q4,NORTH,;),0),1,u(FN_MAPSET,|,%q1,sub(%q2,1),%q3))][switch(gt(member(%q4,SOUTH,;),0),1,u(FN_MAPSET,|,%q1,add(%q2,1),%q3))][switch(gt(member(%q4,SOUTHWEST,;),0),1,u(FN_MAPSET,/,sub(%q1,1),add(%q2,1),%q3))][switch(gt(member(%q4,SOUTHEAST,;),0),1,u(FN_MAPSET,%\,add(%q1,1),add(%q2,1),%q3))][switch(gt(member(%q4,NORTHWEST,;),0),1,u(FN_MAPSET,%\,sub(%q1,1),sub(%q2,1),%q3))][switch(gt(member(%q4,NORTHEAST,;),0),1,u(FN_MAPSET,/,add(%q1,1),sub(%q2,1),%q3))][switch(gt(member(%q4,UP,;),0),1,u(FN_MAPSET,@,%q1,%q2,%q3))][switch(gt(member(%q4,DOWN,;),0),1,u(FN_MAPSET,@,%q1,%
q2,%q3))])]))]
&amp;FN_MAP +map=:%b[switch(strlen(%1),0,[switch(strlen(%0),0,You are &lt;OOC&gt;.,name(%0))],[switch(strlen(%0),0,You are &lt;OOC&gt;.,X=[name(%0)])][space(6)][switch(hasattr(%1,X),0, Your party is &lt;OOC&gt; (in [name(%1)]).,*=[name(%1)])])]%r[setq(0,%0)][setq(1,add(mul(2,sub(u(%q0/X),u(MAP_XMIN))),1))][setq(2,add(mul(2,sub(u(%q0/Y),u(MAP_YMIN))),1))][setq(3,sub(u(%q0/Z),u(MAP_ZMIN)))][setq(4,get(me/MAP_LVL[%q3]))][switch(hasattr(%0,X),1,setq(4,replace(%q4,%q2,u(FN_MAPMARKUP,X,%q1,%q2,%q4),&amp;)))][switch(and(gt(strlen(%1),0),hasattr(%1,X)),1,[setq(0,%1)][setq(1,add(mul(2,sub(u(%q0/X),u(MAP_XMIN))),1))][setq(2,add(mul(2,sub(u(%q0/Y),u(MAP_YMIN))),1))][setq(8,sub(u(%q0/Z),u(MAP_ZMIN)))][setq(4,replace(%q4,%q2,u(FN_MAPMARKUP,switch(eq(%q3,%q8),1,*,+),%q1,%q2,%q4),&amp;))])][iter(%q4,%r##,&amp;)]
&amp;DO_MAP +map=$+map*:@pemit&#160;%#=switch(left(%0,1),/,switch(iswiz(%#),0,%xhGAME%xn: You are not a wizard!,[setq(7,%xhGAME%xn:)]%q7 resetting coordinate information MUSH-wide [u(FN_MAPCOORDRST)]...%r%q7 creating coordinate information in rooms...[u(FN_MAPCOORDUPD)]%r%q7 dimensions=([u(MAP_XMIN)]..[u(MAP_XMAX)];[u(MAP_YMIN)]..[u(MAP_YMAX)];[u(MAP_ZMIN)]..[u(MAP_ZMAX)])%r%q7 creating blank map...[u(FN_MAPINIT)]%r%q7 setting up map for [mudname()]...[u(FN_MAPSETUP)]),%xh[mudname()]%xn[u(FN_MAP,last(u(FN_FINDUP,loc(%#))),switch(strlen(%0),0,,[setq(7,u(FN_FIND,trim(%0)))][setq(8,first(%q7))][iter(%q7,switch(lt(strlen(name(##)),strlen(name(%q8))),1,setq(8,##)))]%q8))]); @switch left(%0,1)=/,{give mudname()=10000; @dolist search(type=ROOM)={@switch hasattr(##,X)=1,{@chown/nostrip ##=[mudname()]; @set ##=!HALTED; @parent ##=u(STREET_PARENT); }}; @dolist search(type=EXIT)={ @switch hasattr(loc(##),X)=1,{@desc ##=%[u(%[loc(##)%]/desc)%]; @chown/nostrip ##=[mudname()]; @set ##=!TRANSPARENT; @set ##=!HALTED; }}}
&amp;MAP_XMIN +map=-5
&amp;MAP_YMIN +map=-4
&amp;MAP_ZMIN +map=0
&amp;MAP_XMAX +map=6
&amp;MAP_YMAX +map=4
&amp;MAP_ZMAX +map=0
&amp;FN_MAPMARKUP +map=[setq(5,extract(%3,%2,1,&amp;))][switch(gt(setr(9,sub(%1,1)),0),1,left(%q5,%q9))]%0[switch(gt(setr(9,sub(strlen(%q5),%1)),0),1,right(%q5,%q9))]
&amp;FN_FIND +map=[switch(setr(0,num(*%0)),#-1,[setq(1,*[edit(%0,%b,*)]*)][iter(search(type=ROOM),switch(strmatch(name(##),%q1),0,,switch(and(hasattr(##,X),hasattr(##,Y)),1,##)))],last(u(FN_FINDUP,loc(%q0))))]
&amp;FN_FINDUP +map=[switch(hasattr(%0,X),1,%0,iter(lexits(%0),switch(member(fullname(##),out,;),0,%0,u(FN_FINDUP,loc(##)))))]
&amp;STREET_PARENT +map=#266
&amp;DO_FINDSTREET +map=$+findstreet *:@pemit&#160;%#=%xhGAME%xn:%b%b%blocations matching '*%0*': [setq(1,ucstr(%0))][iter(search(type=ROOM),switch(pos(%q1,ucstr(fullname(##))),#-1,,%r[rjust(##,5)][switch(hasflag(##,JUMP_OK),1,J,%b)]%b%b[ljust(switch(hasattr(##,X),1,%{[rjust(u(##/X),3)]/[rjust(u(##/Y),3)]/[rjust(u(##/Z),3)]%},&lt;inside&gt;),15)][fullname(##)]))]
&amp;MAP_LVL-1 +map=                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;
                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;                                         &amp;
&amp;MAP_LVL0 +map=  O-O-O-O-O-O-O-O-O-O-O&amp;    | |     |     |   |&amp;    O O     O   O-O   O&amp;    | |     |  /  |   |&amp;    O O     O O-O O   O&amp;    | |     |/   /    |&amp;    O O O   O   O     O&amp;    | |  \ /    |     |&amp;    O O   O     O     O&amp;    | |   |     |     |&amp;  O-O-O-O-O-O-O-O-O-O O&amp;    | |         |    \|&amp;  O-O-O         O     O&amp;  | |                  &amp;O-O-O                  &amp;  | |                  &amp;  O-O-O                &amp;
&amp;FN_MAPCOORDRST +map=[iter(search(type=ROOM),[set(##,X:)][set(##,Y:)][set(##,Z:)])]
&amp;MAP_DONE +map=#808 #623 #631 #662 #708 #769 #773 #780 #783 #788 #791 #797 #800 #803 #119 #122 #125 #128 #132 #142 #760 #756 #753 #750 #747 #744 #738 #734 #116 #113 #106 #587 #580 #565 #537 #517 #598 #397 #477 #468 #511 #483 #487 #500 #474 #507 #471 #497 #227 #168 #148 #145 #65 #3 #794 #741 #822
@set +map=COMMANDS
@rxlevel +map=Real
@txlevel +map=Real
@alias #225=
---
#228
#107
#107
#72
@create PARENT: +taxi=10
@lock PARENT: +taxi=*Callisto
@Desc PARENT: +taxi=Taxis are supposed to be created by wizards only; you can however break this rule in rare cases (like when you need to make love in a carriage going past public places&#160;:).%rDon't forget to set DESC and IDESC (interior description) for any taxis or cars you make! Then get in and type&#160;%xh@listen HERE=*%xn so you'll get an idea of what's going on outside.%r%xh@set HERE=COMMANDS%xn so you can actually use the thing and get places.%r%xh@set HERE=AUDIBLE%xn so those guys outside can hear you (if you want that).
&amp;FN_BUSYLIST PARENT: +taxi=[filter(FN_ISBUSY,search(type=ROOM))]
&amp;FN_ISBUSY PARENT: +taxi=[and(hasattr(%0,X),gt(words(setinter(lwho(),lcon(%0))),0))]
&amp;DO_DRIVETO PARENT: +taxi=$driveto *:@eval setq(0,trim(u(me/FN_FIND,%0))); @switch words(%q0)=0,@pemit/list lcon(me)=The driver frowns. &quot;I'm not sure I know that place%,&quot; she admits.,{ @switch gt(words(%q0),1)={ @eval setq(2,first(%q0)); @dolist&#160;%q0={@switch lt(strlen(name(##)),strlen(name(%q2)))=1,@eval setq(2,##)}; @eval setq(0,[ldelete(%q0,member(%q0,%q2))]%b%q2); }; @eval setq(1,trim([u(me/FN_BUSYLIST)]%b%q0)); @pemit/list lcon(me)=&quot;Okay%, to [name(last(%q0))]%, then.&quot;%, the driver says.; &amp;ROUTE me=%q1; @trigger me/driveto; }
&amp;FN_FIND PARENT: +taxi=[setq(1,*[edit(%0,%b,*)]*)][iter(search(type=ROOM),switch(strmatch(fullname(##),%q1),0,,switch(hasattr(##,X),1,##)))]
&amp;DRIVETO PARENT: +taxi=@switch parent(me)=#-1,@pemit/list lcon(me)=%xhGAME%xn: Trying to drive the +taxi out of theFree Code Room?,{@switch words(setr(1,get(me/ROUTE)))=0,@pemit/list lcon(me)=The driver turns around: &quot;We're here.&quot;%, she notes.,{@tel me=setr(2,first(%q1)); &amp;ROUTE me=[rest(%q1)]; @wait 120=@trigger me/driveto; }}
@Idesc PARENT: +taxi=Uh-oh, someone hasn't IDESCed their taxi!
&amp;DO_STOP PARENT: +taxi=$stop:set(me,ROUTE:); @pemit lcon(me)=[name(%#)] asks the driver to stop%, and she pulls into a nearby kerb.
&amp;HELP_TAXI PARENT: +taxi=%xhdriveto%xn &lt;destination&gt;%b%b%bbrings you there. &lt;destination&gt; may be a substring%r[space(24)]of a street's name.%r%xhstop%xn[space(19)] does just that, prematurely.%r%xhcruise%xn[space(17)] just makes the taxi drive around (busy) places, if%r[space(24)]you want to be alone with your date.
@Lalias PARENT: +taxi=o;out;get out;climb out;open door;outside
@Listen PARENT: +taxi=*
&amp;CRUISE PARENT: +taxi=@switch parent(me)=#-1,@pemit/list lcon(me)=%xhGAME%xn: Trying to drive the +taxi out of theFree Code Room?,{@switch words(setr(1,u(FN_BUSYLIST)))=0,@pemit/list lcon(me)=The driver turns around: &quot;There's nowhere to go.&quot;%, she notes. &quot;The town is dead.&quot;,{@tel me=setr(2,extract(%q1,add(rand(words(%q1)),1),1)); @wait 120=@trigger me/cruise; }}
&amp;DO_CRUISE PARENT: +taxi=$cruise: @trigger me/cruise
@Inprefix PARENT: +taxi=Outside in [name(loc(me))],
@Prefix PARENT: +taxi=Inside the [name(me)],
&amp;DO_ROOMHELP PARENT: +taxi=$+roomhelp:@force&#160;%#=+roomhelp taxi
@Ealias PARENT: +taxi=get in;in;taxi;cab;climb in;enter cab;enter taxi
@set PARENT: +taxi=ENTER_OK
@rxlevel PARENT: +taxi=Real
@txlevel PARENT: +taxi=Real
@alias #228=
---
#229
#157
#760
#72
@create Old English cab=10
@Idesc Old English cab=The taxi is old and spacious, and surprisingly clean, perchance the pride of its owner. (%xh+roomhelp taxi%xn)
@Desc Old English cab=This taxi looks like it was imported from the British isles -- big, black, and curvy, not to mention right-hand drive.
@Listen Old English cab=*
&amp;INFO Old English cab=+taxi and taxi-@parent by Azundris (Callisto@Chicago).&#160;%xh+roomhelp taxi%xn
@set Old English cab=AUDIBLE
@set Old English cab=ENTER_OK
@set Old English cab=COMMANDS
@rxlevel Old English cab=Real
@txlevel Old English cab=Real
@parent Old English cab=#228
@alias #229=
---
#230
#157
#149
#72
@create Yellow Cab=10
@Desc Yellow Cab=The cab is yellow with checkered go-faster stripes.
@Idesc Yellow Cab=Weird smells mix with the odour of a dirty water brought in by a hundred patrons' feet.
@set Yellow Cab=ENTER_OK
@rxlevel Yellow Cab=Real
@txlevel Yellow Cab=Real
@parent Yellow Cab=#228
@alias #230=
---
#248
#251
#251
#72
@create Keran's Time Functions=5
@Desc Keran's Time Functions=This object has the major timing functions on it. It belongs in the Auxiliary room and has no commands on it. It should be set visual.
&amp;VERSION Keran's Time Functions=4.0
&amp;AUTHOR Keran's Time Functions=Keran@Keranset Island
&amp;TIME-BEGINS Keran's Time Functions=827380800
&amp;STARTING-YEAR Keran's Time Functions=1991
&amp;CALENDAR-COMPRESSION Keran's Time Functions=1
&amp;CLOCK-COMPRESSION Keran's Time Functions=2.5
&amp;SOLSTICE-DAY-LENGTH Keran's Time Functions=18
&amp;SECS-ELAPSED-TODAY Keran's Time Functions=[mod(sub(secs(), u(time-begins)), u(secs-per-day))]
&amp;SECS-ELAPSED-THIS-YEAR Keran's Time Functions=[sub(sub(secs(), u(#248/time-begins)), mul(u(#248/native-year), u(#248/days-per-year), 24, u(#248/secs-per-hour)))]
&amp;SECS-ELAPSED-THIS-CALENDAR-MONT Keran's Time Functions=[mod(sub(secs(), u(time-begins)), u(secs-per-calendar-month))]
&amp;SECS-PER-DAY Keran's Time Functions=[mul(u(secs-per-hour), 24)]
&amp;SECS-PER-HOUR Keran's Time Functions=[fdiv(3600, u(clock-compression))]
&amp;SECS-PER-HALFDAY Keran's Time Functions=[mul(u(secs-per-hour), 12)]
&amp;SECS-PER-QUARTERDAY Keran's Time Functions=[mul(u(secs-per-hour), 6)]
&amp;SECS-PER-HALFHOUR Keran's Time Functions=[div(u(secs-per-hour), 2)]
&amp;SECS-PER-YEAR Keran's Time Functions=[mul(u(days-per-year), u(secs-per-day))]
&amp;SECS-PER-CALENDAR-MONTH Keran's Time Functions=[mul(u(secs-per-day), u(days-per-calendar-month))]
&amp;DAYS-PER-CALENDAR-MONTH Keran's Time Functions=[div(u(days-per-year), 12)]
&amp;DAY-FROM-0 Keran's Time Functions=[div(sub(secs(), u(time-begins)), u(secs-per-day))]
&amp;DAY-OF-YEAR Keran's Time Functions=[mod(u(day-from-0), u(days-per-year))]
&amp;DAYS-PER-YEAR Keran's Time Functions=[div(u(base-days-per-year), u(calendar-compression))]
&amp;DAYS-PER-SEASON Keran's Time Functions=[div(u(days-per-year), 4)]
&amp;YEAR Keran's Time Functions=[u(gregorian-year)]
&amp;SEASON Keran's Time Functions=[u(gregorian-season)]
&amp;HOUR Keran's Time Functions=[u(calculated-hour)]
&amp;BASE-DAYS-PER-YEAR Keran's Time Functions=360
&amp;WEEK Keran's Time Functions=[inc(div(mul(dec(u(day-of-calendar-month)), u(calendar-compression)), 7))]
&amp;CALENDAR-MONTH Keran's Time Functions=the~[elements(first~month~of~spring second~month~of~spring third~month~of~spring first~month~of~summer second~month~of~summer third~month~of~summer first~month~of~autumn second~month~of~autumn third~month~of~autumn first~month~of~winter second~month~of~winter third~month~of~winter, u(number-of-calendar-month))]
&amp;NUMBER-OF-CALENDAR-MONTH Keran's Time Functions=[inc(mod(div(u(day-from-0), u(days-per-calendar-month)), 12))]
&amp;DAY-OF-CALENDAR-MONTH Keran's Time Functions=[inc(mod(u(day-of-year), u(days-per-calendar-month)))]
&amp;GREGORIAN-MONTH Keran's Time Functions=[elements(March April May June July August September October November December January February, u(number-of-calendar-month))]
&amp;GREGORIAN-SEASON Keran's Time Functions=[elements(spring summer autumn winter, add(mod(div(u(day-from-0), u(days-per-season)), 4), 1))]
&amp;GREGORIAN-YEAR Keran's Time Functions=[switch(u(gregorian-month), January, inc(u(native-year)), February, inc(u(native-year)), u(native-year))]
&amp;NATIVE-SEASON Keran's Time Functions=[elements(spring summer autumn winter, add(mod(div(u(day-from-0), u(days-per-season)), 4), 1))]
&amp;NATIVE-YEAR Keran's Time Functions=[add(div(u(day-from-0), u(days-per-year)), u(starting-year))]
&amp;MONTH Keran's Time Functions=[u(gregorian-month)]
&amp;LAST-MIDNIGHT Keran's Time Functions=[add(mul(u(day-from-0), u(secs-per-day)), u(time-begins))]
&amp;NEXT-MIDNIGHT Keran's Time Functions=[add(mul(inc(u(day-from-0)), u(secs-per-day)), u(time-begins))]
&amp;MIDNIGHT-BEFORE-LAST Keran's Time Functions=[add(mul(dec(u(day-from-0)), u(secs-per-day)), u(time-begins))]
&amp;LAST-NOON Keran's Time Functions=[switch(gt(secs(), add(u(#248/last-midnight), u(#248/secs-per-halfday))), 1, [add(u(#248/last-midnight), u(#248/secs-per-halfday))], [sub(u(#248/last-midnight), u(#248/secs-per-halfday))])]
&amp;NOON-BEFORE-LAST Keran's Time Functions=[sub(u(last-noon), u(secs-per-day))]
&amp;NEXT-NOON Keran's Time Functions=[add(u(last-noon), u(secs-per-day))]
&amp;DAY-LENGTH-VARIATION Keran's Time Functions=[round(mul(sub(u(solstice-day-length), 12), u(#248/secs-per-hour)), 0)]
&amp;SUN-CYCLE Keran's Time Functions=[fdiv(u(#248/day-of-year), u(#248/days-per-year))]
&amp;DAY-LENGTH Keran's Time Functions=[round(add(mul(sin(fdiv(mul(mul(pi(), 2), u(day-of-year)), u(days-per-year))), u(day-length-variation)), u(secs-per-halfday)), 0)]
&amp;NIGHT-LENGTH Keran's Time Functions=[sub(u(secs-per-day), u(day-length))]
&amp;SUNSET Keran's Time Functions=[add(div(u(night-length), 2), u(day-length))]
&amp;SUNRISE Keran's Time Functions=[div(u(night-length), 2)]
&amp;IS-MIDNIGHT Keran's Time Functions=[or(gt(u(secs-elapsed-today), sub(u(secs-per-day), u(secs-per-halfhour))), lt(u(secs-elapsed-today), u(secs-per-halfhour)))]
&amp;IS-DAWN Keran's Time Functions=[and(gt(u(secs-elapsed-today), sub(u(sunrise), u(secs-per-halfhour))), lt(u(secs-elapsed-today), add(u(sunrise), u(secs-per-halfhour))))]
&amp;IS-MORNING Keran's Time Functions=[and(gt(u(secs-elapsed-today), add(u(sunrise), u(secs-per-halfhour))), lt(u(secs-elapsed-today), sub(u(secs-per-halfday), u(secs-per-halfhour))))]
&amp;IS-NOON Keran's Time Functions=[and(gt(u(secs-elapsed-today), sub(u(secs-per-halfday), u(secs-per-halfhour))), lt(u(secs-elapsed-today), add(u(secs-per-halfday), u(secs-per-halfhour))))]
&amp;IS-AFTERNOON Keran's Time Functions=[and(gt(u(secs-elapsed-today), add(u(secs-per-halfday), u(secs-per-halfhour))), lt(u(secs-elapsed-today), sub(u(sunset), u(secs-per-halfhour))))]
&amp;IS-DUSK Keran's Time Functions=[and(gt(u(secs-elapsed-today), sub(u(sunset), u(secs-per-halfhour))), lt(u(secs-elapsed-today), add(u(sunset), u(secs-per-halfhour))))]
&amp;IS-AFTER-MIDNIGHT Keran's Time Functions=[and(gt(u(secs-elapsed-today), u(secs-per-halfhour)), lt(u(secs-elapsed-today), sub(u(sunrise), u(secs-per-halfhour))))]
&amp;IFDAWN Keran's Time Functions=[ifelse(u(is-dawn), dawn, u(ifmorning))]
&amp;IFMORNING Keran's Time Functions=[ifelse(u(is-morning), morning, u(ifnoon))]
&amp;IFNOON Keran's Time Functions=[ifelse(u(is-noon), noon, u(ifafternoon))]
&amp;IFAFTERNOON Keran's Time Functions=[ifelse(u(is-afternoon), afternoon, u(ifdusk))]
&amp;IFDUSK Keran's Time Functions=[ifelse(u(is-dusk), dusk, u(day-night))]
&amp;IFAFTERMIDNIGHT Keran's Time Functions=[ifelse(u(is-after-midnight), after midnight, u(ifdawn))]
&amp;TIME-OF-DAY Keran's Time Functions=[ifelse(u(is-midnight), midnight, u(ifaftermidnight))]
&amp;DAY-NIGHT-DAWN-DUSK Keran's Time Functions=[ifelse(u(is-dawn), dawn, u(ifdusk))]
&amp;DAY-NIGHT Keran's Time Functions=[ifelse(and(lt(u(secs-elapsed-today), u(sunset)), gt(u(secs-elapsed-today), u(sunrise))), day, night)]
&amp;SYSTEM-WEEKDAY Keran's Time Functions=[switch(mid(time(), 0, 3), Mon, Monday, Tue, Tuesday, Wed, Wednesday, Thu, Thursday, Fri, Friday, Sat, Saturday, Sun, Sunday)]
&amp;SYSTEM-MONTH Keran's Time Functions=[switch(mid(time(), 4, 3), Jan, January, Feb, February, Mar, March, Apr, April, May, May, Jun, June, Jul, July, Aug, August, Sep, September, Oct, October, Nov, November, Dec, December)]
&amp;SYSTEM-DATE Keran's Time Functions=[mid(time(), 8, 2)]
&amp;SYSTEM-TIME Keran's Time Functions=[mid(time(), 11, 9)]
&amp;SYSTEM-HOUR Keran's Time Functions=[mid(time(), 11, 2)]
&amp;SYSTEM-YEAR Keran's Time Functions=[add(mid(time(), 20, 4), u(starting-year))]
&amp;SYSTEM-SEASON Keran's Time Functions=[switch(u(system-month), January, winter, February, winter, March, spring, April, spring, May, spring, June, summer, July, summer, August, summer, September, autumn, October, autumn, November, autumn, December, winter)]
&amp;CALCULATED-HOUR Keran's Time Functions=[div(u(secs-elapsed-today), u(secs-per-hour))]
&amp;THIS-YEAR-BEGAN Keran's Time Functions=[sub(u(#248/last-midnight), mul(u(#248/day-of-year), u(#248/secs-per-day)))]
&amp;CLOCK-FACE-HOUR Keran's Time Functions=[switch(u(hour), 0, 12, 13, 1, 14, 2, 15, 3, 16, 4, 17, 5, 18, 6, 19, 7, 20, 8, 21, 9, 22, 10, 23, 11, u(hour))]
&amp;SECS-PER-QUARTERHOUR Keran's Time Functions=[div(u(secs-per-hour), 4)]
&amp;HALFHOUR Keran's Time Functions=[u(calculated-halfhour)]
&amp;QUARTERHOUR Keran's Time Functions=[u(calculated-quarterhour)]
&amp;CALCULATED-HALFHOUR Keran's Time Functions=[div(u(secs-elapsed-today), u(secs-per-halfhour))]
&amp;CALCULATED-QUARTERHOUR Keran's Time Functions=[div(u(secs-elapsed-today), u(secs-per-quarterhour))]
&amp;SYSTEM-HALFHOUR Keran's Time Functions=[add(mul(mid(time(), 11, 2), 2), div(mid(time(), 14, 2), 30))]
&amp;SYSTEM-QUARTERHOUR Keran's Time Functions=[add(mul(mid(time(), 11, 2), 4), div(mid(time(), 14, 2), 15))]
&amp;DAY Keran's Time Functions=[extract(Sunday Monday Tuesday Wednesday Thursday Friday Saturday,add(mod(u(day-from-0),7),1),1)]
@set Keran's Time Functions=VISUAL
@set Keran's Time Functions=SAFE
@rxlevel Keran's Time Functions=Real
@txlevel Keran's Time Functions=Real
@alias #248=
---
#249
#251
#251
#72
@create Keran's Tree Weather Descriptions=10
@lock Keran's Tree Weather Descriptions=#0
&amp;TREES_SPRING_DAY_FAIR Keran's Tree Weather Descriptions=[v(trees_spring_day_pollen)]
&amp;TREES_SPRING_DAY_CLEAR Keran's Tree Weather Descriptions=[v(trees_spring_day_pollen)]
&amp;TREES_SPRING_DAY_STORMY Keran's Tree Weather Descriptions=Gusts of wind tear through the tree limbs and howl around rocks, turning the leaves over so that you can see their silvery undersides.
&amp;TREES_SPRING_NIGHT_STORMY Keran's Tree Weather Descriptions=[v(trees_stormy)]
&amp;TREES_SPRING_NIGHT_OVERCAST Keran's Tree Weather Descriptions=[v(trees_spring_frogs)]
&amp;TREES_SPRING_NIGHT_CLEAR Keran's Tree Weather Descriptions=[v(trees_spring_frogs)]
&amp;TREES_SUMMER_NIGHT_CLEAR Keran's Tree Weather Descriptions=The leaves of the trees and bushes rustle in the breeze. Crickets and katydids sing throughout the night.
&amp;TREES_AUTUMN_NIGHT_CLEAR Keran's Tree Weather Descriptions=[v(trees_autumn_night)]
&amp;TREES_AUTUMN_NIGHT_STORMY Keran's Tree Weather Descriptions=[v(trees_stormy)] Fallen leaves blow past you in the dark.
&amp;TREES_SUMMER_NIGHT_STORMY Keran's Tree Weather Descriptions=[v(trees_stormy)]
&amp;TREES_SUMMER_DAY_STORMY Keran's Tree Weather Descriptions=[v(trees_stormy)]
&amp;TREES_AUTUMN_DAY_STORMY Keran's Tree Weather Descriptions=[v(trees_stormy)] Red, orange and gold leaves swirl past you on the wind.
&amp;TREES_SPRING_DAY_OVERCAST Keran's Tree Weather Descriptions=[v(trees_spring_day_pollen)]
&amp;TREES_SPRING_DAY_RAIN Keran's Tree Weather Descriptions=Raindrops patter against the fresh leaves, and glisten like silver beads on their bright green surfaces. The wet tree trunks have darkened from grey to brown.
&amp;TREES_SUMMER_DAY_RAIN Keran's Tree Weather Descriptions=Raindrops patter against the leaves, and glisten like silver beads on their deep green surfaces. The wet tree trunks have darkened from grey to brown.
&amp;TREES_AUTUMN_DAY_RAIN Keran's Tree Weather Descriptions=Raindrops patter against the leaves, and glisten like silver beads on their fiery vermillion and gold surfaces. The wet tree trunks have darkened from grey to brown.
&amp;TREES_AUTUMN_NIGHT_RAIN Keran's Tree Weather Descriptions=[v(trees_night_rain)]
&amp;TREES_SUMMER_NIGHT_RAIN Keran's Tree Weather Descriptions=[v(trees_night_rain)]
&amp;TREES_SPRING_NIGHT_RAIN Keran's Tree Weather Descriptions=[v(trees_night_rain)]
&amp;TREES_SUMMER_DAY_CLEAR Keran's Tree Weather Descriptions=The deep green leaves of the trees and bushes rustle in the breeze, which provides welcome cooling from the heat of the blazing sun.
&amp;TREES_AUTUMN_DAY_CLEAR Keran's Tree Weather Descriptions=[v(trees_autumn_day)]
&amp;TREES_AUTUMN_DAY_OVERCAST Keran's Tree Weather Descriptions=[v(trees_autumn_day)]
&amp;TREES_AUTUMN_NIGHT_OVERCAST Keran's Tree Weather Descriptions=[v(trees_autumn_night)]
&amp;TREES_WINTER_DAY_OVERCAST Keran's Tree Weather Descriptions=Snow lingers in the forks of the broadleafed trees and on the needle-clad branches of the conifers.
&amp;TREES_WINTER_NIGHT_OVERCAST Keran's Tree Weather Descriptions=Snow lingers in the forks of the broadleafed trees and on the needle-clad branches of the conifers, limning them palely in the darkness.
&amp;TREES_WINTER_NIGHT_FAIR Keran's Tree Weather Descriptions=Blowing snow drifts against the trunks of the dark trees.
&amp;TREES_WINTER_DAY_FAIR Keran's Tree Weather Descriptions=Blowing snow drifts against the trunks of the trees.
&amp;TREES_WINTER_NIGHT_CLEAR Keran's Tree Weather Descriptions=Blowing snow drifts against the trunks of the dark trees, clinging to their windward sides.
&amp;TREES_WINTER_DAY_CLEAR Keran's Tree Weather Descriptions=[v(trees_winter_clear)]
&amp;TREES_SPRING_NIGHT_FAIR Keran's Tree Weather Descriptions=[v(trees_spring_frogs)]
&amp;TREES_SPRING_FROGS Keran's Tree Weather Descriptions=You can hear peepfrogs, bullfrogs, and treefrogs singing. The leaves of the trees and bushes rustle in the wind.
&amp;TREES_STORMY Keran's Tree Weather Descriptions=Gusts of wind tear through the tree limbs and howl around rocks.
&amp;TREES_NIGHT_RAIN Keran's Tree Weather Descriptions=Raindrops patter against the leaves, invisible in the darkness.
&amp;TREES_WINTER_CLEAR Keran's Tree Weather Descriptions=Blowing snow drifts against the trunks of the trees, clinging to their windward sides.
&amp;TREES_SUMMER_DAY_OVERCAST Keran's Tree Weather Descriptions=The deep green leaves of the trees are unstirred.
&amp;TREES_SUMMER_NIGHT_OVERCAST Keran's Tree Weather Descriptions=The leaves of the trees and bushes are unstirred.
&amp;TREES_SUMMER_DAY_FAIR Keran's Tree Weather Descriptions=The shade under the deep green leaves of the trees is welcome relief from the hot glare of the sun.
&amp;TREES_SUMMER_NIGHT_FAIR Keran's Tree Weather Descriptions=The shadows under the canopy of leaves are deep, and you can hear cicadas and crickets singing all around you.
&amp;TREES_AUTUMN_DAY Keran's Tree Weather Descriptions=Fiery red, gold, and orange leaves rustle and blow past you, swirling in the wind.
&amp;TREES_AUTUMN_DAY_FAIR Keran's Tree Weather Descriptions=[v(trees_autumn_day)]
&amp;TREES_AUTUMN_NIGHT Keran's Tree Weather Descriptions=Leaves on the ground rustle, unseen, stirred by the winds. Falling leaves blow past you, whirled around by the wind in the dark.
&amp;TREES_AUTUMN_NIGHT_FAIR Keran's Tree Weather Descriptions=[v(trees_autumn_night)]
&amp;TREES_SPRING_DAY_POLLEN Keran's Tree Weather Descriptions=The wind rustles the bright green leaves of trees and bushes and carries pollen, downy seeds, and the fragrance of wildflowers along with it.
&amp;TREES_WINTER_DAY_LIGHTSNOW Keran's Tree Weather Descriptions=Snowflurries dust the bare branches of the broadleaves and the needles of the conifers.
&amp;TREES_WINTER_NIGHT_LIGHTSNOW Keran's Tree Weather Descriptions=Snowflurries dust the bare branches of the broadleaves and the needles of the conifers, giving them faint pale outlines which render them visible in the darkness.
&amp;TREES_WINTER_DAY_SLEET Keran's Tree Weather Descriptions=Rain freezes on the bare twigs of the broadleafed trees and the needles of the conifers, coating them with a layer of glistening silver ice and weighing the branches down.
&amp;TREES_WINTER_NIGHT_SLEET Keran's Tree Weather Descriptions=Rain freezes on the tree limbs. Occasionally you hear the crack of a branch breaking, weighed down by its coating of ice.
&amp;TREES_WINTER_DAY_BLIZZARD Keran's Tree Weather Descriptions=The whirling curtain of snow accumulates in the forks of the trees and piles up in drifts against their trunks.
&amp;TREES_WINTER_NIGHT_BLIZZARD Keran's Tree Weather Descriptions=The whirling curtain of snow accumulates in the forks of the trees, outlining them in the darkness, and piles up in drifts against their trunks.
&amp;TREES_NIGHT_FOG Keran's Tree Weather Descriptions=The dark shapes of nearby trees loom at you suddenly out of the deep grey fog as you approach them.
&amp;TREES_WINTER_NIGHT_FOG Keran's Tree Weather Descriptions=In the darkness and the veils of fog, the bare branches of the trees fade from sight.
&amp;TREES_WINTER_DAY_FOG Keran's Tree Weather Descriptions=The bare branches of the trees form stark silhouettes of darker grey.
&amp;TREES_AUTUMN_DAY_FOG Keran's Tree Weather Descriptions=Only the nearest tree branches, half-bereft of leaves, show their full color; more distant trees and branches are colorless and indistinct in the pallid grey fog, looking ghostly and not quite real.
&amp;TREES_SUMMER_DAY_FOG Keran's Tree Weather Descriptions=Only the nearest tree branches show their full color; more distant trees and branches are colorless and indistinct in the pallid grey fog, looking ghostly and not quite real.
&amp;TREES_AUTUMN_NIGHT_FOG Keran's Tree Weather Descriptions=[v(trees_night_fog)]
&amp;TREES_SUMMER_NIGHT_FOG Keran's Tree Weather Descriptions=[v(trees_night_fog)]
&amp;TREES_SPRING_NIGHT_FOG Keran's Tree Weather Descriptions=[v(trees_night_fog)]
&amp;TREES_SPRING_DAY_FOG Keran's Tree Weather Descriptions=Only the nearest tree branches show the full color of their buds and new leaves; more distant trees and branches are colorless and indistinct in the pallid grey fog, looking ghostly and not quite real.
&amp;TREES_SPRING_DAY_LIGHTSNOW Keran's Tree Weather Descriptions=[v(trees_spring_day_pollen)]
&amp;TREES_SPRING_NIGHT_LIGHTSNOW Keran's Tree Weather Descriptions=[v(trees_spring_frogs)]
&amp;TREES_SPRING_NIGHT_SLEET Keran's Tree Weather Descriptions=[v(trees_night_rain)]
&amp;TREES_SPRING_DAY_SLEET Keran's Tree Weather Descriptions=Raindrops patter against the fresh leaves, and glisten like silver beads on their bright green surfaces. The wet tree trunks have darkened from grey to brown.
&amp;TREES_SPRING_DAY_BLIZZARD Keran's Tree Weather Descriptions=Gusts of wind tear through the tree limbs and howl around rocks, turning the leaves over so that you can see their silvery undersides.
&amp;TREES_SPRING_NIGHT_BLIZZARD Keran's Tree Weather Descriptions=[v(trees_stormy)]
&amp;TREES_WINTER_NIGHT_RAIN Keran's Tree Weather Descriptions=Rain freezes on the tree limbs. Occasionally you hear the crack of a branch breaking, weighed down by its coating of ice.
&amp;TREES_WINTER_DAY_RAIN Keran's Tree Weather Descriptions=Rain freezes on the bare twigs of the broadleafed trees and the needles of the conifers, coating them with a layer of glistening silver ice and weighing the branches down.
&amp;TREES_WINTER_DAY_STORMY Keran's Tree Weather Descriptions=The whirling curtain of snow accumulates in the forks of the trees and piles up in drifts against their trunks.
&amp;TREES_WINTER_NIGHT_STORMY Keran's Tree Weather Descriptions=The whirling curtain of snow accumulates in the forks of the trees, outlining them in the darkness, and piles up in drifts against their trunks.
@Desc Keran's Tree Weather Descriptions=This is an auxiliary weather description bank. It has different descriptions for a temperate environment with a lot of leafy trees that vary by season and whether it's day or night. It belongs in the Auxiliary room and has no commands on it.
&amp;VERSION Keran's Tree Weather Descriptions=4.0
&amp;AUTHOR Keran's Tree Weather Descriptions=Keran@Keranset Island
@set Keran's Tree Weather Descriptions=VISUAL
@set Keran's Tree Weather Descriptions=SAFE
@rxlevel Keran's Tree Weather Descriptions=Real
@txlevel Keran's Tree Weather Descriptions=Real
@alias #249=
---
#250
#251
#251
#72
@create Keran's Weather Long Description Bank=10
@lock Keran's Weather Long Description Bank=#0
&amp;AUTUMNDAWNRAIN Keran's Weather Long Description Bank=Cold rain is falling as the sky begins to lighten to overcast grey. A raw wind blows from the east.
&amp;AUTUMNDAYRAIN Keran's Weather Long Description Bank=Chilly rain falls from a grey sky. It's bleak and raw. The wind blows from the east.
&amp;AUTUMNDUSKRAIN Keran's Weather Long Description Bank=A chilling rain falls as the grey sky darkens in the twilight. It's cold and wet. The wind blows from the east.
&amp;AUTUMNNIGHTRAIN Keran's Weather Long Description Bank=Cold rain falls from a grey-black sky without moon or stars. A raw wind blows from the east.
&amp;AUTUMNNIGHTCLEAR Keran's Weather Long Description Bank=The deep blue night sky is clear and cloudless, and the stars glitter. An icy wind blows from the northwest.
&amp;AUTUMNNIGHTSTORMY Keran's Weather Long Description Bank=Icy rain pours from grey-black clouds driven by a howling northeast wind.
&amp;AUTUMNDUSKSTORMY Keran's Weather Long Description Bank=A cold rain driven by a howling northeast wind drenches you while the clouded sky fades from grey to black.
&amp;AUTUMNDAYSTORMY Keran's Weather Long Description Bank=Chilling rain pours from thick grey clouds, driven by a furious northeast wind.
&amp;AUTUMNDAWNSTORMY Keran's Weather Long Description Bank=Cold rain pours from clouds slowly lightening from black to grey, driven by a howling northeaster wind.
&amp;AUTUMNDUSKCLEAR Keran's Weather Long Description Bank=The sun sets and the evening stars begin to appear in a blue and cloudless sky. A biting wind blows from the northwest.
&amp;AUTUMNDAYCLEAR Keran's Weather Long Description Bank=The sky is brilliant blue and cloudless, the sunlight is bright, and a brisk wind blows from the northwest.
&amp;AUTUMNDAWNCLEAR Keran's Weather Long Description Bank=It's a chilly morning and the brightening sky is clear and cloudless. The northwest wind is biting.
&amp;AUTUMNNIGHTOVERCAST Keran's Weather Long Description Bank=The sky is grey-black, without moon or star. It's hard for human eyes to see anything in the deep shadows round about, without a light. The wind is chilly.
&amp;AUTUMNDUSKOVERCAST Keran's Weather Long Description Bank=The grey of the clouds begins to darken. A chilling wind blows from the west.
&amp;AUTUMNDAWNOVERCAST Keran's Weather Long Description Bank=The overcast sky lightens from grey-black to cloudy grey as the sun rises. A chill wind blows from the northwest.
&amp;AUTUMNDAYOVERCAST Keran's Weather Long Description Bank=The sky is grey and cloudy, and nothing casts a shadow. The northwest wind is chilly.
&amp;AUTUMNNIGHTFAIR Keran's Weather Long Description Bank=A chilly wind blows from the west, driving dark clouds before it and blotting out the stars in patches overhead. The air is clear and elsewhere they glitter brightly in the dark sapphire sky.
&amp;AUTUMNDUSKFAIR Keran's Weather Long Description Bank=The fair weather clouds in the west turn orange, gold, carmine, and purple as the sun sets. A chill wind blows from the west.
&amp;AUTUMNDAYFAIR Keran's Weather Long Description Bank=Fair weather clouds drift through the blue sky from the west. The wind is gusty.
&amp;AUTUMNDAWNFAIR Keran's Weather Long Description Bank=Fair weather clouds glow pink and white-gold in the southeast, catching the rays of the rising sun while the earth remains in shadow. A cool wind blows from the west.
&amp;WINTERNIGHTRAIN Keran's Weather Long Description Bank=Icy rain and sleet fall invisibly from a grey-black sky. It's very dark and the ice makes walking on the slippery ground difficult. A raw wind blows from the northeast.
&amp;WINTERDUSKRAIN Keran's Weather Long Description Bank=Darkness comes early as thick clouds block the fading light of grey day. Freezing rain and sleet fall, coating everything with ice and making the ground slippery. Raw winds blow from the northeast.
&amp;WINTERDAYRAIN Keran's Weather Long Description Bank=Sleet and freezing rain fall from heavy clouds, coating everything with ice and making the ground slippery. The world looks silver in the icy grey light. A raw wind blows from the northeast.
&amp;WINTERDAWNRAIN Keran's Weather Long Description Bank=Darkness lingers and the dawn that breaks is grey. Sleet and freezing rain fall from heavy clouds, coating everything with ice and making the walking treacherous. Raw winds blow from the northeast.
&amp;WINTERNIGHTFAIR Keran's Weather Long Description Bank=A cold wind blows from the west, driving charcoal clouds before it and blotting out the stars in isolated patches overhead. The air is clear and elsewhere the stars shine brightly.
&amp;WINTERDUSKFAIR Keran's Weather Long Description Bank=The fair weather clouds in the west turn purple, gold, and vermillion as the sun sets. The snow, in shadow, looks blue. A cold wind blows from the west.
&amp;WINTERNIGHTCLEAR Keran's Weather Long Description Bank=The icy northwest wind howls, blowing snow about in savage gusts. The cold is intense. The sky is clear deep blue and the stars glitter, brilliant as diamonds.
&amp;WINTERDAWNCLEAR Keran's Weather Long Description Bank=The light of a cruelly cold dawn breaks in the southeast. The sky is clear and the northwest wind blasts snow across the landscape in gusts. Your breath fogs in the frigid air.
&amp;WINTERDUSKCLEAR Keran's Weather Long Description Bank=The cold becomes intense as the light fades from the sky. The evening stars glitter brightly. The northwest wind blows the snow about in freezing gusts.
&amp;WINTERDAWNFAIR Keran's Weather Long Description Bank=Fair weather clouds glow pink in the southeast, catching the rays of the rising sun while the earth remains in shadow. A cold wind blows from the west. You can see your breath misting in the cold air.
&amp;WINTERDAWNOVERCAST Keran's Weather Long Description Bank=Dawn's light is grey. A thin layer of translucent cloud obscures the sun, showing only a bright patch in the sky. The air is cold and slightly damp.
&amp;WINTERDUSKOVERCAST Keran's Weather Long Description Bank=The sky is a dull iron grey, and darkness closes in early. The air is cold and damp.
&amp;WINTERNIGHTOVERCAST Keran's Weather Long Description Bank=The sky is grey-black, moonless and starless. Human eyes can distinguish the snow from everything else, and not much more: every shape that isn't snow-covered is a black shadow. The air is damp and cold. There is little wind.
&amp;WINTERDAYCLEAR Keran's Weather Long Description Bank=The sky is cloudless and brilliant blue. The northwest wind is icy, blowing snow across the landscape in swirling white gusts.
&amp;WINTERDAYOVERCAST Keran's Weather Long Description Bank=The air is damp and cold, the sky a translucent grey, brighter to the south. Nothing casts a shadow.
&amp;WINTERDAYFAIR Keran's Weather Long Description Bank=Fair weather clouds drift through the blue sky from the west, along with the wind. The sunlight on the snow is dazzling, and it gleams on the ice.
&amp;SUMMERDAYRAIN Keran's Weather Long Description Bank=A light rain falls from a grey sky. It's warm and there's a slight wind from the southeast.
&amp;SUMMERDUSKRAIN Keran's Weather Long Description Bank=Light rain falls as the grey clouds darkens in the twilight. It's warm and there's a gentle wind from the southeast.
&amp;SUMMERNIGHTRAIN Keran's Weather Long Description Bank=Soft rain falls from a grey-black sky without moon or stars. A warm gentle wind blows from the southeast.
&amp;SUMMERDAWNRAIN Keran's Weather Long Description Bank=Soft rain is falling as the sky lightens to overcast grey. A warm breeze blows from the southeast.
&amp;SUMMERNIGHTCLEAR Keran's Weather Long Description Bank=The deep blue night sky is clear and cloudless, and the stars glitter. A cool breeze blows from the west.
&amp;SUMMDERDAWNPRECIP Keran's Weather Long Description Bank=Soft rain is falling as the sky lightens to cloudy grey. A warm breeze blows from the southeast.
&amp;SUMMERDAWNOVERCAST Keran's Weather Long Description Bank=The sky pales in the east, turning overcast grey. There's little wind, and it's warm and humid.
&amp;SUMMERDAWNFAIR Keran's Weather Long Description Bank=The sky turns a lighter blue and the stars fade out. It's clear and there's a soft breeze from the west.
&amp;SUMMERNIGHTSTORMY Keran's Weather Long Description Bank=Heavy rain drenches you in the dark as it falls from grey-black clouds, driven by a howling east wind.
&amp;SUMMERDUSKSTORMY Keran's Weather Long Description Bank=Driving rain pours from clouds darkening from grey to black as daylight fades, propelled by a furious east wind.
&amp;SUMMERDAWNSTORMY Keran's Weather Long Description Bank=Heavy rain pours from clouds slowly lightening from black to grey, propelled by a howling east wind.
&amp;SUMMERDAYSTORMY Keran's Weather Long Description Bank=Heavy rain pours from dark grey clouds, propelled by a furious east wind.
&amp;SUMMERNIGHTOVERCAST Keran's Weather Long Description Bank=The sky is grey-black, moonless and starless. It's hard for human eyes to see anything in the deep shadows round about, without a light. It's warm, still, and humid.
&amp;SUMMERDUSKOVERCAST Keran's Weather Long Description Bank=The grey of the clouds begins to darken, and the temperature drops slightly. It's warm and still.
&amp;SUMMERDAYOVERCAST Keran's Weather Long Description Bank=The sky is grey and cloudy, and nothing casts a shadow. It's hot, humid, and still.
&amp;SUMMERNIGHTFAIR Keran's Weather Long Description Bank=The night is warm and sultry, and dark clouds hide the stars in patches. Elsewhere they shine brightly. Dew forms on the ground.
&amp;SUMMERDUSKFAIR Keran's Weather Long Description Bank=The sun sets, the western clouds turning purple, red, and gold. It's hazy and warm.
&amp;SUMMERDAYFAIR Keran's Weather Long Description Bank=Towering white clouds drift slowly through the blue sky. It's hazy and hot, and the glare of the sun seems to drain the color from the landscape.
&amp;SUMMERDUSKCLEAR Keran's Weather Long Description Bank=The sun sets and the evening stars begin to appear in a blue and cloudless sky. There's a cool breeze from the west.
&amp;SUMMERDAYCLEAR Keran's Weather Long Description Bank=The sky is clear brilliant blue and there's a light breeze from the west. It's warm.
&amp;SUMMERDAWNCLEAR Keran's Weather Long Description Bank=The sky starts to lighten and the stars fade out. The sky is clear and there's a cool breeze from the west.
&amp;SPRINGNIGHTSTORMY Keran's Weather Long Description Bank=Cold driving rain pours down upon you in the dark from black clouds, propelled by a howling northeast wind.
&amp;SPRINGDUSKSTORMY Keran's Weather Long Description Bank=Twilight falls and the clouds darken from grey to charcoal as cold driving rain pours from them, lashed by a raging northeast wind.
&amp;SPRINGDAYSTORMY Keran's Weather Long Description Bank=Cold rain pours from thick grey clouds, driven by a howling northeast wind.
&amp;SPRINGDAWNSTORMY Keran's Weather Long Description Bank=A cold driving rain pours from clouds slowly lightening from black to grey, propelled by a howling northeasterly wind.
&amp;SPRINGNIGHTOVERCAST Keran's Weather Long Description Bank=The sky is grey-black, moonless and starless. It's hard for human eyes to see anything in the deep shadows round about, without a light. It's cool and a light breeze blows from the southwest.
&amp;SPRINGDUSKOVERCAST Keran's Weather Long Description Bank=The grey of the clouds begins to darken, and it becomes cooler. A light wind is blowing from the southwest.
&amp;SPRINGDAYOVERCAST Keran's Weather Long Description Bank=The sky is cloudy grey, and nothing casts a shadow. The southwest wind is mild.
&amp;SPRINGDAWNOVERCAST Keran's Weather Long Description Bank=The sky begins to lighten. It's grey and overcast. A light wind blows from the southwest.
&amp;SPRINGDAWNCLEAR Keran's Weather Long Description Bank=The sky begins to brighten as the stars fade out. It's a chilly morning and the sky is clear blue and cloudless.
&amp;SPRINGDAYCLEAR Keran's Weather Long Description Bank=The sky is blue and cloudless, the sunlight is bright, and a cool wind blows from the northwest.
&amp;SPRINGDUSKCLEAR Keran's Weather Long Description Bank=The sun sets and the evening stars begin to appear in a blue and cloudless sky. A cool wind blows from the northwest.
&amp;SPRINGNIGHTCLEAR Keran's Weather Long Description Bank=The deep blue night sky is clear and cloudless, and the stars glitter. A brisk breeze blows from the northwest.
&amp;SPRINGDAWNFAIR Keran's Weather Long Description Bank=The blue sky brightens. The sun lights the fair weather clouds in the east with pink and pale gold before it touches the ground, which remains in shadow. A mild breeze blows from the west.
&amp;SPRINGDAYFAIR Keran's Weather Long Description Bank=Fair weather clouds sail across the blue sky, propelled by light breezes from the west. It's warm in the sun, cool in the shade, and the air is clear and dry.
&amp;SPRINGDUSKFAIR Keran's Weather Long Description Bank=Oranges, reds, and golds light the fair weather clouds, shadowed in purple, around the setting sun. A soft breeze blows from the west.
&amp;SPRINGNIGHTFAIR Keran's Weather Long Description Bank=A cool breeze blows from the west, driving dark clouds before it which blot out the stars in patches overhead. Elsewhere they glitter brightly in the dark sapphire sky.
&amp;SPRNGDAYOVERCAST Keran's Weather Long Description Bank=The sky is cloudy grey, and nothing casts a shadow. A light wind blows from the southwest.
&amp;SPRINGDAWNRAIN Keran's Weather Long Description Bank=Rain is falling as the sky begins to lighten to overcast grey. It's cool and there's a slight wind from the east.
&amp;SPRINGDAYRAIN Keran's Weather Long Description Bank=A light rain falls from a grey sky. It's cool and there's a mild wind from the east.
&amp;SPRINGNIGHTRAIN Keran's Weather Long Description Bank=Light rain falls from a grey-black sky without moon or stars. It's chilly and there's a fresh wind from the east.
&amp;SPRINGDUSKRAIN Keran's Weather Long Description Bank=A light rain falls as the grey sky darkens in the twilight. The temperature is moderate and there's a slight wind from the east.
&amp;WINTERDAWNLIGHTSNOW Keran's Weather Long Description Bank=The overcast sky slowly lightens from the grey-black of night to pale grey. Powdery snow falls from the clouds.
&amp;WINTERDAYLIGHTSNOW Keran's Weather Long Description Bank=Snow flurries drift silently down from the pale grey sky. The air is damp and cold, and there is little wind.
&amp;WINTERDUSKLIGHTSNOW Keran's Weather Long Description Bank=Darkness closes in early as thick grey clouds block the sun. A light snow is falling. There is scant wind.
&amp;WINTERNIGHTLIGHTSNOW Keran's Weather Long Description Bank=The sky is grey-black, without moon or stars. The air is cold and wet, and there is little wind. Snow flurries fall. It is easier to feel the flakes landing than it is to see them, in the darkness.
&amp;WINTERDUSKSLEET Keran's Weather Long Description Bank=Darkness comes early as thick clouds block the fading light of grey day. Freezing rain and sleet fall, coating everything with ice and making the ground slippery. Raw winds blow from the northeast.
&amp;WINTERDAYSLEET Keran's Weather Long Description Bank=Sleet and freezing rain fall from heavy clouds, coating everything with ice and making the ground slippery. The world looks silver in the icy grey light. A raw wind blows from the northeast.
&amp;WINTERDAWNSLEET Keran's Weather Long Description Bank=Darkness lingers and the dawn that breaks is grey. Sleet and freezing rain fall from heavy clouds, coating everything with ice and making the walking treacherous. Raw winds blow from the northeast.
&amp;WINTERNIGHTSLEET Keran's Weather Long Description Bank=Icy rain and sleet fall invisibly from a grey-black sky. It's very dark and the ice makes walking on the slippery ground difficult. A raw wind blows from the northeast.
&amp;WINTERNIGHTBLIZZARD Keran's Weather Long Description Bank=Night has come, and heavy snow falls. It's difficult to walk through the accumulating drifts, and difficult to see. It's hard to keep a sense of direction in the darkness and the blinding, swirling snow.
&amp;WINTERDAYBLIZZARD Keran's Weather Long Description Bank=Heavy snow falls, making it hard to walk through the accumulating drifts, and occasionally even hard to see. All the world seems grey and white. The wind blows the snow about from the east, and it swirls around objects and never falls straight down.
&amp;WINTERDAWNBLIZZARD Keran's Weather Long Description Bank=Dawn breaks to reveal snow falling from a dark sky that gradually lightens to grey-white. The snowfall is heavy and piles up in drifts, blown about by the shifting wind.
&amp;WINTERDUSKBLIZZARD Keran's Weather Long Description Bank=Snow falls heavily in the deepening twilight, making it hard to walk through the accumulating drifts, and hard to see. The wind blows the snow about from the east, and it swirls around objects and never falls straight down.
&amp;AUTUMNNIGHTFOG Keran's Weather Long Description Bank=The world is dark and foggy. Everything is half-hidden, nothing clearly seen. It's chilly and the air feels damp. No wind blows.
&amp;AUTUMNDAYFOG Keran's Weather Long Description Bank=Everything is grey, veiled by mist. It's chilly and the air feels damp. There is no wind.
&amp;AUTUMNDUSKFOG Keran's Weather Long Description Bank=Everything is grey, veiled by darkening twilit mist. There is little wind. It's chilly and the air feels damp.
&amp;AUTUMNDAWNFOG Keran's Weather Long Description Bank=The sky slowly changes from dark grey to pale. Everything is veiled by fog. The air feels damp and chilly, and there is little wind.
&amp;WINTERDAWNFOG Keran's Weather Long Description Bank=The sky slowly lightens from deep grey to pale, and a chilly mist veils everything.
&amp;WINTERDAYFOG Keran's Weather Long Description Bank=The landscape looks ghostly and drained of color in the cold pale fog.
&amp;WINTERNIGHTFOG Keran's Weather Long Description Bank=The night is shrouded in cold bleak mist, dark grey and colorless. The ground is icy and the air wet.
&amp;WINTERDUSKFOG Keran's Weather Long Description Bank=The pale grey mists darken and begin to freeze, forming a slick of ice over the ground.
&amp;SUMMERNIGHTFOG Keran's Weather Long Description Bank=Everything is half-hidden, nothing clearly seen in the dark fog. It's warm and still.
&amp;SUMMERDUSKFOG Keran's Weather Long Description Bank=Everything is grey, veiled by darkening twilit mist. It's still, warm, and the air feels damp.
&amp;SUMMERDAWNFOG Keran's Weather Long Description Bank=The sky begins to lighten from dark grey to pale, for the world is veiled by fog. It's still, warm, and the air feels damp.
&amp;SUMMERDAYFOG Keran's Weather Long Description Bank=Everything is pale grey, veiled by mist. It's warm, humid, and still.
&amp;SPRINGNIGHTFOG Keran's Weather Long Description Bank=The world is dark and foggy. Everything is half-hidden, nothing clearly seen. It almost feels as if you walk through some otherworld. It's cool and the air feels damp and still.
&amp;SPRINGDUSKFOG Keran's Weather Long Description Bank=The mist begins to darken as twilight comes. It's cool and the air feels damp. There is no wind.
&amp;SPRINGDAYFOG Keran's Weather Long Description Bank=Everything is grey, veiled by mist. It's cool and the air feels damp. There is no wind.
&amp;SPRINGDAWNFOG Keran's Weather Long Description Bank=It grows lighter, and you see that everything is veiled by fog. It's moderately cool and the air feels damp and still.
&amp;SPRINGDAWNSLEET Keran's Weather Long Description Bank=Rain is falling as the sky begins to lighten to overcast grey. It's cool and there's a slight wind from the east.
&amp;SPRINGDAYSLEET Keran's Weather Long Description Bank=A light rain falls from a grey sky. It's cool and there's a mild wind from the east.
&amp;SPRINGDUSKSLEET Keran's Weather Long Description Bank=A light rain falls as the grey sky darkens in the twilight. The temperature is moderate and there's a slight wind from the east.
&amp;SPRINGNIGHTSLEET Keran's Weather Long Description Bank=Light rain falls from a grey-black sky without moon or stars. It's chilly and there's a fresh wind from the east.
&amp;SPRINGNIGHTLIGHTSNOW Keran's Weather Long Description Bank=The sky is grey-black, moonless and starless. It's hard for human eyes to see anything in the deep shadows round about, without a light. It's cool and a light breeze blows from the southwest.
&amp;SPRINGDAWNLIGHTSNOW Keran's Weather Long Description Bank=The sky begins to lighten. It's grey and overcast. A light wind blows from the southwest.
&amp;SPRINGDAYLIGHTSNOW Keran's Weather Long Description Bank=The sky is cloudy grey, and nothing casts a shadow. The southwest wind is mild.
&amp;SPRINGDUSKLIGHTSNOW Keran's Weather Long Description Bank=The grey of the clouds begins to darken, and it becomes cooler. A light wind is blowing from the southwest.
&amp;SPRINGDAWNBLIZZARD Keran's Weather Long Description Bank=A cold driving rain pours from clouds slowly lightening from black to grey, propelled by a howling northeasterly wind.
&amp;SPRINGDAYBLIZZARD Keran's Weather Long Description Bank=Cold rain pours from thick grey clouds, driven by a howling northeast wind.
&amp;SPRINGDUSKBLIZZARD Keran's Weather Long Description Bank=Twilight falls and the clouds darken from grey to charcoal as cold driving rain pours from them, lashed by a raging northeast wind.
&amp;SPRINGNIGHTBLIZZARD Keran's Weather Long Description Bank=Cold driving rain pours down upon you in the dark from black clouds, propelled by a howling northeast wind.
&amp;WINTERDAWNSTORMY Keran's Weather Long Description Bank=Dawn breaks to reveal snow falling from a dark sky that gradually lightens to grey-white. The snowfall is heavy and piles up in drifts, blown about by the shifting wind.
&amp;WINTERDAYSTORMY Keran's Weather Long Description Bank=Heavy snow falls, making it hard to walk through the accumulating drifts, and occasionally even hard to see. All the world seems grey and white. The wind blows the snow about from the east, and it swirls around objects and never falls straight down.
&amp;WINTERDUSKSTORMY Keran's Weather Long Description Bank=Snow falls heavily in the deepening twilight, making it hard to walk through the accumulating drifts, and hard to see. The wind blows the snow about from the east, and it swirls around objects and never falls straight down.
&amp;WINTERNIGHTSTORMY Keran's Weather Long Description Bank=Night has come, and heavy snow falls. It's difficult to walk through the accumulating drifts, and difficult to see. It's hard to keep a sense of direction in the darkness and the blinding, swirling snow.
@Desc Keran's Weather Long Description Bank=This is the main bank of long weather descriptions that vary with the seasons and whether it's day, night, dawn, or dusk. It belongs in the Auxiliary room and has no commands on it.
&amp;VERSION Keran's Weather Long Description Bank=4.0
&amp;AUTHOR Keran's Weather Long Description Bank=Keran@Keranset Island
@set Keran's Weather Long Description Bank=VISUAL
@set Keran's Weather Long Description Bank=SAFE
@rxlevel Keran's Weather Long Description Bank=Real
@txlevel Keran's Weather Long Description Bank=Real
@alias #250=
---
#251
#276
#276
#72
@create Keran's Box of Weather and Time Stuff, with Notes=10
@lock Keran's Box of Weather and Time Stuff, with Notes=#0
@Desc Keran's Box of Weather and Time Stuff, with Notes=Put me in the Auxiliary Room. Type 'note 1' and 'note 2' to read the notes.
&amp;NOTE1 Keran's Box of Weather and Time Stuff, with Notes=$note 1: @pemit&#160;%# =%rThe items in Keran's Weather Code package are:%r%r#7 Keran's Time Functions%r#25 Keran's Tree Weather Descriptions%r#26 Keran's Weather Long Description Bank%r#31 Keran's Box of Weather and Time Stuff, with Notes%r#111 Keran's Weathermaker%r#113 Keran's Wizard Weather and Time Commands%r#114 Keran's Slave Weather Station%r#115 Keran's Clock%r#173 Keran's Emits Bank%r#175 Keran's Global Command Object%r#315 Keran's Weather and Time Help - Admin Commands%r#316 Keran's Weather and Time Help - Configuration Considerations%r#531 Keran's Weather and Time Help - General%r#533 Keran's Miscellaneous Functions%r#550 Keran's Storm Maker%r#555 Keran's Moon and Tide Functions%r%rRooms:%r%r#133 Keran's Parent of Separable Day-Night and Season Desc Outdoor Rooms%r#400 Keran's Parent of Season-and-Day-Night Varying Outdoor Rooms%r#404 Keran's Parent of Windowed Indoor Rooms%r#436 Keran's Parent of Windowless Indoor Rooms%r#545 Keran's Parent of 
Separable Day-Night-Dawn-Dusk and Season Desc Outdoor Rooms%r#567 Keran's Parent of Separable Desc Outdoor Rooms%r#619 Keran's Parent of Weather-and-Day-Night Varying Outdoor Rooms%r#510 Keran's Grandparent of Windowed Indoor Rooms%r#512 Keran's Grandparent of Windowless Indoor Rooms%r#515 Keran's Grandparent of Outdoor Rooms%r#508 Keran's Great-grandparent of Rooms%r#624 Keran's Test Room
&amp;HELP_+TODAY Keran's Box of Weather and Time Stuff, with Notes=%r+today%r%r+Today returns information about the time of day, month, season, year, tides, weather, etc.%r
&amp;HELP_+PARENTS Keran's Box of Weather and Time Stuff, with Notes=%r+parents%r%r+Parents returns a list of parent rooms you can use to build rooms with descriptions that vary according to the time of day, weather, etc. You build your room, @parent it to one of the parent rooms, and look at it to see instructions for how to write descriptions that vary according to environmental conditions. You can simply write descriptions for day, night, winter, summer, etc., and the parent room will switch them at the appropriate times.%r%rThere are two indoor parent rooms, one for rooms with windows and one for rooms without, and several outdoor parent rooms which have style variations in the variable descs returned. The parent rooms are set visual and you can examine &lt;dbref&gt; to see how they work.%r%r+help +parents2 for more.%r
&amp;HELP_+PARENTS2 Keran's Box of Weather and Time Stuff, with Notes=%rThe outdoor room style variations are:%r%rSeparable Day-Night - This room will return a description consisting of an unchanging desc, a day/night desc, a spring/summer/autumn/winter desc, a weather desc, and a moon desc. You can suppress any elements you don't want, e.g., you can prevent it from showing a moon description.%r%rSeparable Day-Night-Dawn-Dusk - As above, but instead of returning a description that varies only by day and night, it returns different descriptions at day, night, dawn, and dusk.%r%rSeason and Day-Night - Returns a desc for summer-night, a desc for summer-day, a desc for autumn-night, a desc for autumn-day, and so on. Also returns a moon desc and a weather desc.%r%rSeason and Day-Night-Dawn-Dusk - As above, but also returns distinct dawn and dusk descriptions, e.g, winter-dawn, winter-dusk, etc.%r%rWeather and Day-Night - Returns descriptions that combine day-night and weather variations, e.g., fair-night, fair-day, 
overcast-day, etc. Also returns a moon desc.%r
&amp;HELP_RANDWORD Keran's Box of Weather and Time Stuff, with Notes=%rrandword(&lt;word1&gt; &lt;word2&gt; &lt;word3&gt; &lt;etc.&gt;)%r%rRandword() returns a random word from the list.%r
&amp;HELP_TILDE2BLANK Keran's Box of Weather and Time Stuff, with Notes=%rtilde2blank(&lt;string&gt;)%r%rTilde2blank() takes a string as its argument and replaces all the spaces with tildes (~).%r
&amp;HELP_BLANK2TILDE Keran's Box of Weather and Time Stuff, with Notes=%rblank2tilde(&lt;string&gt;)%r%rTilde2blank() takes a string as its argument and replaces all the tildes (~) with spaces.%r
&amp;HELP_WEATHER+TIME Keran's Box of Weather and Time Stuff, with Notes=%rKeran's Weather and Time Code is a configurable MUSH/MUX softcode package for maintaining virtual or in-character environments. It has +help divided into three sections:%r%r+wt - +help for common commands, functions and topics generally useful to builders and coders.%r%r+wta - Admin commands.%r%r+wtc - Configuration considerations. Extensive and sometimes complex, since there are many non-vanilla ways to set up this code, depending on the environment you're trying to model. This is version 4.0.%r
&amp;NOTE2 Keran's Box of Weather and Time Stuff, with Notes=$note 2: @pemit&#160;%# = {%r+Help for Keran's Weather and Time Code Package%r%rAdd the following to your regular +help for global commands:%r%tweather+time +parents +today%r%rAdd the following to your +help for global functions:%r%tblank2tilde randword tilde2blank%r%rThe +help entries for these commands and functions are stored on this box, as attributes named &amp;help_&lt;item&gt;; move them to your regular +help.%r}
&amp;DO_WATTR Keran's Box of Weather and Time Stuff, with Notes=$+wattr:@dolist lcon(me)=@pemit&#160;%#=##: [words(lattr(##/*))]
@set Keran's Box of Weather and Time Stuff, with Notes=VISUAL
@set Keran's Box of Weather and Time Stuff, with Notes=SAFE
@set Keran's Box of Weather and Time Stuff, with Notes=COMMANDS
@rxlevel Keran's Box of Weather and Time Stuff, with Notes=Real
@txlevel Keran's Box of Weather and Time Stuff, with Notes=Real
@alias #251=
---
#252
#251
#251
#72
@create Keran's Weathermaker=10
@lock Keran's Weathermaker=#0
&amp;SUMMERCLEAR Keran's Weathermaker=It's clear, warm, and breezy.
&amp;SUMMERFAIR Keran's Weathermaker=It's fair and very warm, with a few clouds in the sky.
&amp;SUMMEROVERCAST Keran's Weathermaker=It's overcast and warm.
&amp;SUMMERRAIN Keran's Weathermaker=It's raining and warm.
&amp;SUMMERSTORMY Keran's Weathermaker=It's raining hard, with thunder and flashes of lightning.
&amp;SPRINGCLEAR Keran's Weathermaker=It's clear, cool, and breezy.
&amp;SPRINGFAIR Keran's Weathermaker=It's fair and mild, with a few clouds in the sky.
&amp;SPRINGOVERCAST Keran's Weathermaker=It's cloudy and mild.
&amp;SPRINGRAIN Keran's Weathermaker=It's raining and cool.
&amp;SPRINGSTORMY Keran's Weathermaker=It's raining hard and the winds are strong.
&amp;WINTERCLEAR Keran's Weathermaker=It's clear, cold, and windy.
&amp;WINTERFAIR Keran's Weathermaker=It's fair and chilly.
&amp;WINTEROVERCAST Keran's Weathermaker=It's cloudy, cold, and damp.
&amp;AUTUMNCLEAR Keran's Weathermaker=It's clear, cool, and windy.
&amp;AUTUMNFAIR Keran's Weathermaker=It's fair and cool.
&amp;AUTUMNOVERCAST Keran's Weathermaker=It's cloudy and cool.
&amp;AUTUMNRAIN Keran's Weathermaker=It's raining and chilly.
&amp;AUTUMNSTORMY Keran's Weathermaker=It's raining hard and the winds are strong.
&amp;WINTERLIGHTSNOW Keran's Weathermaker=It's snowing.
&amp;WINTERSLEET Keran's Weathermaker=It's sleeting.
&amp;WINTERBLIZZARD Keran's Weathermaker=It's snowing heavily.
&amp;WINTERFOG Keran's Weathermaker=It's foggy and cold.
&amp;AUTUMNFOG Keran's Weathermaker=It's foggy and cool.
&amp;SUMMERFOG Keran's Weathermaker=It's foggy and warm.
&amp;SPRINGFOG Keran's Weathermaker=It's foggy and cool.
&amp;SPRINGTYPE-CLEAR Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair rain fog stormy overcast)]
&amp;SUMMERTYPE-CLEAR Keran's Weathermaker=[u(#261/randword,clear clear clear clear fair fair fair fair fair fair fair fair fair fair rain fog fog stormy overcast)]
&amp;AUTUMNTYPE-CLEAR Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair rain fog stormy overcast)]
&amp;WINTERTYPE-CLEAR Keran's Weathermaker=[u(#261/randword,clear clear clear clear fair fair fair fair fair fair fair fair fair fair clear fog lightsnow sleet blizzard overcast)]
&amp;SPRINGTYPE-FAIR Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain fog fog fog stormy overcast overcast overcast)]
&amp;SUMMERTYPE-FAIR Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain fog fog fog fog fog fog stormy overcast overcast overcast)]
&amp;AUTUMNTYPE-FAIR Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain fog fog fog stormy overcast overcast overcast overcast)]
&amp;WINTERTYPE-FAIR Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair fair clear clear clear clear fog lightsnow lightsnow blizzard lightsnow lightsnow lightsnow sleet overcast overcast overcast)]
&amp;SPRINGTYPE-OVERCAST Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair fair fair rain rain rain rain rain rain rain fog fog fog fog fog fog fog stormy overcast overcast overcast overcast)]
&amp;SUMMERTYPE-OVERCAST Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair rain rain rain rain rain fog fog fog fog fog fog fog fog fog fog fog fog stormy overcast overcast overcast overcast)]
&amp;AUTUMNTYPE-OVERCAST Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair fair fair rain rain rain rain rain rain rain fog fog fog fog fog fog fog stormy overcast overcast overcast overcast)]
&amp;WINTERTYPE-OVERCAST Keran's Weathermaker=[u(#261/randword,clear fair fair fair fair fair fair fair fair fair fair sleet sleet sleet sleet sleet sleet sleet fog fog lightsnow lightsnow lightsnow lightsnow lightsnow blizzard overcast overcast overcast overcast)]
&amp;SPRINGTYPE-RAIN Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain fog fog fog fog stormy overcast overcast overcast)]
&amp;SUMMERTYPE-RAIN Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain fog fog fog fog fog fog fog fog fog stormy overcast overcast overcast overcast)]
&amp;AUTUMNTYPE-RAIN Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain fog fog fog fog stormy stormy overcast overcast overcast)]
&amp;WINTERTYPE-SLEET Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair sleet sleet sleet sleet lightsnow fog fog blizzard overcast overcast overcast)]
&amp;WINTERTYPE-LIGHTSNOW Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair sleet sleet sleet sleet lightsnow lightsnow lightsnow lightsnow fog blizzard blizzard overcast overcast overcast overcast)]
&amp;SPRINGTYPE-FOG Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain rain fog fog fog fog fog stormy overcast overcast overcast)]
&amp;SUMMERTYPE-FOG Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain rain fog fog fog fog fog fog fog fog fog fog stormy overcast overcast overcast)]
&amp;AUTUMNTYPE-FOG Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain rain fog fog fog fog fog stormy overcast overcast overcast)]
&amp;WINTERTYPE-FOG Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fog lightsnow lightsnow sleet sleet sleet sleet blizzard overcast overcast)]
&amp;SPRINGTYPE-STORMY Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear clear clear fair fair fair fair rain fog stormy overcast)]
&amp;SUMMERTYPE-STORMY Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear clear clear clear clear clear clear fair fair fair fair rain fog fog fog stormy overcast)]
&amp;AUTUMNTYPE-STORMY Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear clear clear clear clear clear clear fair fair fair fair rain fog stormy overcast)]
&amp;WINTERTYPE-STORMY Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear clear clear clear clear clear clear clear fair fair fair fair sleet lightsnow fog blizzard overcast)]
&amp;SPRINGTYPE-SLEET Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain fog fog fog fog stormy overcast overcast overcast)]
&amp;SPRINGTYPE-LIGHTSNOW Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair fair rain rain rain rain fog fog fog fog stormy overcast overcast overcast)]
&amp;WINTERTYPE-RAIN Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear fair fair fair fair fair fair fair fair fair fair fair fair fair fair sleet sleet sleet sleet lightsnow fog fog blizzard overcast overcast overcast)]
&amp;SPRINGSLEET Keran's Weathermaker=It's raining.
&amp;SPRINGLIGHTSNOW Keran's Weathermaker=It's cloudy and cool.
&amp;SPRINGBLIZZARD Keran's Weathermaker=It's raining hard and the winds are strong.
&amp;SPRINGTYPE-BLIZZARD Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear clear clear fair fair fair fair rain fog stormy overcast)]
&amp;WINTERSTORMY Keran's Weathermaker=It's snowing heavily.
&amp;WINTERRAIN Keran's Weathermaker=It's sleeting.
&amp;TRIGGER-AT-DAWN Keran's Weathermaker=&amp;weathertype-old me=[u(weathertype)]; &amp;weathertype me=[u([u(#248/season)]type-[u(weathertype-old)])]
@Desc Keran's Weathermaker=The Weathermaker selects the weather for the day, triggered by the clock. It also writes the phase of the moon at sunset on the Timing Functions object for a routine that keeps the moon phase from changing while the moon is visible in the sky. If you have set up regional weather, it notifies the Slave Weather Station to select weather for the day. It belongs in the Auxiliary Room.
&amp;VERSION Keran's Weathermaker=4.0
&amp;AUTHOR Keran's Weathermaker=Keran@Keranset Island
&amp;WINTERTYPE-BLIZZARD Keran's Weathermaker=[u(#261/randword,clear clear clear clear clear clear clear fair fair fair fair sleet fog blizzard lightsnow overcast)]
&amp;WEATHERTYPE Keran's Weathermaker=fair
&amp;WEATHERTYPE-OLD Keran's Weathermaker=fair
@set Keran's Weathermaker=VISUAL
@set Keran's Weathermaker=SAFE
@rxlevel Keran's Weathermaker=Real
@txlevel Keran's Weathermaker=Real
@alias #252=
---
#253
#251
#251
#72
@create Keran's Wizard Weather and Time Commands=10
@lock Keran's Wizard Weather and Time Commands=#0
&amp;GREGORIAN Keran's Wizard Weather and Time Commands=$gregorian: &amp;month #248 = \[u(gregorian-month)\]; &amp;season #248 = \[u(gregorian-season)\]; &amp;year #248 = \[u(gregorian-year)\]; &amp;hour #248 = \[u(calculated-hour)\]; &amp;halfhour #248 = \[u(calculated-halfhour)\]; &amp;quarterhour #248 = \[u(calculated-quarterhour)\]; @switch u(#248/calendar-compression) = 4, &amp;base-days-per-year #248=384, &amp;base-days-per-year #248=360; @edit #257/today = +abeyance, +today; @edit #257/today-system = +today,+abeyance
&amp;NATIVE Keran's Wizard Weather and Time Commands=$native: &amp;month #248 = \[u(calendar-month)\]; &amp;season #248 = \[u(native-season)\]; &amp;year #248 = \[u(native-year)\]; &amp;hour #248 = \[u(calculated-hour)\]; &amp;halfhour #248 = \[u(calculated-halfhour)\]; &amp;quarterhour #248 = \[u(calculated-quarterhour)\]; @switch u(#248/calendar-compression) = 4, &amp;base-days-per-year #248=384, &amp;base-days-per-year #248=360; @edit #257/today = +abeyance,+today; @edit #257/today-system = +today,+abeyance
&amp;CLOCK Keran's Wizard Weather and Time Commands=$clock *: &amp;calendar-compression #248 = 1; &amp;base-days-per-year #248 = 360; &amp;clock-compression #248 =&#160;%0
&amp;CALENDAR1 Keran's Wizard Weather and Time Commands=$calendar 1: &amp;clock-compression #248 = 1; &amp;base-days-per-year #248 = 360; &amp;calendar-compression #248 = 1
&amp;CALENDAR2 Keran's Wizard Weather and Time Commands=$calendar 2: &amp;clock-compression #248 = 1; &amp;base-days-per-year #248 = 360; &amp;calendar-compression #248 = 2
&amp;CALENDAR3 Keran's Wizard Weather and Time Commands=$calendar 3: &amp;clock-compression #248 = 1; &amp;base-days-per-year #248 = 360; &amp;calendar-compression #248 = 3
&amp;CALENDAR4 Keran's Wizard Weather and Time Commands=$calendar 4: &amp;clock-compression #248 = 1; &amp;base-days-per-year #248 = 384; &amp;calendar-compression #248 = 4
&amp;START-TIME Keran's Wizard Weather and Time Commands=$start time *: &amp;time-begins #248 = [convtime(%0)]; &amp;weathertype #252=fair; &amp;weathertype-old #252=fair; &amp;weathertype-master #254=fair; &amp;slave-weathertype-old #254=fair; &amp;slave-weathertype=fair
&amp;STARTING-YEAR Keran's Wizard Weather and Time Commands=$starting year *: &amp;starting-year #248 =&#160;%0
&amp;REMOVE-REGIONAL-WEATHER Keran's Wizard Weather and Time Commands=$no regional: &amp;trigger-at-dawn #252={&amp;weathertype-old me=\[u(weathertype)\]; &amp;weathertype me=\[u(\[u(#248/season)\]type-\[u(weathertype-old)\])\]}
&amp;ADD-REGIONAL-WEATHER Keran's Wizard Weather and Time Commands=$regional: &amp;trigger-at-dawn #252={&amp;weathertype-old me=\[u(weathertype)\]; &amp;weathertype me=\[u(\[u(#248/season)\]type-\[u(weathertype-old)\])\]; @notify #254}
@Desc Keran's Wizard Weather and Time Commands=This object has commands for making the most common configuration changes on it. It writes to the Time Functions Object and the Weathermaker. It has no globals and should be kept in the Auxiliary room.
&amp;VERSION Keran's Wizard Weather and Time Commands=4.0
&amp;AUTHOR Keran's Wizard Weather and Time Commands=Keran@Keranset Island
&amp;IS-WIZARD Keran's Wizard Weather and Time Commands=[hasflag(%#, wizard)]
&amp;LONGEST-DAY Keran's Wizard Weather and Time Commands=$longest day *: &amp;solstice-day-length #248=%0
@lock/UseLock Keran's Wizard Weather and Time Commands=IS-WIZARD/1
&amp;AXIAL-TILT Keran's Wizard Weather and Time Commands=[mul(fdiv(23.5, 360), pi(), 2)]
&amp;DAY-LENGTH-BY-LATITUDE Keran's Wizard Weather and Time Commands=$latitude *: &amp;solstice-day-length #248 = [round(mul(24, sub(1, [fdiv(mul(fdiv([atan(mul([fdiv(1, sin(u(#253/axial-tilt)))], [sqrt([sub([power(fdiv([cos(u(#253/axial-tilt))], [sin(mul(fdiv(%0, 360), pi(), 2))]), 2)], 1)])]))], mul(pi(), 2)), 360), 180)])), 2)]
&amp;SYSTEM Keran's Wizard Weather and Time Commands=$system: &amp;month #248 = \[u(system-month)\]; &amp;season #248 = \[u(system-season)\]; &amp;year #248 = \[u(system-year)\]; &amp;hour #248 = \[u(system-hour)\]; &amp;halfhour #248 = \[u(system-halfhour)\]; &amp;quarterhour #248 = \[u(system-quarterhour)\]; &amp;clock-compression #248 = 1; &amp;base-days-per-year #248 = 365; &amp;calendar-compression #248 = 1; @edit #257/today = +today,+abeyance; @edit #257/today-system = +abeyance,+today
&amp;SEMI-TIDE Keran's Wizard Weather and Time Commands=$semidiurnal tide: &amp;tide #263 = \[u(semi-tide)\]
&amp;DI-TIDE Keran's Wizard Weather and Time Commands=$diurnal tide: &amp;tide #263 = \[u(di-tide)\]
@set Keran's Wizard Weather and Time Commands=INHERIT
@set Keran's Wizard Weather and Time Commands=VISUAL
@set Keran's Wizard Weather and Time Commands=SAFE
@set Keran's Wizard Weather and Time Commands=COMMANDS
@rxlevel Keran's Wizard Weather and Time Commands=Real
@txlevel Keran's Wizard Weather and Time Commands=Real
@alias #253=
---
#254
#251
#251
#72
@create Keran's Slave Weather Station=10
@lock Keran's Slave Weather Station=#0
&amp;SPRINGTYPE-CLEAR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;SUMMERTYPE-CLEAR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;AUTUMNTYPE-CLEAR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;WINTERTYPE-CLEAR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;SPRINGTYPE-FAIR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;SUMMERTYPE-FAIR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;AUTUMNTYPE-FAIR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;WINTERTYPE-FAIR Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;SPRINGTYPE-OVERCAST Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;SUMMERTYPE-OVERCAST Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;AUTUMNTYPE-OVERCAST Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;WINTERTYPE-OVERCAST Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;SPRINGTYPE-RAIN Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;SUMMERTYPE-RAIN Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;AUTUMNTYPE-RAIN Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;WINTERTYPE-SLEET Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;WINTERTYPE-LIGHTSNOW Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;SPRINGTYPE-FOG Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;SUMMERTYPE-FOG Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;AUTUMNTYPE-FOG Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;WINTERTYPE-FOG Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;SPRINGTYPE-STORMY Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;SUMMERTYPE-STORMY Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;AUTUMNTYPE-STORMY Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;WINTERTYPE-STORMY Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;SPRINGTYPE-SLEET Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;SPRINGTYPE-LIGHTSNOW Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast rain fog stormy)]
&amp;WINTERTYPE-RAIN Keran's Slave Weather Station=[u(#261/randword,[u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] [u(weathertype-master)] clear fair overcast sleet lightsnow fog blizzard)]
&amp;GENERATOR Keran's Slave Weather Station=@wait me={&amp;slave-weathertype-old me = [u(slave-weathertype)]; &amp;weathertype-master me = [u(#252/weathertype-old)]; &amp;slave-weathertype me = [u([u(#248/season)]type-[u(weathertype-master)])]; @trigger me/generator}
@Startup Keran's Slave Weather Station=@drain me; @trigger me/generator
@Desc Keran's Slave Weather Station=This Slave Weather Station is an optional part of the weather code. It is only useful if you want to run regional weather (+topic regional for help). It is notified by the Weathermaker to select its own weather for the day. It has no commands and should be kept in the Auxiliary room or a regional auxiliary room. Set it visual,&#160;!COMMAND, and safe.
&amp;VERSION Keran's Slave Weather Station=4.0
&amp;AUTHOR Keran's Slave Weather Station=Keran@Keranset Island
&amp;WEATHERTYPE-MASTER Keran's Slave Weather Station=rain
&amp;SLAVE-WEATHERTYPE Keran's Slave Weather Station=rain
&amp;SLAVE-WEATHERTYPE-OLD Keran's Slave Weather Station=rain
@set Keran's Slave Weather Station=VISUAL
@set Keran's Slave Weather Station=SAFE
@rxlevel Keran's Slave Weather Station=Real
@txlevel Keran's Slave Weather Station=Real
@alias #254=
---
#255
#251
#251
#72
@create Keran's Clock=10
@lock Keran's Clock=#0
@lock/UseLock Keran's Clock=IS-ADMIN/1
@Startup Keran's Clock=@trigger me/loop
&amp;LOOP Keran's Clock=@trigger me/routine-time-of-day; @trigger me/routine-hour; @trigger me/routine-halfhour; @trigger me/routine-quarterhour; @trigger me/routine-tide; @trigger me/routine-moon; @trigger me/routine-sun; @wait 60 = @trigger me/loop
&amp;DAY-NIGHT-DAWN-DUSK Keran's Clock=night
&amp;LAST-DAY-NIGHT-DAWN-DUSK Keran's Clock=night
&amp;ROUTINE-TIME-OF-DAY Keran's Clock=&amp;last-time-of-day me = [u(time-of-day)]; &amp;time-of-day me = [u(#248/time-of-day)]; @switch [comp(u(last-time-of-day), u(time-of-day))] = 0, @@, @dolist [v(triggerlist-time~of~day)] = @trigger ##/trigger-at-[u(#261/blank2tilde, u(#248/time-of-day))]
&amp;ROUTINE-HOUR Keran's Clock=&amp;last-hour me = [u(hour)]; &amp;hour me = [u(#248/hour)]; @switch [comp(u(hour), u(last-hour))] = 0, @@, {@dolist [v(triggerlist-hour)] = @trigger ##/trigger-at-[u(#248/hour)]; @dolist [v(triggerlist-every~hour)] = @trigger ##/trigger-at-every~hour}
&amp;ROUTINE-TIDE Keran's Clock=&amp;last-tide me = [u(tide)]; &amp;tide me = [u(#263/tide)]; @switch [comp(u(tide), u(last-tide))] = 0, @@, @dolist [v(triggerlist-tide)] = @trigger ##/trigger-at-[u(#261/blank2tilde, u(#263/tide))]
&amp;ROUTINE-MOON Keran's Clock=&amp;last-moon-up me = [u(moon-up)]; &amp;moon-up me = [u(#263/moon-up)]; @switch [comp(u(moon-up), u(last-moon-up))] = 0, @@, 1, @dolist [v(triggerlist-moon)] = @trigger ##/trigger-at-moonrise, -1, @dolist [v(triggerlist-moon)] = @trigger ##/trigger-at-moonset; &amp;last-meridian-transit me = [u(meridian-transit)]; &amp;meridian-transit me = [gt(secs(), u(#263/meridian-transit))]; @switch [comp(u(meridian-transit), u(last-meridian-transit))] = 0, @@, 1, @dolist [v(triggerlist-moon)] = @trigger ##/trigger-at-meridian~transit
&amp;ROUTINE-SUN Keran's Clock=&amp;last-day-night me = [u(day-night)]; &amp;day-night me = [u(#248/day-night)]; @switch [comp(u(day-night), u(last-day-night))] = 0, @@, -1, @dolist [v(triggerlist-sun)] = @trigger ##/trigger-at-sunrise, 1, @dolist [v(triggerlist-sun)] = @trigger ##/trigger-at-sunset
&amp;ADD-TO-TRIGGERLIST Keran's Clock=$add * *: &amp;triggerlist-%1 me = [setunion(%0, v(triggerlist-%1))]
&amp;DELETE-FROM-TRIGGERLIST Keran's Clock=$del * *: &amp;triggerlist-%1 me = [setdiff(v(triggerlist-%1),&#160;%0)]
@Desc Keran's Clock=The Clock runs a continual loop in which it checks the time of day and then @triggers various objects based on the time of day. It must trigger the Weathermaker, and the Time of Day Emits Bank if you want to use emits. You can add other objects to the list of objects it will @trigger. It has commands on it and should be kept in the Auxiliary room. It should be owned by a wizard and flagged inherit and safe.
&amp;IS-ADMIN Keran's Clock=[orflags(%#, WZ)]
&amp;TRIGGERLIST-TIME~OF~DAY Keran's Clock=#252 #256 #275
&amp;VERSION Keran's Clock=4.0
&amp;AUTHOR Keran's Clock=Keran@Keranset Island
&amp;TRIGGERLIST-SUN Keran's Clock=#256 #275
&amp;TRIGGERLIST-MOON Keran's Clock=#256 #275
&amp;TRIGGERLIST-TIDE Keran's Clock=#256 #275
&amp;MOON-UP Keran's Clock=0
&amp;LAST-MOON-UP Keran's Clock=0
&amp;MERIDIAN-TRANSIT Keran's Clock=1
&amp;LAST-MERIDIAN-TRANSIT Keran's Clock=1
&amp;ROUTINE-HALFHOUR Keran's Clock=&amp;last-halfhour me = [u(halfhour)]; &amp;halfhour me = [u(#248/halfhour)]; @switch [comp(u(halfhour), u(last-halfhour))] = 0, @@, @dolist [v(triggerlist-every~halfhour)] = @trigger ##/trigger-at-every~halfhour
&amp;ROUTINE-QUARTERHOUR Keran's Clock=&amp;last-quarterhour me = [u(quarterhour)]; &amp;quarterhour me = [u(#248/quarterhour)]; @switch [comp(u(quarterhour), u(last-quarterhour))] = 0, @@, @dolist [v(triggerlist-every~quarterhour)] = @trigger ##/trigger-at-every~quarterhour
&amp;TRIGGERLIST-HOUR Keran's Clock=#256 #275
&amp;TRIGGERLIST-EVERY~HALFHOUR Keran's Clock=#275
&amp;TRIGGERLIST-EVERY~QUARTERHOUR Keran's Clock=#275
&amp;TRIGGERLIST-EVERY~HOUR Keran's Clock=#275
&amp;TIME-OF-DAY Keran's Clock=afternoon
&amp;HOUR Keran's Clock=15
&amp;HALFHOUR Keran's Clock=30
&amp;QUARTERHOUR Keran's Clock=60
&amp;TIDE Keran's Clock=low and slack
&amp;DAY-NIGHT Keran's Clock=day
&amp;LAST-TIME-OF-DAY Keran's Clock=afternoon
&amp;LAST-HOUR Keran's Clock=14
&amp;LAST-HALFHOUR Keran's Clock=29
&amp;LAST-QUARTERHOUR Keran's Clock=59
&amp;LAST-TIDE Keran's Clock=low and slack
&amp;LAST-DAY-NIGHT Keran's Clock=day
@set Keran's Clock=INHERIT
@set Keran's Clock=VISUAL
@set Keran's Clock=SAFE
@set Keran's Clock=COMMANDS
@rxlevel Keran's Clock=Real
@txlevel Keran's Clock=Real
@alias #255=
---
#256
#251
#251
#72
@create Keran's Emits Bank=10
@lock Keran's Emits Bank=#0
&amp;TRIGGER-AT-DAWN Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, The stars in the east begin to look washed out as the sapphire night sky pales., fair, A faint sheen touches the clouds in the sapphire night sky to the east., fog, The eastern mist pales almost imperceptibly., lightsnow, {The dark grey sky in the east pales as damp, cold dawn approaches.}, blizzard, {Faintly, a grey pallor illuminates the thick snowfall.}, sleet, A faint gleam touches the eastern sky through the sleet and the cold wind., rain, {Through the veils of rain, the clouds to the east pale.}, stormy, The stormy sky lightens faintly to the east., overcast, Faint grey light seeps through a leaden layer of clouds toward the east.)]
&amp;TRIGGER-AT-SUNRISE Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, Pink-gold light gilds the land as the sun creeps over the eastern horizon into a cloudless blue sky., fair, {The sun rises, painting the eastern clouds with a pink and pale gold glow.}, rain, Rain falls in the dawn's light., overcast, A grey dawn breaks., fog, Everything is half-concealed by fog in the grey half-light., stormy, Rain falls in wind-lashed sheets at dawn., lightsnow, {Through the snow flurries, the translucent grey sky brightens to the east.}, sleet, Freezing rain falls in the grey light of dawn., blizzard, Snow cascades from the sky in the half-light of dawn.)]
&amp;TRIGGER-AT-DUSK Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, Shadows lengthen and the light turns golden as the sun sinks toward the west through a clear sky., fair, {Purple, gold, and vermillion clouds grace the western sky as the sun descends toward the west.}, overcast, The soft light dims at dusk., rain, A rainy late afternoon gives way to evening., fog, The misty light dims slightly., stormy, {The clouds darken further, rain drenching the landscape as evening approaches.}, lightsnow, {Through the drifting snowflakes, the translucent pale grey of the sky deepens.}, sleet, Sleet coats the ground with ice as evening draws near., blizzard, The whiteness of the whirling snow fades to blanched grey.)]
&amp;TRIGGER-AT-SUNSET Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, The evening stars come out as the red-orange sun sinks below the horizon., fair, {The orange-red sun sinks below the western horizon, leaving a darkening tapestry of purple and red-gold clouds behind it.}, overcast, {A featureless blanket of grey cloud covers the evening sky.}, fog, Twilight deepens the grey of the fog., rain, The shower soaks the earth as twilight deepens., stormy, {The last light in the west begins to fail, heralding a stormy night.}, lightsnow, Snow flurries fall from a darkening grey sky., sleet, {In the deepening twilight, the freezing rain makes the footing treacherous.}, blizzard, Blinding snow spills from the sky as the twilight deepens.)]
&amp;TRIGGER-AT-NIGHT Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, The stars glitter like diamonds in the deep sapphire blue of the night sky., fair, {Brindled clouds conceal a few patches of starlit sky.}, overcast, {The night is moonless and starless.}, fog, {Fog and darkness shroud the world.}, rain, Raindrops sprinkle down from a night sky obscured by dark grey clouds., stormy, Wailing wind blows rain through the darkness., blizzard, Snow swirls about you in gusts as night falls., sleet, {As night falls, the icy rain is whipped about by the wind.}, lightsnow, {The night is raw. Snow flurries drift down from the overcast sky.})]
@Desc Keran's Emits Bank=This is an emitter bank containing messages that are broadcast to outdoor rooms at first light, sunrise, sunset, moonrise, moonset, nightfall, etc. The messages vary with the weathertype. It is triggered by the Clock. It belongs in the Auxiliary room and has no commands on it.
&amp;TRIGGER-AT-MORNING Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, The sun climbs into a brilliant blue sky., fair, The sun ascends in a bright blue sky filled with fluffy fair weather clouds and a few wisps of cirrus., overcast, The light from the overcast sky is diffuse and nothing casts a shadow., rain, It's a wan grey morning. Rain patters to earth., stormy, {Furious winds drive rain into the ground at angle. The morning sky is slate grey.}, sleet, Icing rain plates the world with silver in the cold light of morning., lightsnow, {The pallid gleam of the sun rises behind a veil of pearlescent grey, from which snow flurries drift. The air is chilly and damp.}, blizzard, {Heavy, wet snow falls throughout the morning.}, fog, Pale grey mists half-hide the world around you.)]
&amp;TRIGGER-AT-12 Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, The sun blazes overhead in the clear blue sky., fair, {The sun shines overhead, bracketed by puffy fair weather clouds.}, overcast, A thick layer of stratus clouds cloaks the sky at mid-day., fog, The fog is grey-white in the light of mid-day., rain, Droplets splash in puddles at mid-day., stormy, {Torrential rains fall at mid-day, driven by raging winds.}, sleet, Freezing rain pours from the sky at mid-day., lightsnow, Light snow wafts gently down from the pale grey mid-day sky., blizzard, The world is lost in whiteness as snow blows about you at mid-day.)]
&amp;TRIGGER-AT-0 Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, Stars glitter brilliantly in the deep blue of the midnight sky., fair, {Stars sparkle in the midnight sky, obscured here and there by clouds.}, overcast, Charcoal clouds fill the midnight sky., fog, It's hard to see through the midnight darkness and the fog., rain, {Rain falls at midnight, unseen in the darkness.}, stormy, The ferocity of the gale is unabated at midnight., lightsnow, {Powdery snow drifts down from the grey-black midnight sky, felt rather than seen in the darkness.}, sleet, Sleet spatters from the midnight sky., blizzard, The blizzard and the darkness of midnight hide everything.)]
&amp;TRIGGER-AT-MOONRISE Keran's Emits Bank=@switch u(#263/moon-phase) = new, @@, {@switch u(#248/day-night) = night, {@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, {The [u(#263/moon-phase)] moon rises into the sapphire blue of the night sky, dimming the light of the twinkling stars.}, fair, {Framed by a rack of clouds, the [u(#263/moon-phase)] moon rises into the deep blue of the starlit sky.},,)]}}
&amp;TRIGGER-AT-MOONSET Keran's Emits Bank=@switch u(#263/moon-phase) = new, @@, {@switch u(#248/day-night) = night, {@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, {The [u(#263/moon-phase)] moon sets, leaving the stars to spangle the crystalline night sky.}, fair, {The [u(#263/moon-phase)] moon, tracing a nearby wisp of cloud in silver, sinks below the western horizon. The stars sparkle in the ultramarine sky, distant and serene.},,)]}}
&amp;TRIGGER-AT-AFTER~MIDNIGHT Keran's Emits Bank=@emit It's after midnight.
&amp;TRIGGER-AT-AFTERNOON Keran's Emits Bank=@emit It's afternoon.
&amp;TRIGGER-AT-NOON Keran's Emits Bank=@emit It's noon.
&amp;TRIGGER-AT-MIDNIGHT Keran's Emits Bank=@emit It's midnight.
&amp;VERSION Keran's Emits Bank=4.0
&amp;AUTHOR Keran's Emits Bank=Keran@Keranset Island
&amp;TRIGGER-AT-HIGH~AND~SLACK Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-tide-emits), 1))) = @pemit/contents ## = The tide is high and slack.
&amp;TRIGGER-AT-LOW~AND~SLACK Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-tide-emits), 1))) = @pemit/contents ## = The tide is low and slack.
&amp;TRIGGER-AT-LOW~AND~EBBING Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-tide-emits), 1))) = @pemit/contents ## = The tide is low and ebbing.
&amp;TRIGGER-AT-LOW~AND~RISING Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-tide-emits), 1))) = @pemit/contents ## = The tide is low and rising.
&amp;TRIGGER-AT-HIGH~AND~RISING Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-tide-emits), 1))) = @pemit/contents ## = The tide is high and rising.
&amp;TRIGGER-AT-HIGH~AND~EBBING Keran's Emits Bank=@dolist search(eroom=not(comp(u(##/hear-tide-emits), 1))) = @pemit/contents ## = The tide is high and ebbing.
&amp;TRIGGER-AT-MERIDIAN~TRANSIT Keran's Emits Bank=@switch u(#263/moon-phase) = new, @@, {@switch u(#248/day-night) = night, {@dolist search(eroom=not(comp(u(##/hear-weather-emits), 1))) = @pemit/contents ## = [switch(u(#252/weathertype), clear, {The [u(#263/moon-phase)] moon reaches its zenith, [u(#263/moon-adjective)]ly illuminating all below.}, fair, {The [u(#263/moon-phase)] moon gleams overhead, its light turning the clouds to tarnished silver.},,)]}}
@set Keran's Emits Bank=VISUAL
@set Keran's Emits Bank=ROYALTY
@set Keran's Emits Bank=SAFE
@rxlevel Keran's Emits Bank=Real
@txlevel Keran's Emits Bank=Real
@alias #256=
---
#257
#2
#2
#72
@create Time + Weather: Keran's Global Command Object=10
@lock Time + Weather: Keran's Global Command Object=#0
@Desc Time + Weather: Keran's Global Command Object=This object is part of Keran's Weather and Time Code Package, and has global commands on it. It belongs in the Master Room and should be set royalty.
&amp;AUTHOR Time + Weather: Keran's Global Command Object=Keran@Keranset Island
&amp;VERSION Time + Weather: Keran's Global Command Object=4.0
&amp;TODAY-SYSTEM Time + Weather: Keran's Global Command Object=$+abeyance: @pemit&#160;%#=It's [squish([mid(time(), 0, 20)] [u(#248/year)])]. The [u(#263/moon-phase)] moon [switch(u(#263/moon-up), 1, is up., 0, isn't up.)] The tide is [u(#263/tide)].%r[u(#261/long-weather)]
&amp;PARENTS Time + Weather: Keran's Global Command Object=$+parents: @pemit&#160;%# = Available parent rooms are:%r [iter(iter(children(#274), children(##)), ## [name(##)]%r)]
&amp;WT Time + Weather: Keran's Global Command Object=$+wt *: @pemit&#160;%# = [u(#260/help_%0)]
&amp;WT-LIST Time + Weather: Keran's Global Command Object=$+wt: @pemit&#160;%# = [u(#260/list)]
&amp;WTA Time + Weather: Keran's Global Command Object=$+wta *: @pemit&#160;%# = [u(#258/%0)]
&amp;WTC Time + Weather: Keran's Global Command Object=$+wtc *: @pemit&#160;%# = [u(#259/%0)]
&amp;WTC-LIST Time + Weather: Keran's Global Command Object=$+wtc: @pemit&#160;%# = [u(#259/topic-list)]
&amp;WTA-LIST Time + Weather: Keran's Global Command Object=$+wta: @pemit&#160;%# = [u(#258/topic-list)]
&amp;TODAY Time + Weather: Keran's Global Command Object=$+today:@pemit&#160;%#=%r%xh[rjust(inc(mod(inc(u(#248/number-of-calendar-month)),12)),2,0)]/[rjust(u(#248/day-of-calendar-month),2,0)]/[u(#248/year)] -- [u(FN_DAY_NAME)], around [u(#248/clock-face-hour)][switch(gte(u(#248/hour),12),1,pm,am)]:%xn The [u(#263/moon-phase)] moon [switch(u(#263/moon-up), 1, is up., 0, isn't up.)] The tide is [u(#263/tide)]. [u(#261/long-weather)]
&amp;TODAY_BAK Time + Weather: Keran's Global Command Object=+today: @pemit&#160;%#=It's hour [u(#248/hour)] in the day, in week [u(#248/week)] of [u(#261/tilde2blank, u(#248/month))], in the year [u(#248/year)]. The [u(#263/moon-phase)] moon [switch(u(#263/moon-up), 1, is up., 0, isn't up.)] The tide is [u(#263/tide)].%r[u(#261/long-weather)]
&amp;FN_DAY_NAME Time + Weather: Keran's Global Command Object=extract(Sunday Monday Tuesday Wednesday Thursday Friday Saturday,inc(mod(add(u(#248/day-from-0),2),7)),1)
@set Time + Weather: Keran's Global Command Object=VISUAL
@set Time + Weather: Keran's Global Command Object=ROYALTY
@set Time + Weather: Keran's Global Command Object=SAFE
@set Time + Weather: Keran's Global Command Object=COMMANDS
@rxlevel Time + Weather: Keran's Global Command Object=Real
@txlevel Time + Weather: Keran's Global Command Object=Real
@alias #257=
---
#258
#251
#251
#72
@create Keran's Weather and Time Help - Admin Commands=10
&amp;CLOCK-COMMANDS Keran's Weather and Time Help - Admin Commands=%radd &lt;dbref&gt; &lt;triggerlist&gt;%rdel &lt;dbref&gt; &lt;triggerlist&gt;%r%rThese are the commands on the Clock allowing you to add or delete items from the Clock's triggerlists, so that the Clock can trigger commands on them at appropriate times. You must be where the Clock can hear you in order to use them. &lt;dbref&gt; is the number of the item to be added to the Clock's triggerlists, and &lt;triggerlist&gt; is which triggerlist to use. The triggerlist must be time~of~day, sun, moon, tide, hour, every~hour, every~halfhour, or every~quarterhour. An item to be triggered must have an attribute &amp;trigger-at-&lt;time&gt; = &lt;action to be triggered&gt;, where &lt;time&gt; is dawn, sunrise, morning, noon, afternoon, dusk, sunset, night, midnight, after~midnight, moonrise, moonset, meridian~transit, every~hour, every~halfhour, every~quarterhour, 0 through 23, high~and~rising, high~and~slack, high~and~ebbing, low~and~ebbing, low~and~slack, low~and~rising. Use &amp;trigger-at-0 and &amp;trigger-at-12 for 
triggering at precisely midnight and noon; the times of day called noon and midnight are time stretches.%r%rThe Clock triggers the Weathermaker at dawn and the Emits Bank at various times of day and hours, by default.%r
&amp;CALENDARS Keran's Weather and Time Help - Admin Commands=%rgregorian%rnative%rsystem%r%rThese commands, on the Wizard Weather and Time Command object, change the calendar to the named calendar mode. You must be where the Wiz Weather Command object can hear you to execute it. See +wtc calendars for an explanation of the calendar options.%r
&amp;CLOCK-COMPRESSION Keran's Weather and Time Help - Admin Commands=%rclock &lt;number&gt;%r%rThis command sets the compression mode to clock and the clock compression ratio to &lt;number&gt;, where &lt;number&gt; is a small whole number, or a decimal ratio of small whole numbers by which 3600 can be evenly divided, e.g, 1.5 (3:2). (Other ratios might work, but Keran hasn't tested them.) You must be where the Wizard Weather and Time Command object can hear you to execute it. See +wtc compression, +wtc clock-compression.%r
&amp;CALENDAR-COMPRESSION Keran's Weather and Time Help - Admin Commands=%rcalendar &lt;number&gt;%r%rThis command sets the compression mode to calendar and the calendar compression to &lt;number&gt;, where &lt;number&gt; is 1, 2, 3, or 4. You must be where the Wizard Weather and Time Command object can hear you to execute it. See +wtc compression, +wtc calendar-compression.%r
&amp;START-TIME Keran's Weather and Time Help - Admin Commands=%rstart time &lt;time&gt;%r%rThis command on the Wizard Weather and Time Command object sets the real time from which the Weather and Time Code should begin its reckoning. The format for &lt;time&gt; is the same returned by time(); you don't have to correctly specify the weekday. Any three letters will do. The Wiz Weather Command object must be able to hear you for it to work.%r%rThis command also resets &amp;weathertype and &amp;weathertype-old on the Weathermaker, and &amp;weathertype-master, &amp;slave-weathertype-old, and &amp;slave-weathertype on the Slave Weather Station, because if the new start time changes the season, it is possible that the current weathertypes may be inappropriate.%r
&amp;STARTING-YEAR Keran's Weather and Time Help - Admin Commands=%rstarting year &lt;year&gt;%r%rThis command on the Wizard Weather and Time Command object sets the virtual starting year. &lt;year&gt; must be an integer. You must be where the Wiz Weather Command Object can hear you for it to work.%r
&amp;REGIONAL Keran's Weather and Time Help - Admin Commands=%rregional%rno regional%r%rThese commands on the Wizard Weather and Time Command object set up the Weathermaker to @notify the Slave Weather Station at dawn to select its own weather, or remove such notification. You must be where the Wiz Weather Command Object can hear you for them to work. Setting up regional weather can be quite involved; see +wtc regional-weather for a discussion thereof.%r
&amp;LONGEST-DAY Keran's Weather and Time Help - Admin Commands=%rlongest day &lt;hours&gt;%r%rThis command on the Wizard Weather and Time Command object sets the length of the longest day, in hours; the day length varies with the season. &lt;hours&gt; can be any number from 12 to just under 24, but there are definitely things that will break as you approach 24 hours of daylight, if you're attempting midnight sun effects in a polar setting, and Keran hasn't identified all of them. You must be where the Wiz Weather Command Object can hear you for it to work.%r
&amp;LATITUDE Keran's Weather and Time Help - Admin Commands=%rlatitude &lt;degrees&gt;%r%rThis command on the Wizard Weather and Time Command object sets the length of the longest day by calculating it from latitude; the day length varies with the season. &lt;lattitude&gt; can be any number greater than 0 and less than or equal to 66. If you have an equatorial setting, use the longest day command to set a day length of 12 hours, instead of giving this command a latitude of 0; a division-by-0 error will occur. Keran hasn't done testing to determine exactly how close you can get to the poles before the code starts doing jarring things; it is conceivable that latitude 66 may be too high. You must be where the Wiz Weather Command Object can hear you for this command to work.%r
&amp;TIDE Keran's Weather and Time Help - Admin Commands=%rsemidiurnal tide%rdiurnal tide%r%rThis commands on the Wizard Weather and Time Command object set the tide to either diurnal or semidiurnal mode. Diurnal tides have one high tide and one low tide per day, and are characteristic of areas on very large ocean basins, like the Pacific; semidiurnal times have two high tides and two low tides per day, and are characteristic of smaller oceans like the Atlantic. The tide is semidiurnal by default. You must be where the Wiz Weather Command Object can hear you for these commands to work.%r
&amp;TOPIC-LIST Keran's Weather and Time Help - Admin Commands=%rThese commands are to be found on the Wizard Weather and Time Command Object, the Clock, or the Stormmaker. You must be a wizard to execute some of them, and wizard or royalty to execute others. The items the commands are on must be able to hear you.%r%r[columns(calendar-compression calendars clock-commands clock-compression latitude longest-day regional starting-year start-time stormmaker tide, 22)]%r%r+wta &lt;name&gt; for +help.%r
&amp;STORMMAKER Keran's Weather and Time Help - Admin Commands=%rweather &lt;weathertype&gt;%rslave &lt;weathertype&gt;%r%rThese commands are all on the Stormmaker. You have to be somewhere where it can hear you to run them.%r%rThe weather and slave commands allow you to change the weathertype on the Weather Maker or the Slave Weather Station to something appropriate to the sort of effects you want to produce. &lt;Weathertype&gt; should be clear, fair, overcast, fog, rain, stormy, sleet, lightnow, or blizzard, appropriate to the season.%r%r+wta stormmaker2 for more.%r
&amp;STORMMAKER2 Keran's Weather and Time Help - Admin Commands=%reverywhere &lt;string&gt;%routside &lt;string&gt;%rwindow &lt;string&gt;%rinside &lt;string&gt;%rzone &lt;dbref&gt;=&lt;string&gt;%rsearch &lt;attribute&gt;=&lt;string&gt;%r%rThese commands send the strings supplied, capitalized, to the contents of all rooms that fall into the appropriate categories. Everywhere, window, outside, and inside will only work correctly if all of the rooms in your IC area are parented to an appropriate parent room (see +wtc parent-room-hierarchy). Zone will send the string to the contents of any room @chzoned to the dbref given. Search will send the string to the contents of any room that has the attribute specified.%r
@Desc Keran's Weather and Time Help - Admin Commands=This is +wta, the admin command +help for Keran's Weather and Time Code Package. It should be set visual, safe, and&#160;!COMMAND, and it belongs in the Auxiliary room. The items documented on this object are expected to be useful to admins.
@set Keran's Weather and Time Help - Admin Commands=VISUAL
@set Keran's Weather and Time Help - Admin Commands=SAFE
@rxlevel Keran's Weather and Time Help - Admin Commands=Real
@txlevel Keran's Weather and Time Help - Admin Commands=Real
@alias #258=
---
#259
#251
#251
#72
@create Keran's Weather and Time Help - Configuration Considerations=10
&amp;TOPIC-LIST Keran's Weather and Time Help - Configuration Considerations=%r[columns(*bugs *calendars *calendar-compression *clock-compression *compression *global-emits *global-setup foreign-timing moons next-version *parameters *parent-room-hierarchy regional-weather varying-the-weather weather-modelling, 22)]%r%rItems marked with a * are important for normal operations.%r%r+wtc &lt;name&gt; for +help.%r
@Desc Keran's Weather and Time Help - Configuration Considerations=This object has +help for various topics related to setting up and configuring Keran's Weather and Time Code. It has no commands and should be kept in the Auxiliary room.
&amp;BUGS Keran's Weather and Time Help - Configuration Considerations=%rThis code has been tested at calendar compression ratios of 1:1, 2:1, 3:1, and 4:1, and at clock compression ratios of 4:1, 3:1, 2:1, 1:1, and 3:2. It appears to work; however, the testing period has not been long enough to let it cycle through a whole year. It is supposed to work correctly and consistently at these ratios; if it doesn't, please tell Keran (keranset@mail1.nai.net).%r%rKeran posts bug fixes in a changes file at the distribution site, ftp://telmaron.telmaron.com/pub/keranset/.%r%rSome known aberrations:%r%rOccasionally, you'll see a message from the Emits bank doubled. This isn't a bug in the Weather and Time Code; it's an aberration in the behavior of the server, and shows up in other code with timed @triggers as well. It doesn't happen often; there's no softcode fix for it.%r%r+wtc bugs2 for more.%r
&amp;BUGS2 Keran's Weather and Time Help - Configuration Considerations=%rRarely, you'll find that for some reason, the weathertypes will not be correctly written to the Weathermaker, which, naturally, breaks everything in the code that depends on the weathertype. This has happened about 3 times at Keranset over the past couple of years. To fix it, manually set weathertypes on the Weathermaker, like so:%r%r&amp;weathertype weathermaker=fair%r&amp;weathertype-old weathermaker=fair%r%rA mysterious and erratic failure to completely evaluate a function can be a sign that the function_invocation_limit for the server is set too low. If you can evaluate a function individually but it fails up as part of something else--a variable desc--this is probably the problem. Set the function_invocation_limit up until it stops happening.%r%rKeran's Weather and Time code, when correctly installed, doesn't write to anything in the database other than itself, when your server is operating normally, unlike some other public code releases.%r
&amp;CALENDARS Keran's Weather and Time Help - Configuration Considerations=%rKeran's weather and timing code comes with three possibilities for calendars: native, Gregorian, and system. System is a true Gregorian calendar that runs off the system clock in 1:1 time compression; the date and time will always be identical to whatever your system clock returns, except that you can change the year. The other two calendars are quasi-Gregorian and the native format, both of which have 360 day years (usually) and 30 day months.%r%rIn the quasi-Gregorian calendar in which December, January, and February constitute winter; March, April, and May, spring; June, July, and August, summer; and September, October, and November, autumn. The dates of the solstices and equinoxes are not accurate in this mode; winter, and the winter solstice, fall on December 1, not December 21 as is the case in the real world.%r%rIn the native calendar, the year and the first month of spring both begin on the vernal equinox.%r%rSee +wta calendars 
for +help on switching between calendars.%r%rRecoder's notes: calculations are made using the native mode; then month, season, and year are recalculated to produce the quasi-Gregorian timing.%r
&amp;CALENDAR-COMPRESSION Keran's Weather and Time Help - Configuration Considerations=%rIn calendar compression, an IC day passes in 24 real hours, and IC time is accelerated by skipping days in each month, season, and year. At 3:1 calendar compression, for example, an IC month passes in 10 24-hour days. The calendar compression ratio above must be a small positive integer; the code as supplied is designed to handle calendar compression rations of 1, 2, 3, and 4. See +wta calendar-compression for +help on the commands to set the calendar compression.%r%rRecoder's notes: since the code works by counting days, fractional ratios do not work. In order not to break the moon, which has 8 phases and needs at least 8 counted days per month to go through an entire phase cycle, the minimum value of base-days-per-year is 8 phases * 12 months * calendar-compression, and it must be evenly divisible by both 8 and 12. The default value for the base days per year is 360; all calendar compression ratios of 3:1 or lower, as well 
as typical clock compression ratios, work with this value. The Wizard Weather Command object automatically sets an appropriate value for the base days per year if you use it to reset the calendar compression to 1, 2, 3, or 4.%r
&amp;CLOCK-COMPRESSION Keran's Weather and Time Help - Configuration Considerations=%rWhen IC time is accelerated using clock compression, an IC hour goes by in less than a real hour. The number of seconds in an IC hour is determined by dividing 3600 (the number of seconds in a real hour) by the clock compression ratio. The clock compression ratio is expected to be a small positive number by which 3600 can be evenly divided. It may have a fractional part; for example, you can evenly divide 3600 by 1.5 (a 3 IC hour: 2 real hour ratio). 4, 3, 2, 1, and 1.5 are all acceptable clock compression ratios.%r%rThe effect of using ratios with fractional parts, like 1.5 (3:2), 1.25 (5:4), or 2.5 (5:2), is that it will desynchronize IC time and real time; that is, if a player logs in at the same time of day all the time, it won't always be the same time of day ICly. This can be useful if you wish to accommodate players who log in from other time zones at odd hours.%r%rSee +wta clock-compression for +help on how to set the 
clock compression.%r
&amp;COMPRESSION Keran's Weather and Time Help - Configuration Considerations=%rThere are two different ways to accelerate IC time in Keran's weather and timing code: clock compression and calendar compression. It is assumed that you will only use one of them at a time, although so far it's produced reasonable results if both the clock and the calendar are compressed; Keran's testing of this has not been rigourous. The code has been tested at clock compression ratios of 4:1, 3:1, 2:1, 3:2, and 1:1, and at calendar compression ratios of 4:1, 3:1, 2:1, and 1:1.%r%rIn clock compression, a day goes by faster than it does in real time. For example, if you have a clock compression ratio of 3:1, 24 IC hours will go by in 8 real hours. In calendar compression, on the other hand, a day goes by in 24 hours, but you skip days, so that months, seasons and years pass more quickly. For example, if you have a calendar compression ratio of 2:1, 12 IC months will pass in 6 real months. See +wtc clock-compression, +wtc calendar-
compression.%r
&amp;GLOBAL-SETUP Keran's Weather and Time Help - Configuration Considerations=%rYou should put these attributes on #1 to set up the required global +functions:%r%r&amp;SETUP-GLOBAL-FUNCTIONS #1 = @function randword = &lt;dbref of Miscellaneous Functions&gt;/randword; @function tilde2blank = &lt;dbref of Miscellaneous Functions&gt;/tilde2blank; @function blank2tilde = &lt;dbref of Miscellaneous Functions&gt;/blank2tilde%r@startup #1 = @trigger me/setup-global-functions%r%rFor version 4.0 of the Weather and Time Code, you'll need to kick the function_invocation_limit on the server up to handle the recoded in variable descs in children of the parent rooms. Setting function_invocation_limit to 12500 seems to suffice.%r
&amp;GLOBAL-EMITS Keran's Weather and Time Help - Configuration Considerations=%rThe contents of any room which has an attribute &amp;hear-weather-emits set to 1 will hear the weather emits from the Emits Bank, assuming the Emits Bank is on the Clock's lists of items to @trigger (it is, by default). Those supplied are usually only appropriate for outdoor rooms. The outdoor parent rooms and their children are set to hear weather emits by default; if you want to turn off the weather emits in a child of an outdoor parent room, set &amp;hear-weather-emits &lt;room #&gt; = 0.%r%rAny room which has an attribute &amp;hear-tide-emits set to 1 will hear the tide emits from the Emits Bank, assuming the Emits Bank is on the Clock's list of items to trigger at tide changes.%r%rSee +wta clock-commands for information on adding items to the Clock's triggerlists.%r
&amp;FOREIGN-TIMING Keran's Weather and Time Help - Configuration Considerations=%rIn some cases you may wish to use this weather system with other timing code, replacing the Clock and the Time Functions Object. This is not recommended, as the timing code is the guts of the package, but an experienced coder should be able to manage it.%r%rRecoder's notes: in order to use foreign timing code and preserve most of the functionality of this weather system, the timing code must capable of the following:%r%rIt must, at the very least, distinguish between day and night; preferably, it distinguishes between day, night, dawn, and dusk.%rIt must distinguish the seasons spring, summer, autumn, and winter.%rIn order for the parent rooms to work as they do in this system, there must be a function that tells whether the moon is up or not.%rThere must be a clock capable of triggering the Weathermaker at dawn.%r%rIt is beyond the scope of this +help to attempt to explain exactly what steps must be undertaken to make the weather 
code work with foreign timing; however, the weather system was coded with readability and simplicity of code in mind (given the complexity of the system).%r
&amp;MOONS Keran's Weather and Time Help - Configuration Considerations=%rAdding moons is easier in 4.0 than it was in 3.0, in the sense that you can @clone the Moon and Tide object, strip the unnecessary tide commands off the new object, and set &amp;moon-daylength-difference on the new object to the difference between the amount of time it takes the moon to get around the sky, and 24 hours, in hours. That is to say, if it takes the moon 24.8 hours to get around the sky (the correct figure for Earth's moon, and the default setting for the existing moon), then moon-daylength-difference should be set to .8; if it takes 26 hours, it should be set to 2; if it takes 23.5 hours, it should be set to -.5. The code will handle all the phase and rise-and-set time recalculations, etc., from there, as far as determining how the new moon behaves. However, if you want the new moon to show up in +today, or in the variable descs in the parent rooms, you'll need to edit it in.%r
&amp;PARAMETERS Keran's Weather and Time Help - Configuration Considerations=%rThis is a list of the parameters that you can set to control the basic operation of the Weather and Time Code. See +wta for +help for the commands you can use to set them. The somewhat complex ones are often explained in other +wtc topics.%r%rcompression mode%rcalendar%rcalendar compression ratio%rclock compression ration%rlongest-day-length/latitude%rdiurnal/semidiurnal tide%rregional weather%rstarting-year%rstart-time%r
&amp;PARENT-ROOM-HIERARCHY Keran's Weather and Time Help - Configuration Considerations=%rThere are several parent rooms supplied with version 4.0 of the Weather and Time Code. The parent rooms make it comparatively easy to write rooms whose descriptions vary by time of day, season, weather, lighting conditions, etc. They can be used individually; as supplied, however, they exist in a hierarchy that determines what kind of rooms get what emits from the Stormmaker. You can create your own parent rooms and @parent them to the appropriate ancestors, which avoids your having to recode the Stormmaker to add parent rooms.%r%rAt the top of the hierarchy is the Great-grandparent of Rooms. Any room which is a remote descendant of this room is considered IC, and will receive certain emits from the Stormmaker; those rooms which are not descendants of this room are considered OOC and will not hear Stormmaker emits.%r%r+wtc parents2 for more.%r
&amp;PARENTS2 Keran's Weather and Time Help - Configuration Considerations=%rThe next layer of the hierarchy comprises three rooms:%r%rGrandparent of Outdoor Rooms%rGrandparent of Windowless Indoor Rooms%rGrandparent of Windowed Indoor Rooms%r%rIt is possible to direct Stormmaker emits to the children of only one Grandparent Room, or to those of two of the three. For instance, emits for thunder should go to all three kinds of room; emits for lightning should only go to those with a view outside--Outdoor Rooms and Windowed Indoor Rooms; emits for a power blackout might only go to both kinds of Indoor Room.%r%rNeither the Great-Grandparent nor any of the Grandparent Rooms contain any variable description coding; this is all to be found on the Parent Rooms. There are seven Parent Rooms supplied, two indoor and five outdoor:%r%r+wtc parents3 for more.%r
&amp;PARENTS3 Keran's Weather and Time Help - Configuration Considerations=%rParent of Windowless Indoor Rooms%rParent of Windowed Parent Rooms%rParent of Separable Day-Night and Season Desc Outdoor Rooms%rParent of Season-and-Day-Night Varying Outdoor Rooms%rParent of Separable Day-Night-Dawn-Dusk and Season Desc Outdoor Rooms%rParent of Separable Desc Outdoor Rooms%rParent of Weather-and-Day-Night Varying Outdoor Rooms%r%rThe +parents command returns the names and dbrefs of all grandchildren of the Great-Grandparent of Rooms, so that players can easily refer to a list of which parent rooms are available. The differences between the various outdoor parent rooms are differences in flavors of variable descriptions they'll return. See +wt parents.%r%r+wtc parents4 for more.%r
&amp;PARENTS4 Keran's Weather and Time Help - Configuration Considerations=%rYou may decide that the existing parent rooms are insufficient. For example, you could decide to create a Shore Parent Room whose children would automatically hear tide emits from the Emits Bank. You might do this by @cloning one of the outdoor parent rooms, renaming the clone to Shore Parent Room, setting a &amp;hear-tide-emits Shore Parent Room=1 on it, and then @parenting the Shore Parent to the Grandparent of Outdoor Rooms.%r%rYou might decide that the existing kinds of room are insufficient, so that you need to create a new Grandparent Room. Usually, the reason for doing this, as opposed to creating a new parent room, is that instead of needing to write a new variation on variable description code, you need a new class of room because you're going to recode the Stormmaker to accommodate a very different environment.%r%r+wtc parents5 for more.%r
&amp;PARENTS5 Keran's Weather and Time Help - Configuration Considerations=%rFor instance, if you had a setting that involved humans in a sea lab interacting with civilized dolphins, you might need a Grandparent of Underwater Rooms, because undersea rooms might not appropriately receive messages relating to indoor human environments or surface weather, but you might want to be able to send distinct environmental event messages to them.%r%rThe Stormmaker is slightly misnamed. It's actually a Transient Environmental Effects Generator, and can be used to produce events besides storms--earthquakes, blackouts, and unusual sights in the sky are all within its purview.%r
&amp;REGIONAL-WEATHER Keran's Weather and Time Help - Configuration Considerations=%rWith regional weather set up, different areas of the MUSH experience different weather at the same time. The regions should be about a day apart--since large weather systems move at vastly different speeds that may vary between 5 and 50 miles per hour, depending on the energy of the system, a certain amount of compromise is necessary; 200-300 miles might be a good figure. The Weathermaker becomes the master weather generator, and should control the weather in the region where storms enter the virtual landscape; Slave Weather Stations control the weather in other regions. For example, say your MUSH's landscape covered the southern New England coast; weather systems there have a large tendency to reach the southwestern portions before the northeastern, and so you would set the Weathermaker up to control the southwesternmost region and the first Slave Weather Station up to control a region 200-300 miles northeastward. It is 
possible to daisy-chain Slave Weather Stations; you could then have a second Slave Weather Station another 200-300 miles northeastward, using the first Slave Weather Station as its master.%r%r+wtc regional2 for more.%r
&amp;REGIONAL2 Keran's Weather and Time Help - Configuration Considerations=%rThe Weathermaker uses yesterday's weather--its own weather--to determine what today's probably is. The Slave Weather Station models weather in a similar fashion, but it uses its master's previous day's weather to determine what its own probably will be. In the default configuration, usually the slave will select the master's weather of the previous day for its own weather, but sometimes it will select something else. In this way weather systems seem to move from one region to another, with some variation.%r%rTo set up regional weather, you need to do the following:%r%r1) Determine the areas on your MUSH that belong to each region, and which region will belong to the Weathermaker.%r%r2) Set up the Weathermaker for regional weather by typing 'regional' where the Wizard Weather Command object can hear you. This changes the &amp;generator attribute on the Weathermaker so that, after picking its own weather, it notifies the slave to select a 
new weathertype for the day also. If you wish to remove this later, the 'no regional' command on the Wizard Weather Command object will do it.%r%r+wtc regional3 for more.%r
&amp;REGIONAL3 Keran's Weather and Time Help - Configuration Considerations=%r3) You will need to make it clear in your documentation somewhere that rooms in the Slave Region should use the slave weather functions instead of the master weather functions. One set of slave weather functions is included on the Time Functions Object as an example.%r%r4) You can't use a single Emits Bank to broadcast time of day messages to multiple regions unless you change the messages on it: the ones supplied vary with the weather, and all regions may not have the same weather. To set up an Emits Bank for a second region, you will need to set &amp;hear-weather-emits on rooms in it to 0, and select another attribute name that can be searched for, such as &amp;hear-slaveweather-emits, like so:%r%r&amp;hear-slaveweather-emits &lt;room&gt;=1%r&amp;hear-weather-emits &lt;room&gt; = 0%r%r+wtc regional4 for more.%r
&amp;REGIONAL4 Keran's Weather and Time Help - Configuration Considerations=Then @clone the Emits Bank, rename the copy to Slave Emits Bank, and @edit it so that its searches use your new attribute name instead of &amp;hear-weather-emits:%r%r@edit Slave Emits Bank=hear-weather-emits, hear-slaveweather-emits%r%rAdd the Slave Emits Bank's database # to the Clock's triggerlists (type +wta clock-commands for help on this).%r%r+wtc regional5 for more.%r
&amp;REGIONAL5 Keran's Weather and Time Help - Configuration Considerations=%rIf you wish to make another slave station, you will have to do the following:%r%r1) Clone the Slave Weather Station.%r%r2) Edit the *first* Slave Weather Station's &amp;generator attribute so that it reads:%r%r@wait me={&amp;weathertype-old me = \[u(weathertype)\]; &amp;weathertype-master me = \[u(&lt;dbref of Weathermaker&gt;/weathertype-old)\]; &amp;weathertype me = \[u(\[u(&lt;dbref of Time Functions&gt;/season)\]type-\[u(weathertype-master)\])\]; @notify &lt;database # of Secondary Slave Weather Station&gt;; @trigger me/generator}%r%rThis change causes it to notify the Secondary Slave Station to select its own weathertype of the day.%r%r+wtc regional6 for more.%r
&amp;REGIONAL6 Keran's Weather and Time Help - Configuration Considerations=%r3) Now edit the &amp;generator attribute on the Secondary Slave Station, so that the &amp;weathertype-master command refers not to the Weathermaker, but to the first Slave Weather Station; it's going to read the first slave, not the Weathermaker, to determine its probable weather.%r%rYou will need to add another set of slave functions to the Miscellaneous Functions object, possibly called slave2-* instead of slave-*, set rooms in the Secondary Slave region with a &amp;hear-slave2weather-emits attribute on it instead of &amp;hear-weather-emits, and @clone another edited copy of the Emits Bank whose dbref must be added to the Clock's triggerlists.%r%rThere are various ways to approach regional weather architecture. You can set up more than one slave station that depends directly on the Weathermaker, or on a higher-ranking Slave Weather Station. You can set up more than one Weathermaker to have multiple independent masters.%r%r+wtc regional7 for more.%r
&amp;REGIONAL7 Keran's Weather and Time Help - Configuration Considerations=%rIt's been asked whether you can to use this weather and timing code to set up different time zones. It has not been tested, but it seems likely that you could make second copy of the Time Functions Object and change time-begins slightly, so that it began 3600 secs / clock-compression after time-begins on the first Time Functions Object. It would be a nuisance to document this; you would no longer have a globally-valid value for hour, time-of-day, etc. You would probably need more than one Weathermaker and more than one set of parent rooms, if you're using the parent rooms, to make it work without significant code alterations.%r
&amp;TIDE Keran's Weather and Time Help - Configuration Considerations=%rSome places, typically those on the shores of huge oceans like the Pacific, have diurnal tide cycles, or one high and one low tide per day, while others have semi-diurnal tide cycles with two high tides and two low tides per day. See +wta tide for +help setting the tide cycle.%r
&amp;VARYING-THE-WEATHER Keran's Weather and Time Help - Configuration Considerations=%rThere are three fundamental ways to vary the weather produced by the weather code. They are:%r%r1) Changing the frequency with which various weathertypes are selected at each season. Instructions for how to do this are provided in +wtc weather-modelling.%r%rExperienced recoders may introduce new weathertypes; see +wtc weather-modelling.%r%r2) Changing the descriptions of the weathertypes by writing new desc banks. This is conceptually very simple, though laborious. You rewrite the descriptions in the desc banks to fit the kind of environment you want descriptions for. The descriptions in the Long Weather Description Bank assume a temperate climate; you could write desc banks for areas where the climate was usually warmer or colder. The Tree Weather Description Bank, supplied as an example of environmental variation with auxiliary desc banks, assumes a temperate, relatively wet climate with many leafy trees. It would be 
possible to write desc banks for conifer forests, grassland, deserts, tundra, cities, shores, the sky, or any sort of environment you like.%r%r+wtc varying2 for more.%r
&amp;VARYING2 Keran's Weather and Time Help - Configuration Considerations=%r3) Varying the weather from place to place by using regional weather. Here it is not the quality of the weather that varies, but when it arrives at different regions. Instructions for setting up regional weather can be found in +wtc regional-weather.%r
&amp;WEATHER-MODELLING Keran's Weather and Time Help - Configuration Considerations=%rThe Weathermaker saves yesterday's weathertype, and then uses the season and yesterday's weathertype to determine which routine it should use to pick the weather for today. For example, the springtype-clear attribute is used to generate today's weather if it was clear yesterday and the season is spring. The springtype-clear attribute selects today's weather at random from among the following types: (clear clear clear clear clear fair fair fair fair fair fair fair fair fair rain fog stormy overcast). The more often a weathertype is repeated, the more likely it is to be selected. Clear weather is generally a strong high pressure area, and a brisk clear day is more often followed by another, or by a day not so brisk where there are many fair weather clouds, than it is to be followed directly by rain, storm, fog, or overcast skies. The probability of the weathertypes varies from season to season; fog is always more likely in summer,
 while sleet, snow, and blizzards only appear in winter.%r%r+wtc modelling2 for more.%r
&amp;MODELLING2 Keran's Weather and Time Help - Configuration Considerations=%rTo change the probability of a given weathertype being selected, you need to add or reduce the number of times it appears in arguments to randword() in the &amp;&lt;season&gt;type-&lt;weathertype&gt; attrbutes on the Weathermaker. For instance, if you want less fog in summer, reduce the number of times 'fog' appears in the &amp;summertype-&lt;weathertype&gt; attributes. You might, e.g., execute the following:%r%r@edit weathermaker/summertype-* = fog fog fog fog fog,fog fog%r%rRecoder's notes: if you add a weathertype to the code, you will need to account for it in the &amp;&lt;season&gt;type-&lt;weathertype&gt; selectors on the Weathermaker, in the &amp;&lt;season&gt;&lt;weathertype&gt; short descriptions on the Weathermaker, in the &amp;&lt;season&gt;&lt;day|night|dawn|dusk&gt;&lt;weathertype&gt; attributes in the long desc bank, and in appropriate attributes in any auxiliary desc banks you may using, like the Tree Weather Description Bank.%r%r+wtc modelling3 for more.%r
&amp;MODELLING3 Keran's Weather and Time Help - Configuration Considerations=%rThere is one non-obvious point, however: the season changes at virtual midnight, while a new weathertype for the day is not selected until virtual dawn. If you add a weathertype that isn't going to appear in all seasons, you will need to add settings and descriptions for it in the next season to cover the hours between midnight and dawn. For example, sleet, lightsnow, and blizzard are only selected by the Weathermaker in winter; there are &amp;springtype-sleet, &amp;springtype-lightsnow, and &amp;springtype-blizzard weather selector attributes on the weathermaker, which may be invoked on the first day of spring if the last day of winter's weather was frozen preciptation; these selectors only include spring weather in the possibilities they choose between, naturally. There are also &amp;springsleet, &amp;springlightsnow, and &amp;springblizzard short descriptions on the weathermaker, and &amp;spring&lt;day|night|dawn|dusk&gt;sleet, &amp;spring&lt;day|night|dawn|dusk&gt;lightsnow,
 and &amp;spring&lt;day|night|dawn|dusk&gt;blizzard attributes on the Long Description Bank. The content of these descriptions does not describe winter weather, but spring; they correspond to the spring rain, overcast, and stormy descriptions respectively, so as not to contradict the seasonal descriptions in children of the various parent rooms.%r
&amp;NEXT-VERSION Keran's Weather and Time Help - Configuration Considerations=%rThere have been major structural changes between 3.0 and 4.0 in order to accommodate the revision of the moon and tides for reasonableness, and the Stormmaker. Keran doesn't currently have any plans for revisions involving such structural changes, but there will probably eventually be an astronomical add-on that handles constellations and planets.%r
@set Keran's Weather and Time Help - Configuration Considerations=VISUAL
@set Keran's Weather and Time Help - Configuration Considerations=SAFE
@rxlevel Keran's Weather and Time Help - Configuration Considerations=Real
@txlevel Keran's Weather and Time Help - Configuration Considerations=Real
@alias #259=
---
#260
#251
#251
#72
@create Keran's Weather and Time Help - General=10
@lock Keran's Weather and Time Help - General=#0
&amp;LIST Keran's Weather and Time Help - General=%rGlobal commands and topics:%r[columns([sort(v(global-commands))], 20)]%rGlobal functions:%r[columns(sort(v(global-functions)), 20)]%rOther common time and weather functions:%r%r[columns(sort(v(common-functions)), 20)]%r%r+wt &lt;name&gt; for help.
&amp;VERSION Keran's Weather and Time Help - General=4.0
&amp;AUTHOR Keran's Weather and Time Help - General=Keran@Keranset Island
&amp;GLOBAL-COMMANDS Keran's Weather and Time Help - General=+today +parents weather+time
&amp;COMMON-FUNCTIONS Keran's Weather and Time Help - General=clock-face-hour day-night day-night-dawn-dusk hour inside+outside long-weather month moon-phase moon-up moonrise moonset season short-weather slave-weather sunrise sunset tide time-of-day tree-weather weathertype week year
&amp;GLOBAL-FUNCTIONS Keran's Weather and Time Help - General=randword tilde2blank blank2tilde
&amp;HELP_+WT Keran's Weather and Time Help - General=%r+wt%r%rThis is the main +help for Keran's Weather and Time Code, a configurable MUSH/MUX softcode package for creating virtual or in-character environments. This +help describes features useful to ordinary builders and coders. +wta, +wtc, and +wtx call up +help for administration, configuration, and documentation for recoders.%r
&amp;HELP_RANDWORD Keran's Weather and Time Help - General=%rrandword(&lt;word1&gt; &lt;word2&gt; &lt;word3&gt; &lt;etc.&gt;)%r%rRandword() returns a random word from the list.&#160;%r
&amp;HELP_TILDE2BLANK Keran's Weather and Time Help - General=%rtilde2blank(&lt;string&gt;)%r%rTilde2blank() takes a string as its argument and replaces all the spaces with tildes (~).&#160;%r
&amp;HELP_BLANK2TILDE Keran's Weather and Time Help - General=%rblank2tilde(&lt;string&gt;)%r%rTilde2blank() takes a string as its argument and replaces all the tildes (~) with spaces.&#160;%r
&amp;HELP_TIDE Keran's Weather and Time Help - General=%ru(#263/tide)%ru(#263/high-low-tide)%r%rTide returns the state of the tide. Possibilities are low and rising, high and rising, slack high water, high and ebbing, low and ebbing, and slack low water. The default setting for the tide is semi-diurnal, that is, there are two tide cycles per day. But they may also be diurnal. In either case, the tide cycle is synchronized to the moon. High-low-tide returns whether the tide is high is low.%r
&amp;HELP_MOONSET Keran's Weather and Time Help - General=%ru(#263/moonset)%r%rThe time of moonset, in seconds.%r
&amp;HELP_MOONRISE Keran's Weather and Time Help - General=%ru(#263/moonrise)%r%rThe time of moonrise, in seconds.%r
&amp;HELP_WEATHERTYPE Keran's Weather and Time Help - General=%ru(#252/weathertype)%r%rReturns the weathertype generated by the weathermaker for the day. May be clear, fair, overcast, fog, rain, stormy, sleet, lightsnow, or blizzard.%r
&amp;HELP_MOON-UP Keran's Weather and Time Help - General=%ru(#263/moon-up)%r%rReturns 1 if the moon is up and 0 if it isn't.%r
&amp;HELP_TREE-WEATHER Keran's Weather and Time Help - General=%ru(#261/tree-weather)%r%rReturns a description of the surroundings varying by day, night, dawn, dusk, and weather conditions, in an environment with leafy trees. A new weathertype for the day is generated shortly after dawn.%r
&amp;HELP_SHORT-WEATHER Keran's Weather and Time Help - General=%ru(#261/short-weather)%ru(#261/lowercase-short-weather)%r%rReturns a one-line description of the weather which varies with the season and weather conditions. A new weathertype for the day is generated shortly after dawn. Lowercase-short-weather is identical, but the first word is not capitalized; for instance, if you were describing a window view, you might prefix lowercase-short-weather with some phrase like, 'Outside, '.%r
&amp;HELP_LONG-WEATHER Keran's Weather and Time Help - General=%ru(#261/long-weather)%ru(#261/lowercase-long-weather)%r%rReturns a description of the weather which varies with season, day, night, dawn, or dusk, and the weather conditions clear, fair, overcast, fog, rain, stormy, sleet, lightsnow, blizzard. A new weathertype for the day is generated shortly after dawn. Lowercase-long-weather is identical, but the first word is not capitalized; for instance, if you were describing a window view, you might prefix lowercase-long-weather with some phrase like, 'Outside, '.%r
&amp;HELP_SUNSET Keran's Weather and Time Help - General=%ru(#248/sunset)%r%rReturns the number of seconds after virtual midnight that sunset takes place. If you need the time as secs(), add u(#248/sunset) to u(#248/last-midnight).%r
&amp;HELP_SUNRISE Keran's Weather and Time Help - General=%ru(#248/sunrise)%r%rReturns the number of seconds after virtual midnight that sunrise takes place. If you need the time as secs(), add u(#248/sunrise) to u(#248/last-midnight).%r
&amp;HELP_DAY-NIGHT-DAWN-DUSK Keran's Weather and Time Help - General=%ru(#248/day-night-dawn-dusk)%r%rReturns day, night, dawn, or dusk.%r
&amp;HELP_DAY-NIGHT Keran's Weather and Time Help - General=%ru(#248/day-night)%r%rReturns virtual day or night.&#160;%r
&amp;HELP_TIME-OF-DAY Keran's Weather and Time Help - General=%ru(#248/time-of-day)%r%rReturns day, night, dawn, dusk, noon, midnight, morning, afternoon, or after midnight.&#160;%r
&amp;HELP_HOUR Keran's Weather and Time Help - General=%ru(#248/hour)%r%rReturns the last hour struck in virtual time, in 24-hour format. Midnight is 0.%r
&amp;HELP_MOON-PHASE Keran's Weather and Time Help - General=%ru(#263/moon-phase)%r%rReturns the phase of the moon, which may be new, waxing crescent, first quarter, waxing gibbous, full, waning gibbous, last quarter, waning crescent.&#160;%r
&amp;HELP_SEASON Keran's Weather and Time Help - General=%ru(#248/season)%r%rReturns the season. Possibilities are spring, summer, autumn, or winter.&#160;%r
&amp;HELP_MONTH Keran's Weather and Time Help - General=%ru(#248/month)%r%rReturns the virtual month.&#160;%r
&amp;HELP_YEAR Keran's Weather and Time Help - General=%ru(#248/year)%r%rReturns the virtual year.&#160;%r
&amp;HELP_WEEK Keran's Weather and Time Help - General=%ru(#248/week)%r%rReturns the number of the week in the current month; may range from 1-5. Meaningless if the date is taken from the system clock.%r
&amp;HELP_CLOCK-FACE-HOUR Keran's Weather and Time Help - General=%ru(#248/clock-face-hour)%r%rReturns the virtual hour in 12-hour time instead of 24-hour time, e.g., hour 21 is 9 on a clock's face. Midnight is 12.%r
@Desc Keran's Weather and Time Help - General=This is +wt, the main +help for Keran's Weather and Time Code Package. It should be set visual, safe, and&#160;!COMMAND, and it belongs in the Auxiliary room. The items documented on this object are expected to be generally useful to builders and coders.
&amp;HELP_+PARENTS Keran's Weather and Time Help - General=%r+parents%r%r+Parents returns a list of parent rooms you can use to build rooms with descriptions that vary according to the time of day, weather, etc. You build your room, @parent it to one of the parent rooms, and look at it to see instructions for how to write descriptions that vary according to environmental conditions. You can simply write descriptions for day, night, winter, summer, etc., and the parent room will switch them at the appropriate times.%r%rThere are two indoor parent rooms, one for rooms with windows and one for rooms without, and several outdoor parent rooms which have style variations in the variable descs returned. The parent rooms are set visual and you can examine &lt;dbref&gt; to see how they work.%r%r+wt +parents2 for more.%r
&amp;HELP_+PARENTS2 Keran's Weather and Time Help - General=%rThe outdoor room style variations are:%r%rSeparable Day-Night - This room will return a description consisting of an unchanging desc, a day/night desc, a spring/summer/autumn/winter desc, a weather desc, and a moon desc. You can suppress any elements you don't want, e.g., you can prevent it from showing a moon description.%r%rSeparable Day-Night-Dawn-Dusk - As above, but instead of returning a description that varies only by day and night, it returns different descriptions at day, night, dawn, and dusk.%r%rSeason and Day-Night - Returns a desc for summer-night, a desc for summer-day, a desc for autumn-night, a desc for autumn-day, and so on. Also returns a moon desc and a weather desc.%r%rSeason and Day-Night-Dawn-Dusk - As above, but also returns distinct dawn and dusk descriptions, e.g, winter-dawn, winter-dusk, etc.%r%rWeather and Day-Night - Returns descriptions that combine day-night and weather variations, e.g., fair-night, fair-day, overcast-
day, etc. Also returns a moon desc%r
&amp;HELP_+TODAY Keran's Weather and Time Help - General=%r+today%r%r+Today returns information about the time of day, month, season, year, tides, weather, etc.%r
&amp;HELP_DATE+TIME Keran's Weather and Time Help - General=%ru(#248/year)%ru(#248/season)%ru(#248/month)%ru(#248/week)%ru(#248/hour)%ru(#248/clock-face-hour)%r%rA collection of functions returning the virtual or in-character date and time. Season is spring, summer, autumn, or winter. Month may return either the Gregorian month or the months of a non-Gregorian calendar, depending on which has been configured. Week returns which week it is in the month, which may be 1-5. Hour returns the hour in 24 hour format; midnight is hour 0. Clock-face-hour returns the hour in 12-hour format; midnight and noon are both 12.%r
&amp;HELP_INSIDE+OUTSIDE Keran's Weather and Time Help - General=%ru(#261/is-outside)%ru(#261/is-inside)%ru(#261/has-outside-view)%ru(#261/is-inside-with-window)%ru(#261/is-inside-without-window)%r%rIf your room has been @parented to one of the parent rooms that's part of this package, and the parent room hierarchy has been installed, then this function will return 1 if the given condition is true and 0 if it's not. This can be useful for determining whether something can be sensed in a given room, e.g., lightning should only be seen in rooms that are outside or have windows, but thunder may be heard anywhere. These functions won't work on Penn installations with safer_ufun set.%r
&amp;HELP_SLAVE-WEATHER Keran's Weather and Time Help - General=%ru(#254/slave-weathertype)%ru(#261/slave-short-weather)%ru(#261/slave-long-weather)%ru(#261/slave-tree-weather)%r%rIf regional weather has been configured, there may be more than one weather region. This code comes with one slave weather station which produces a weathertype for the day sometimes differing from that of the master Weathermaker. The slave weather functions work precisely like long-weather, short-weather, and tree-weather, which see, but are selected according to the Slave Weather Station's weathertype.%r%rIt is possible to have multiple slave stations and there may be more than one set of slave weather functions; these must be locally defined and documented.%r
&amp;HELP_CLOCK-COMMANDS Keran's Weather and Time Help - General=%r+clock add &lt;dbref&gt; &lt;triggerlist&gt;%r+clock del &lt;dbref&gt; &lt;triggerlist&gt;%r%rIf these commands are enabled, they you to add or delete items from the Clock's triggerlists, so that the Clock can trigger commands on them at appropriate times. &lt;dbref&gt; is the number of the item to be added to the Clock's triggerlists, and &lt;triggerlist&gt; is which triggerlist to use. The triggerlist must be time-of-day, sun, moon, tide, hour, every-hour, every-half-hour, or every-quarterhour. An item to be triggered must have an attribute &amp;trigger-at-&lt;time&gt; = &lt;action to be triggered&gt;, where &lt;time&gt; is dawn, sunrise, morning, noon, afternoon, dusk, sunset, night, midnight, after~midnight, moonrise, moonset, meridian~transit, every~hour, every~halfhour, every~quarterhour, 0 through 23, high~and~rising, high~and~slack, high~and~ebbing, low~and~ebbing, low~and~slack, low~and~rising. Use &amp;trigger-at-0 and &amp;trigger-at-12 for triggering at precisely midnight and noon; the times of day 
called noon and midnight are time stretches.%r
&amp;HELP_WEATHER+TIME Keran's Weather and Time Help - General=%rKeran's Weather and Time Code is a configurable MUSH/MUX softcode package for maintaining virtual or in-character environments. It has +help divided into three sections:%r%r+wt - +help for common commands, functions and topics generally useful to builders and coders.%r%r+wta - Admin commands.%r%r+wtc - Configuration considerations. Extensive and sometimes complex, since there are many non-vanilla ways to set up this code, depending on the environment you're trying to model.%r
@set Keran's Weather and Time Help - General=VISUAL
@set Keran's Weather and Time Help - General=SAFE
@rxlevel Keran's Weather and Time Help - General=Real
@txlevel Keran's Weather and Time Help - General=Real
@alias #260=
---
#261
#251
#251
#72
@create Keran's Miscellaneous Functions=10
&amp;RANDWORD Keran's Miscellaneous Functions=[extract(%0, add(1, rand(words(%0,&#160;%1))), 1,&#160;%1)]
&amp;TILDE2BLANK Keran's Miscellaneous Functions=[edit(v(0),~,%b)]
&amp;BLANK2TILDE Keran's Miscellaneous Functions=[edit(v(0),%b,~)]
&amp;LONG-WEATHER Keran's Miscellaneous Functions=[u(#250/[u(#248/season)][u(#248/day-night-dawn-dusk)][u(#252/weathertype)])]
&amp;SHORT-WEATHER Keran's Miscellaneous Functions=[u(#252/[u(#248/season)][u(#252/weathertype)])]
&amp;TREE-WEATHER Keran's Miscellaneous Functions=[u(#249/trees_[u(#248/season)]_[u(#248/day-night)]_[u(#252/weathertype)])]
&amp;SLAVE-LONG-WEATHER Keran's Miscellaneous Functions=[u(#250/[u(#248/season)][u(#248/day-night-dawn-dusk)][u(#254/slave-weathertype)])]
&amp;SLAVE-SHORT-WEATHER Keran's Miscellaneous Functions=[u(#252/[u(#248/season)][u(#254/slave-weathertype)])]
&amp;SLAVE-TREE-WEATHER Keran's Miscellaneous Functions=[u(#249/trees_[u(#248/season)]_[u(#248/day-night)]_[u(#254/slave-weathertype)])]
&amp;LOWERCASE-LONG-WEATHER Keran's Miscellaneous Functions=[lcstr(first(u(long-weather)))] [rest(u(long-weather))]
&amp;LOWERCASE-SHORT-WEATHER Keran's Miscellaneous Functions=[lcstr(first(u(short-weather)))] [rest(u(short-weather))]
&amp;ITER-R Keran's Miscellaneous Functions=[tilde2blank(edit([iter(%0, blank2tilde(name(##)))],&#160;%b,&#160;%r))]
&amp;IS-OUTSIDE Keran's Miscellaneous Functions=[not(comp(parent(parent(locate(%#,&#160;%0, *))), #273))]
&amp;IS-INSIDE-WITH-WINDOW Keran's Miscellaneous Functions=[not(comp(parent(parent(locate(%#,&#160;%0, *))), #264))]
&amp;IS-INSIDE-WITHOUT-WINDOW Keran's Miscellaneous Functions=[not(comp(parent(parent(locate(%#,&#160;%0, *))), #265))]
&amp;HAS-OUTSIDE-VIEW Keran's Miscellaneous Functions=[or(u(is-outside,&#160;%0), u(is-inside-with-window,&#160;%0))]
&amp;IS-INSIDE Keran's Miscellaneous Functions=[or(u(is-inside-without-window, locate(%#,&#160;%0, *)), u(is-inside-with-window, locate(%#,&#160;%0, *)))]
@Desc Keran's Miscellaneous Functions=This object has several important functions on it, including three that should be installed as globals. (randword, blank2tilde, tilde2blank). It belongs in the Auxiliary room and has no commands on it. It should be set visual.
&amp;HAS-SOFTFLAG Keran's Miscellaneous Functions=[hasattr(%0,%1)]
@set Keran's Miscellaneous Functions=VISUAL
@set Keran's Miscellaneous Functions=SAFE
@power Keran's Miscellaneous Functions=see_all
@rxlevel Keran's Miscellaneous Functions=Real
@txlevel Keran's Miscellaneous Functions=Real
@alias #261=
---
#262
#251
#251
#72
@create Keran's Storm Maker=10
@lock Keran's Storm Maker=ISADMIN/1
&amp;IS-STAFF Keran's Storm Maker=[isstaff(%0)]
@lock/UseLock Keran's Storm Maker=ISADMIN/1
&amp;EVERYWHERE Keran's Storm Maker=$everywhere *: @dolist iter(iter(children(#274), children(##)), children(##)) = @pemit/contents ## = [capstr(%0)]
&amp;WINDOW Keran's Storm Maker=$window *: @dolist setunion(iter(children(#273), children(##)), iter(children(#264), children(##))) = @pemit/contents ## = [ifelse(hasattr(##, window-prefix), [u(##/window-prefix)] [lcstr(%0)], [capstr(%0)])]
&amp;OUTSIDE Keran's Storm Maker=$outside *: @dolist iter(children(#273), children(##)) = @pemit/contents ## = [capstr(%0)]
&amp;ISADMIN Keran's Storm Maker=[orflags(%#, WZ)]
&amp;CHANGE-MASTER-WEATHER Keran's Storm Maker=$weather *: &amp;weathertype #252=%0; &amp;weathertype-master #254=%0
&amp;CHANGE-SLAVE-WEATHER Keran's Storm Maker=$slave *: &amp;weathertype #254=%0
&amp;INSIDE Keran's Storm Maker=$inside *: @dolist setunion(iter(children(#265), children(##)), iter(children(#264), children(##))) = @pemit/contents ## = [capstr(%0)]
&amp;ZONE Keran's Storm Maker=$zone *=*: @dolist inzone(%0) = @pemit/contents ## = [capstr(%1)]
&amp;SEARCH-ATTRIBUTE Keran's Storm Maker=$search *=*: @dolist search(eroom=\[hasattr(##,&#160;%0)\]) = @pemit/contents ## = [capstr(%1)]
@Desc Keran's Storm Maker=This item can be used to trigger local storm effects. It should be set wizard and safe, and should be kept in the Auxiliary room when not in use.
@set Keran's Storm Maker=INHERIT
@set Keran's Storm Maker=VISUAL
@set Keran's Storm Maker=SAFE
@set Keran's Storm Maker=COMMANDS
@rxlevel Keran's Storm Maker=Real
@txlevel Keran's Storm Maker=Real
@alias #262=
---
#263
#251
#251
#72
@create Keran's Moon and Tide Functions=10
@lock Keran's Moon and Tide Functions=#0
&amp;TIDE Keran's Moon and Tide Functions=[u(semi-tide)]
&amp;SEMI-TIDE Keran's Moon and Tide Functions=[ifelse(u(semi-low-and-rising), low and rising,)][ifelse(u(semi-high-and-rising), high and rising,)][ifelse(u(semi-slack-high-water), high and slack,)][ifelse(u(semi-high-and-ebbing), high and ebbing,)][ifelse(u(semi-low-and-ebbing), low and ebbing,)][ifelse(u(semi-slack-low-water), low and slack,)]
&amp;SEMI-SLACK-HIGH-WATER Keran's Moon and Tide Functions=[or([and(gte(secs(), u(#263/semi-slack-high-water-begins-1)), lt(secs(), u(#263/semi-slack-high-water-ends-1)))], [and(gte(secs(), u(#263/semi-slack-high-water-begins-2g)), lt(secs(), u(#263/semi-slack-high-water-ends-2)))])]
&amp;SEMI-HIGH-AND-EBBING Keran's Moon and Tide Functions=[or([and(gte(secs(), u(#263/semi-slack-high-water-ends-1)), lt(secs(), u(#263/semi-mid-ebb-1)))], [and(gte(secs(), u(#263/semi-slack-high-water-ends-2)), lt(secs(), u(#263/semi-mid-ebb-2)))])]
&amp;SEMI-LOW-AND-EBBING Keran's Moon and Tide Functions=[or([and(gte(secs(), u(#263/semi-mid-ebb-1)), lt(secs(), u(#263/semi-slack-low-water-begins-1)))], [and(gte(secs(), u(#263/semi-mid-ebb-2)), lt(secs(), u(#263/semi-slack-low-water-begins-2)))])]
&amp;SEMI-SLACK-LOW-WATER Keran's Moon and Tide Functions=[or([and(gte(secs(), u(#263/semi-slack-low-water-begins-1)), lt(secs(), u(#263/semi-slack-low-water-ends-1)))], [and(gte(secs(), u(#263/semi-slack-low-water-begins-2)), lt(secs(), u(#263/semi-slack-low-water-ends-2)))])]
&amp;SEMI-LOW-AND-RISING Keran's Moon and Tide Functions=[or([and(gte(secs(), u(#263/semi-slack-low-water-ends-1)), lt(secs(), u(#263/semi-mid-flood-1)))], [and(gte(secs(), u(#263/semi-slack-low-water-ends-2)), lt(secs(), u(#263/semi-mid-flood-2)))])]
&amp;SEMI-HIGH-AND-RISING Keran's Moon and Tide Functions=[or([and(gte(secs(), u(#263/semi-mid-flood-1)), lt(secs(), u(#263/semi-slack-high-water-begins-2l)))], [and(gte(secs(), u(#263/semi-mid-flood-2)), lt(secs(), u(#263/semi-next-cycle-begins)))])]
&amp;SEMI-SLACK-HIGH-WATER-BEGINS-1 Keran's Moon and Tide Functions=[u(meridian-transit)]
&amp;SEMI-EBB-BEGINS-1 Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-halfhour))]
&amp;SEMI-SLACK-HIGH-WATER-ENDS-1 Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-hour))]
&amp;SEMI-MID-EBB-1 Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-halfhour), div(u(secs-per-moonday), 8))]
&amp;SEMI-SLACK-LOW-WATER-BEGINS-1 Keran's Moon and Tide Functions=[add(u(meridian-transit), div(u(secs-per-moonday), 4))]
&amp;SEMI-FLOOD-BEGINS-1 Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-halfhour), div(u(secs-per-moonday), 4))]
&amp;SEMI-SLACK-LOW-WATER-ENDS-1 Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-hour), div(u(secs-per-moonday), 4))]
&amp;SEMI-MID-FLOOD-1 Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-halfhour), mul(div(u(secs-per-moonday), 8), 3))]
&amp;SEMI-SLACK-HIGH-WATER-BEGINS-2L Keran's Moon and Tide Functions=[add(u(meridian-transit), div(u(secs-per-moonday), 2))]
&amp;SEMI-SLACK-HIGH-WATER-BEGINS-2G Keran's Moon and Tide Functions=[add(u(last-meridian-transit), div(u(secs-per-moonday), 2))]
&amp;SEMI-EBB-BEGINS-2 Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-halfhour), div(u(secs-per-moonday), 2))]
&amp;SEMI-SLACK-HIGH-WATER-ENDS-2 Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-hour), div(u(secs-per-moonday), 2))]
&amp;SEMI-MID-EBB-2 Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-halfhour), mul(div(u(secs-per-moonday), 8), 5))]
&amp;SEMI-SLACK-LOW-WATER-BEGINS-2 Keran's Moon and Tide Functions=[add(u(last-meridian-transit), mul(div(u(secs-per-moonday), 4), 3))]
&amp;SEMI-FLOOD-BEGINS-2 Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-halfhour), mul(div(u(secs-per-moonday), 4), 3))]
&amp;SEMI-SLACK-LOW-WATER-ENDS-2 Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-hour), mul(div(u(secs-per-moonday), 4), 3))]
&amp;SEMI-MID-FLOOD-2 Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-halfhour), mul(div(u(secs-per-moonday), 8), 7))]
&amp;SEMI-NEXT-CYCLE-BEGINS Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(secs-per-moonday))]
&amp;DI-TIDE Keran's Moon and Tide Functions=[ifelse(u(di-low-and-rising), low and rising,)][ifelse(u(di-high-and-rising), high and rising,)][ifelse(u(di-slack-high-water), high and slack,)][ifelse(u(di-high-and-ebbing), high and ebbing,)][ifelse(u(di-low-and-ebbing), low and ebbing,)][ifelse(u(di-slack-low-water), low and slack,)]
&amp;DI-SLACK-HIGH-WATER Keran's Moon and Tide Functions=[and(gte(secs(), u(#263/di-slack-high-water-begins)), lt(secs(), u(#263/di-slack-high-water-ends)))]
&amp;DI-LOW-AND-EBBING Keran's Moon and Tide Functions=[and(gte(secs(), u(#263/di-mid-ebb)), lt(secs(), u(#263/di-slack-low-water-begins-l)))]
&amp;DI-HIGH-AND-EBBING Keran's Moon and Tide Functions=[and(gte(secs(), u(#263/di-slack-high-water-ends)), lt(secs(), u(#263/di-mid-ebb)))]
&amp;DI-SLACK-LOW-WATER Keran's Moon and Tide Functions=[and(gte(secs(), u(#263/di-slack-low-water-begins-g)), lt(secs(), u(#263/di-slack-low-water-ends)))]
&amp;DI-LOW-AND-RISING Keran's Moon and Tide Functions=[and(gte(secs(), u(#263/di-slack-low-water-ends)), lt(secs(), u(#263/di-mid-flood)))]
&amp;DI-HIGH-AND-RISING Keran's Moon and Tide Functions=[and(gte(secs(), u(#263/di-mid-flood)), lt(secs(), u(#263/di-next-cycle-begins)))]
&amp;DI-SLACK-HIGH-WATER-BEGINS Keran's Moon and Tide Functions=[u(meridian-transit)]
&amp;DI-EBB-BEGINS Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-hour))]
&amp;DI-SLACK-HIGH-WATER-ENDS Keran's Moon and Tide Functions=[add(u(meridian-transit), mul(u(#248/secs-per-hour), 2))]
&amp;DI-MID-EBB Keran's Moon and Tide Functions=[add(u(meridian-transit), u(#248/secs-per-hour), div(u(secs-per-moonday), 4))]
&amp;DI-SLACK-LOW-WATER-BEGINS-L Keran's Moon and Tide Functions=[add(u(meridian-transit), div(u(secs-per-moonday), 2))]
&amp;DI-SLACK-LOW-WATER-BEGINS-G Keran's Moon and Tide Functions=[add(u(last-meridian-transit), div(u(secs-per-moonday), 2))]
&amp;DI-FLOOD-BEGINS Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-hour), div(u(secs-per-moonday), 2))]
&amp;DI-SLACK-LOW-WATER-ENDS Keran's Moon and Tide Functions=[add(u(last-meridian-transit), mul(u(#248/secs-per-hour),2), div(u(secs-per-moonday), 2))]
&amp;DI-MID-FLOOD Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(#248/secs-per-hour), mul(div(u(secs-per-moonday), 4), 3))]
&amp;DI-NEXT-CYCLE-BEGINS Keran's Moon and Tide Functions=[add(u(last-meridian-transit), u(secs-per-moonday))]
&amp;MOON-PHASE Keran's Moon and Tide Functions=[ifelse(u(transit-of-new), new,)][ifelse(u(transit-of-waxing-crescent), waxing crescent,)][ifelse(u(transit-of-first-quarter), first quarter,)][ifelse(u(transit-of-waxing-gibbous), waxing gibbous,)][ifelse(u(transit-of-full), full,)][ifelse(u(transit-of-waning-gibbous), waning gibbous,)][ifelse(u(transit-of-last-quarter), last quarter,)][ifelse(u(transit-of-waning-crescent), waning crescent,)]
&amp;TRANSIT-OF-FULL Keran's Moon and Tide Functions=[or([lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(5400, u(#248/clock-compression))))], [gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(81000, u(#248/clock-compression))))])]
&amp;TRANSIT-OF-WANING-GIBBOUS Keran's Moon and Tide Functions=[and([gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(5400, u(#248/clock-compression))))], [lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(16200, u(#248/clock-compression))))])]
&amp;TRANSIT-OF-LAST-QUARTER Keran's Moon and Tide Functions=[and([gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(16200, u(#248/clock-compression))))], [lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(27000, u(#248/clock-compression))))])]
&amp;TRANSIT-OF-WANING-CRESCENT Keran's Moon and Tide Functions=[and([gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(27000, u(#248/clock-compression))))], [lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(37800, u(#248/clock-compression))))])]
&amp;TRANSIT-OF-NEW Keran's Moon and Tide Functions=[and([gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(37800, u(#248/clock-compression))))], [lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(48600, u(#248/clock-compression))))])]
&amp;TRANSIT-OF-WAXING-CRESCENT Keran's Moon and Tide Functions=[and([gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(48600, u(#248/clock-compression))))], [lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(59400, u(#248/clock-compression))))])]
&amp;TRANSIT-OF-FIRST-QUARTER Keran's Moon and Tide Functions=[and([gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(59400, u(#248/clock-compression))))], [lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(70200, u(#248/clock-compression))))])]
&amp;TRANSIT-OF-WAXING-GIBBOUS Keran's Moon and Tide Functions=[and([gt(u(meridian-transit), add(u(midnight-before-meridian-transit), div(70200, u(#248/clock-compression))))], [lte(u(meridian-transit), add(u(midnight-before-meridian-transit), div(81000, u(#248/clock-compression))))])]
&amp;MOONDAY-BEGINS Keran's Moon and Tide Functions=[add(mul(u(moonday-from-0), u(secs-per-moonday)), u(#248/time-begins))]
&amp;MERIDIAN-TRANSIT Keran's Moon and Tide Functions=[add(u(moonday-begins), div(u(secs-per-moonday), 2))]
&amp;LAST-MERIDIAN-TRANSIT Keran's Moon and Tide Functions=[sub(u(meridian-transit), u(secs-per-moonday))]
&amp;MIDNIGHT-BEFORE-MERIDIAN-TRANSI Keran's Moon and Tide Functions=[switch(gt(sub(u(#263/meridian-transit), u(#248/last-midnight)), u(#248/secs-per-day)), 1, u(#248/next-midnight), [switch(lt(sub(u(#263/meridian-transit), u(#248/last-midnight)), 0), 1, u(#248/midnight-before-last), u(#248/last-midnight))])]
&amp;NOON-BEFORE-MERIDIAN-TRANSIT Keran's Moon and Tide Functions=[switch(gt(sub(u(#263/meridian-transit), u(#248/last-noon)), u(#248/secs-per-day)), 1, u(#248/next-noon), [switch(lt(sub(u(#263/meridian-transit), u(#248/last-noon)), 0), 1, u(#248/noon-before-last), u(#248/last-noon))])]
&amp;SECS-PER-MOONDAY Keran's Moon and Tide Functions=[round(mul(u(#263/moonday-in-hours), u(#248/secs-per-hour)), 0)]
&amp;MOONDAY-FROM-0 Keran's Moon and Tide Functions=[div(sub(secs(), u(#248/time-begins)), u(secs-per-moonday))]
&amp;MOONRISE Keran's Moon and Tide Functions=[sub(u(meridian-transit), div(u(moon-up-length), 2))]
&amp;MOONSET Keran's Moon and Tide Functions=[add(u(meridian-transit), div(u(moon-up-length), 2))]
&amp;MOON-UP Keran's Moon and Tide Functions=[switch([gt(secs(), u(moonrise))], 0, 0, 1, {[switch([lt(secs(), u(moonset))], 0, 0, 1, 1)]})]
&amp;MOON-UP-LENGTH Keran's Moon and Tide Functions=[round(add(mul([sin(mul(mul(pi(), 2), add(u(sun-cycle-by-moonday), u(moon-cycle))))], u(#248/day-length-variation)), u(#248/secs-per-halfday)), 0)]
&amp;MOON-CYCLE Keran's Moon and Tide Functions=[fdiv(sub(u(#263/meridian-transit), u(#263/noon-before-meridian-transit)), u(#248/secs-per-day))]
&amp;SUN-CYCLE-BY-MOONDAY Keran's Moon and Tide Functions=[fdiv(u(moonday-of-year), u(moondays-per-year))]
&amp;MOONDAY-OF-YEAR Keran's Moon and Tide Functions=[sub(u(#263/moonday-from-0), div(mul(u(#248/days-per-year), u(#248/native-year), u(#248/secs-per-day)), u(#263/secs-per-moonday)))]
&amp;MOONDAYS-PER-YEAR Keran's Moon and Tide Functions=[fdiv(u(#248/secs-per-year), u(#263/secs-per-moonday))]
&amp;DAY-OF-LUNAR-MONTH Keran's Moon and Tide Functions=[inc(mod(u(moonday-from-0), 30))]
&amp;MOONDAY-IN-HOURS Keran's Moon and Tide Functions=[add(24, mul(u(moon-daylength-difference), u(#248/calendar-compression)))]
&amp;MOON-ADJECTIVE Keran's Moon and Tide Functions=[switch(u(me/moon-phase), new, black, waxing crescent, faint, first quarter, dim, waxing gibbous, bright, full, brilliant, waning gibbous, bright, last quarter, dim, waning crescent, faint)]
@Desc Keran's Moon and Tide Functions=This object contains the functions that determine the moon and tides. It belongs in the Auxiliary room and has no commands on it. It should be set visual.
&amp;HIGH-LOW-TIDE Keran's Moon and Tide Functions=[elements(u(#263/tide), 1)]
&amp;MOON-DAYLENGTH-DIFFERENCE Keran's Moon and Tide Functions=.8
@set Keran's Moon and Tide Functions=VISUAL
@set Keran's Moon and Tide Functions=SAFE
@rxlevel Keran's Moon and Tide Functions=Real
@txlevel Keran's Moon and Tide Functions=Real
@alias #263=
---
#280
#107
#107
#72
@create PARENT: car=10
@lock PARENT: car=*Callisto
@Desc PARENT: car=You see before you the sleek frame of a dark grey Citroen - not unlike the thousands of others in Paris. A second glance, however, reveals that this one has apparently seen a good deal of use in its day. The forward bumper beneath the hood is crumpled inwards from an old accident, and one headlight is missing. Rust spots stain the hood and sides, and a narrow crack mars the glass windshield. The vehicle appears in desperate need of a good tune-up, and the engine wheezes badly when in motion. [u(wind)]
@Idesc PARENT: car=%tYou are seated inside the dark grey Citroen. If you thought the exterior was bad, the interior proves far worse: obviously the owner of this vehicle cares little for appearances. Refuse from various fastfood establishments litters the floorboards and seats in the back. Various tourist maps (most several years out of date) cover the front dashboard with a myriad of small gyro-compasses which swivel as the car takes a turn. Brown stains cover the passenger's seat, reminding of old coffee spills and the stuffing seems to be leaking out in several places. A evergreen shaped air freshener hangs from the rear-view mirror, sending a mockery of caustic fresh pine scent wafting through the interior.%R[center(* OOC: Type 'chelp' for commands. *,78)]%R
&amp;WIND PARENT: car=[switch(v(winds),up,{The darkened glass windows of the vehicle are currently up.},{The forward windows of the vehicle are currently down.})]
@Listen PARENT: car=*
&amp;CK PARENT: car=[member(lcon(me),%#)]
@Filter PARENT: car={* has arrived.},{* has left.},{Dropped.}
@Infilter PARENT: car={* has arrived.},{* has left.}
@Prefix PARENT: car=From inside the [name(me)],
@Lalias PARENT: car=o;out;exit;back;leave;climb out
@Enter PARENT: car=%RYou duck your head, climbing inside the [name(me)].
@Leave PARENT: car=You open the door, stepping out of the [name(me)]...%R
@Oenter PARENT: car=ducks&#160;%p head, climbing inside.
@Oleave PARENT: car=opens the door, and gets out.
@Oxenter PARENT: car=ducks&#160;%p head, climbing inside the [name(me)].
@Oxleave PARENT: car=opens the door, stepping out of the [name(me)].
@Fail PARENT: car=You'd need a towing lorry to go anywhere with this vehicle.
@Efail PARENT: car=The door seems to be securely locked.%R(OOC: Contact a staff member if you're trying to steal the [name(me)].)
@Oefail PARENT: car=tries the door of the [name(me)] but finds it locked.
&amp;MOVING PARENT: car=0
&amp;DRIVE PARENT: car=$drive *:@switch u(ck)=0,,{@pemit/c me=[switch(v(moving),0,%N starts up the [name(me)].,1,%N shifts the vehicle into gear.,%N smoothly guides the vehicle along.)];@emit [switch(v(moving),0,{The engine of the [name(me)] rumbles to life, and it moves off down the street.},1,{The engine of the [name(me)] growls to life - shifting out of idle, and moves off down the street.},2,{The [name(me)] cruises off steadily down the street.},3,{The [name(me)] roars off down the street.},{The [name(me)] tears off down the street, tires screeching - heedless of the other traffic.})];@switch v(moving)=0,&amp;moving me=2,1,&amp;moving me=2;move&#160;%0}
&amp;CORNER PARENT: car=$corner *:@switch u(ck)=0,,{@pemit/c me=[switch(v(moving),0,%N starts up the [name(me)].,1,%N shifts the vehicle into gear.,%N yanks the wheel sharply to take the corner.)];@emit [switch(v(moving),0,{The engine of the [name(me)] rumbles to life, and it moves off down the street - turning the corner to vanish from view.},1,{The engine of the [name(me)] growls to life - shifting out of idle.%RIt moves off down the street, turning the corner and vanishing from view.},2,{The [name(me)] takes the next corner at a sharp turn and vanishes from sight.},3,{The [name(me)] roars off down the street, taking the next corner much too fast!},{The [name(me)] tears off down the street, and - tires smoking - takes the next corner on two wheels!!})];@switch v(moving)=0,&amp;moving me=2,1,&amp;moving me=2;move&#160;%0}
&amp;FASTER PARENT: car=$faster:@switch u(ck)=0,,{@pemit/c me=[switch(v(moving),0,%N starts up the [name(me)].,1,{%N shifts the vehicle into gear, stomping on the accelerator.},{%N steps on the accelerator.})];@emit [switch(v(moving),0,{The engine of the [name(me)] rumbles to life even as it moves off down the street.},1,{The engine of the [name(me)] growl becomes a throbbing purr as it shifts into gear and cruises off.},2,{The [name(me)] accelerates, moving faster and faster along the street.},3,{The [name(me)] roars off down the street, gaining steadily in speed.},{The [name(me)] tears off down the street - burning rubber!!!})];&amp;moving me=[switch(v(moving),0,2,1,2,2,3,3,4,4)]}
&amp;SLOWER PARENT: car=$slower:@switch/first [u(ck)]:[v(moving)]=0:*,,*:0,{@pemit&#160;%#=OOC: The [name(me)] is switched off and isn't moving currently.},*:1,{@pemit/c me=%N switches off the engine.;@emit The sound of the [name(me)]'s engine dies away as it is switched off.;&amp;moving me=0},{@pemit/c me=%N gently applies the brakes.;@emit [switch(v(moving),2,{The [name(me)] slows, pulling over to the side of the street to idle nearby.},3,{The [name(me)] decreases to a more reasonable rate of speed as it cruises along the street.},4,{The [name(me)] decelerates slightly, still moving at a good clip down the street.})];&amp;moving me=[switch(v(moving),1,0,2,1,3,2,4,3,3)]}
&amp;STOP PARENT: car=$stop:@switch/first [u(ck)]:[v(moving)]=0:*,,*:0,{@pemit&#160;%#=OOC: The [name(me)] isn't moving currently.},*:1,{@pemit/c me=%N switches off the engine.;@emit The sound of the [name(me)]'s engine dies away as it is switched off.;&amp;moving me=0},{@pemit/c me=%N slams on the brakes!!!;@emit [switch(v(moving),2,{The [name(me)] skids to a halt nearby with a screech of brakes.},3,{The [name(me)] skits to an abrupt halt nearby - fishtailing slightly.},{The driver of the [name(me)] throws on the emergency brake, sending the car spinning and slewing across the road - and with a earsplitting screech of brakes comes to an abrupt halt nearby.})];&amp;moving me=1}
&amp;SCENERY PARENT: car=$car *:@switch u(ck)=0,,@emit The [name(me)]&#160;%0
&amp;RUNDOWN PARENT: car=$rundown *:@switch/first [u(ck)]:[v(moving)]=0:*,,*:0,{@pemit&#160;%#=OOC: The vehicle needs to be moving first.},*:1,{@pemit&#160;%#=OOC: The vehicle needs to be moving first.},{@pemit/c me=%N yanks the wheel - turning it sharply.;@emit The [name(me)] swerves suddenly out of the traffic - changing direction and heading right at&#160;%0!!!}
&amp;HORN PARENT: car=$horn:@switch u(ck)=0,,{@pemit/c me=%N leans on the horn.;@emit The [name(me)] sounds a blast on its horn.;@pemit/c/list [iter(lexits(room(me)),loc(##))]=Somewhere nearby, a vehicle sounds a blast on its horn!}
&amp;WINDOWS PARENT: car=$windows:@switch/first [u(ck)]:[v(winds)]=0:*,,*:up,{@set me=AUDIBLE;&amp;winds me=down;@pemit/c me=%N flicks a switch and the front windows of the [name(me)] slide down.},{@pemit/c me=%N flicks a switch and the front windows of the [name(me)] slide up and lock into place.;&amp;winds me=up;@set me=!AUDIBLE;}
&amp;CHELP PARENT: car=$chelp:@switch u(ck)=0,,{@pemit&#160;%#=[repeat(*,78)]%R[center(- - - [name(me)] Commands - - -,78)]%R[repeat(-,78)]%RLocation: [name(loc(me))]%RWindow Status: [v(winds)]%R[repeat(-,78)]%R%R[space(5)]Drive &lt;exit&gt;%t%tdrive the car about%R[space(5)]Corner &lt;exit&gt;%t%ttake the car around a sharp corner%R[space(5)]Faster%t%t%tstep on the accelerator%R[space(5)]Slower%t%t%tapply the brake gently%R[space(5)]Stop%t%t%tslam on the brakes%R%R[space(5)]Look/o%t%t%tlook at your surroundings%R[space(5)]Look/o &lt;person/object&gt;%tlook at someone/something outside the car%R[space(5)]Car &lt;pose&gt;%t%t%tscenery (try: 'car swerves violently!')%R[space(5)]Rundown &lt;person&gt;%t%ttry to hit someone deliberately%R[space(5)]Crash into &lt;something&gt;%thit something deliberately%R[space(5)]Windows%t%t%traise/lower the windows%R[space(5)]Horn%t%t%thonk the horn%R[space(5)]Gun%t%t%tgun the car's engine%R%R* Notes *%RCommands will react differently at different rates of speed.%RNo one can hear you outside the car with the windows up.%
R(Owners may type: 'chelp2' for configuration information.)%R[repeat(*,78)]}
&amp;WINDS PARENT: car=up
@Inprefix PARENT: car=Outside,
&amp;GUN PARENT: car=$gun:@switch u(ck)=0,,{@pemit/c me=%N holds down the brake, jamming down on the accelerator.;@emit The [name(me)] guns its engine, reving loudly!!!}
@Ofail PARENT: car=strains and makes a fool of&#160;%pself trying to lift the [name(me)].
&amp;CRASH PARENT: car=$crash into *:@switch/first [u(ck)]:[v(moving)]=0:*,,*:0,{@pemit&#160;%#=OOC: You need to be moving first.},*:1,{@pemit&#160;%#=OOC: You need to be moving first.},{@pemit/c me=%N floors it, sending the vehicle shooting forwards.;@emit The [name(me)] plows headlong into&#160;%0 with a horrifying crunch!!!}
&amp;CHELP2 PARENT: car=$chelp2:@switch owner(me)=%#,{@pemit&#160;%#=[repeat(*,78)]%R[center(- - - [name(me)] Configuration - - -,78)]%R[repeat(-,78)]%ROnce you've created your car object, fill out the following commands to get everything set up correctly:%R%R@desc car=&lt;the car's external description&gt; \[u(wind)]%R@idesc car=&lt;the car's internal description&gt;%t(see below)%R@set car=TERSE%t%t%t%t%t(optional to avoid spam)%R@name car=&lt;the car's name or type&gt;%RInstall%R%R* Notes *%RThe car's internal description (@idesc) should probably always contain an OOC note to the effect that the car's commands can be accessed by typing the command: 'chelp'. You may also wish to enterlock your car (@lock/enterlock car=me) to prevent people from stealing it. Places code can also be used to simulate sections in larger vehicles.%R%RGeneral Car code is written by Mandrake @ Paris.%R[repeat(*,78)]}
&amp;WRITTEN_BY PARENT: car=Mandrake @ Paris.
&amp;INSTALL PARENT: car=$install:@switch owner(me)=%#,{@listen me=*;@set me=ENTER_OK;@set me=QUIET;@lock me=%#;@lalias me=o\;out\;exit\;back\;leave\;climb out},{}
@set PARENT: car=QUIET
@set PARENT: car=VISUAL
@set PARENT: car=PARENT_OK
@set PARENT: car=ENTER_OK
@set PARENT: car=HALTED
@set PARENT: car=TERSE
@set PARENT: car=SAFE
@rxlevel PARENT: car=Real
@txlevel PARENT: car=Real
@alias #280=
---
#281
#107
#107
#72
@create PARENT: motorbike=10
@Idesc PARENT: motorbike=[get_eval(me/inside)] The [name(me)] is currently at [name(here)]. [setq(0,iter(lcon(here),switch(type(##),player,switch(hasflag(##,connected),1,##))))][setq(1,setdiff(iter(lcon(here),switch(and(strmatch(type(##),T*),not(hasflag(##,DARK))),1,##)),%!))]You can scan [switch(words(r(0)),0,nobody,1,name(r(0)),iter(rest(r(0)),name(##)%vz) and [name(first(r(0)))])] walking the area, and see [switch(words(r(1)),0,nothing important,1,name(r(1)),iter(rest(r(1)),name(##)%vz) and [name(first(r(1)))])] around you. &lt;%xhbikehelp%xn&gt;
@Listen PARENT: motorbike=*
@Inprefix PARENT: motorbike=On the street,
@Prefix PARENT: motorbike=From the [name(me)],
@Infilter PARENT: motorbike=*has arrived.,*has left.,Dropped.,*whispers to*
@Filter PARENT: motorbike=*has arrived.,*has left.,Dropped.,*whispers to*
@Lalias PARENT: motorbike=leave;exit;out;o;dismount;unmount;hop off;db;ub
@Ealias PARENT: motorbike=mount bike;mount motorbike;mount motorcycle;mount;mb;hop on
@Oenter PARENT: motorbike=slides a leg over the bike and crouchs down on the harley.
@Oxenter PARENT: motorbike=slides a leg over the [name(me)] and crouches down on it.
@Fail PARENT: motorbike=It's too heavy to lift.
@Ofail PARENT: motorbike=strains, trying to lift the [name(me)].
@Omove PARENT: motorbike=thunders in with [setq(0,iter(lcon(me),switch(type(##),player,switch(hasflag(##,connected),1,##))))][switch(words(r(0)),0,no one,1,name(r(0)),2,name(first(r(0))) and [name(rest(r(0)))],iter(rest(r(0)),name(##)%va) and [name(first(r(0)))])] crouched on top.
@VA PARENT: motorbike=,
@VZ PARENT: motorbike=,
@Aenter PARENT: motorbike=@unlock/enter me
@Aleave PARENT: motorbike=@switch&#160;%#=owner(me),@lock/enter me=[owner(me)]
@Oxleave PARENT: motorbike=slips a leg off the [name(me)] and hops off.
@Enter PARENT: motorbike=You toss a leg over the seat and crouch down on the harley.
@Leave PARENT: motorbike=You slip a leg off the bike and hop off.
@Oleave PARENT: motorbike=slips a off the [name(me)] and hops off.
&amp;INME PARENT: motorbike=[gt(member(lcon(me),%#),0)]
&amp;SHOULDFOLLOW PARENT: motorbike=[gt(member(v(follow),%#),0)]
&amp;CHECK_FOLLOW PARENT: motorbike=^* has left.:@switch [and(member(%#,v(follow)),member(lcon(me),owner(me)))]=1,{go [name(extract(lexits(here),match(iter(lexits(here),loc(##)),%l),1))]}
@Oxtport PARENT: motorbike=roars loudly and screechs off, sending a hail of pebbles behind it.
&amp;FOLLOW_DO PARENT: motorbike=$stop follow:&amp;follow me;@pemit&#160;%#=Stopped following.
&amp;FOLLOW_DO2 PARENT: motorbike=$follow *:&amp;follow me=[num(%0)];@wait 1=@pemit&#160;%#=Following [name(v(follow))].
&amp;ENGINE PARENT: motorbike=0
&amp;SCAN PARENT: motorbike=$scan:look
&amp;SCAN2 PARENT: motorbike=$scan *:look&#160;%0
&amp;ENGERROR PARENT: motorbike=The engine isn't on.
&amp;START PARENT: motorbike=$kickstart:@switch [u(me/engine)]=0,{@emit&#160;%N raises up in the seat and stomps down on the [name(me)]'s starter. The engine comes to life with a deafening roar and revs loudly as&#160;%N guns it several times.;&amp;engine me=1},{@pemit&#160;%#=The engine is already running.}
&amp;STOP PARENT: motorbike=$stop:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@emit&#160;%n relaxes on the [name(me)] as its engine slowly dies down and becomes silent.;&amp;engine me=0},2,{@emit&#160;%n slams on the brakes to the [name(me)], skidding the bike to a halt and cutting the engine in one fluid motion.;&amp;engine me=0}
&amp;DRIVE PARENT: motorbike=$dri* *:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@emit&#160;%n kicks the [name(me)] into gear and the bike tears off with a squeal of rubber.;&amp;engine me=2;@force me=[iter(%1,secure(move ##);)]},2,{@emit&#160;%n roars off on the [name(me)].;@force me=[iter(%1,secure(move ##);)]}
&amp;ENGIDLE PARENT: motorbike=$idle:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@emit&#160;%n drops the [name(me)] into neutral and the engine drops from a loud roar to a softly purring idle.},2,{@pemit&#160;%#=You need to brake first.}
&amp;BRAKE PARENT: motorbike=$brake:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@pemit&#160;%#=The [name(me)] is idling.},2,{@emit&#160;%n turns the [name(me)] sideways and slams on the brakes, bringing the bike to a screeching halt!;&amp;engine me=1}
&amp;CORNER PARENT: motorbike=$corner *:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@pemit&#160;%#=The [name(me)] is idling.},2,{@emit&#160;%n leans the [name(me)] hard to one side, nearly touching the ground as the bike takes the corner at near full speed.;@force me=[iter(%0,secure(move ##);)]}
&amp;SBRAKE PARENT: motorbike=$sbrake:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@pemit&#160;%#=The [name(me)] is idling.},2,{@emit&#160;%n gradually applies the brakes on the [name(me)] and the bike slows to a halt.;&amp;engine me=1}
&amp;DRIVE_HOME PARENT: motorbike=$drive home:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@emit&#160;%n revs the [name(me)]'s engine and puts it in gear.;@tel me=home},2,{@tel me=home}
&amp;OUTSIDE PARENT: motorbike=To set the Desc on your new bike type @set &lt;name of bike&gt;=Outside:&lt;Desc of the outside of bike&gt;&#160;%[u(me/engdesc)]. this will include the status of the Engine in the Bikes Desc.
&amp;CREDITS PARENT: motorbike=Sid @ The Damned
&amp;ENGDESC PARENT: motorbike=[switch(u(me/engine),0,The engine on the large bike is not running.,1,The bike's large engine is purring softly in neutral.,2,{The large bike is in gear, engine roaring loudly.})]
&amp;RUNDOWN PARENT: motorbike=$rundown *:@switch [u(me/engine)]=0,{@pemit&#160;%#=[u(me/engerror)]},1,{@emit&#160;%n kicks the [name(me)] into gear and the bike peels off with a squeal of rubber, headed directly towards&#160;%0!;&amp;engine me=2},2,{@emit&#160;%n turns the roaring bike and drives straight at&#160;%0!}
&amp;INSIDE PARENT: motorbike=Type &amp;INSIDE here=&lt;Desc of the bike when your on it&gt;&#160;%[u(me/engdesc)]
&amp;HELP PARENT: motorbike=$bikehelp:@pemit&#160;%#=%r[repeat(-,78)]%r[center([name(me)],78)]%r[center(Bikehelp,78)]%r[repeat(-,78)]%r%r[space(6)][ljust(kickstart,21,.)]Stomps on the bike's starter, engaging the engine%r[space(6)][ljust(dri &lt;direction&gt;,21,.)]Drives the bike &lt;direction&gt;. Can be a string%r[space(6)][ljust(corner &lt;direction&gt;,21,.)]Corners the bike &lt;direction&gt;. Can be a string%r[space(6)][ljust(brake,21,.)]Slams the bike's brakes on really hard%r[space(6)][ljust(sbrake,21,.)]Slowly applies the bike's brakes%r[space(6)][ljust(idle,21,.)]Drops the bike's engine from in gear to neutral%r[space(6)][ljust(drive home,21,.)]Drives the bike to [name(home(me))]%r[space(6)][ljust(follow &lt;person&gt;,21,.)]Bike follows &lt;person&gt;. Can be an object too%r[space(6)][ljust(stop follow,21,.)]Stops the bike from following anyone%r[space(6)][ljust(rundown &lt;person&gt;,21,.)]Tries to rundown &lt;person&gt; with the bike%r[space(6)][ljust(scan,21,.)]Scans the room the bike is currently in%r[space(6)][ljust(scan &lt;object&gt;,21,.)]Scans an 
&lt;object&gt; in the same room as the bike%r[space(6)][ljust(stop,21,.)]Cuts of the bikes engine, braking if needed%r%rNote: The bike can be either off, on but not moving, or on and moving. Each%r[space(6)]command will respond differently depending on the status of the bike.%r%r[repeat(-,78)]
@Efail PARENT: motorbike=If you really want to steal my bike, contact a judge.
@Desc PARENT: motorbike=[u(outside)]
&amp;FOLLOW PARENT: motorbike=#2595
@set PARENT: motorbike=MONITOR
@set PARENT: motorbike=VISUAL
@set PARENT: motorbike=PARENT_OK
@set PARENT: motorbike=AUDIBLE
@set PARENT: motorbike=ENTER_OK
@set PARENT: motorbike=HALTED
@set PARENT: motorbike=TERSE
@set PARENT: motorbike=SAFE
@set PARENT: motorbike=COMMANDS
@rxlevel PARENT: motorbike=Real
@txlevel PARENT: motorbike=Real
@alias #281=
---
#283
#0
#149
#72
@create Black '67 Harley Davidson=10
@Listen Black '67 Harley Davidson=*
&amp;INSIDE Black '67 Harley Davidson=A classic '67 Harley Davidson. Jet black with blued chrome. This is one very hot-looking bike. If it had wings, it could fly... [u(me/ENGDESC)]
&amp;OUTSIDE Black '67 Harley Davidson=A classic '67 Harley Davidson. Jet black with blued chrome. This is one very hot-looking bike. If it had wings, it could fly... [u(me/ENGDESC)]
&amp;ENGINE Black '67 Harley Davidson=1
@lock/EnterLock Black '67 Harley Davidson=*Callisto
&amp;FOLLOW Black '67 Harley Davidson=#665
@set Black '67 Harley Davidson=COMMANDS
@rxlevel Black '67 Harley Davidson=Real
@txlevel Black '67 Harley Davidson=Real
@parent Black '67 Harley Davidson=#281
@alias #283=
---
#289
#2
#2
#72
@create +kinks=10
&amp;KINKS_DISALLOW +kinks=85 90 9
&amp;FN_KINKS_FIND +kinks=[setq(7,words(%1))][edit(andlist(iter(%0,[setq(6,u(##/KINKS))][switch(eq(words(setinter(%q6,%1)),%q7),1,edit(name(##),%b,_))])),_,%b)]
&amp;FN_KINKS_LIST +kinks=[setq(2,u(KINKS_DISALLOW))][setq(1,lnum(1,words(lattr(me/EXPLAIN_*))))][edit(columns(iter(%q1,switch(member(%q2,##),0,edit([setq(7,u(EXPLAIN_##))][rjust(##,3)]: [extract(%q7,1,1,|)]: [extract(%q7,2,1,|)],%b,_))),26),_,%b)]
&amp;INFO +kinks=Section|Kink|Explanation%rBody Art|Bondage|Using ropes... etc.%r%rKinks engine by Azundris (Callisto@Chicago), inspired by Thorn's on IoS
&amp;DO_MYINTS +kinks=$+myints*:@pemit&#160;%#=%xhGAME%xn: Please use the&#160;%xh+note%xn system...
&amp;DO_MYKINKS_SET +kinks=$+mykinks=*:&amp;MYKINKS&#160;%#=%0
&amp;DO_MYKINKS_GET +kinks=$+mykinks*:@pemit&#160;%#=switch(setr(0,switch(gt(strlen(%0),1),1,num(*%0),%#)),#-1,%xhGAME%xn: &quot;[capitalize(trim(%0))]&quot; is not a player...,[line(+mykinks for [name(%q0)],79)]%r[u(%q0/MYKINKS)]%r[line(End: +mykinks for [name(%q0)],79)])
&amp;DO_KINKS +kinks=$+kinks*:@pemit&#160;%#=switch(gt(strlen(%0),1),0,[line(+kinks list,79)]%r[u(FN_KINKS_LIST)][line(+kinks list,79)],switch(setr(0,num(*%0)),#-1,%xhGAME%xn: &quot;[capitalize(trim(%0))]&quot; is not a player...,[line(+kinks for [name(%q0)],79)]%r[u(FN_KINKS_GET,%q0)]%r[switch(hasattr(%q0,MYKINKS),1,[center('%xh+mykinks [name(%q0)]%xn' are available.,79)]%r%r)][line(End: +kinks for [name(%q0)],79)]))
&amp;DO_KINK +kinks=$+kink/*:setq(1,rest(%0)); setq(5,%xhGAME%xn:%b); @pemit&#160;%#=[switch(isnum(%q1),0,%q5 Please submit a kink number!,[setq(3,u(EXPLAIN_%q1))][switch(left(%0,1),a,[setq(2,get(%#/KINKS))][set(%#,KINKS:[setdiff(setunion(%q2,%q1),u(KINKS_DISALLOW))])]%q5 Kink&#160;%q1 ([extract(%q3,1,1,|)]: [extract(%q3,2,1,|)]) added.,r,[setq(2,get(%#/KINKS))][set(%#,KINKS:[ldelete(%q2,member(%q2,%q1))])]%q5 Kink&#160;%q1 ([extract(%q3,1,1,|)]: [extract(%q3,2,1,|)]) removed.,d,%r[line([setr(4,+kink: [extract(%q3,1,1,|)]: [extract(%q3,2,1,|)])],79)]%r[extract(%q3,3,1,|)]%r[switch(gt(member(u(KINKS_DISALLOW),%q1),0),1,%r[center(This is a restricted&#160;%xh+kink%xn on [mudname()]!,79)]%r)][line(End:&#160;%q4,79)])])]
&amp;DO_KINK_COMPAT +kinks=$+kink *:@force&#160;%#=+kink/%0
&amp;DO_FINDKINK +kinks=$+findkink *:@pemit&#160;%#=%xhGAME%xn: Characters who like all of [edit(andlist(iter(%0,##-[edit(extract(u(EXPLAIN_##),1,1,|),%b,_)]:[edit(extract(u(EXPLAIN_##),2,1,|),%b,_)])),_,%b)]:%r[u(FN_KINKS_FIND,search(type=PLAYER),%0)]
&amp;DO_FINDONLINE +kinks=$+findonline *:@pemit&#160;%#=%xhGAME%xn: Characters online who like all of [edit(andlist(iter(%0,##-[edit(extract(u(EXPLAIN_##),1,1,|),%b,_)]:[edit(extract(u(EXPLAIN_##),2,1,|),%b,_)])),_,%b)]:%r[u(FN_KINKS_FIND,lwho(),%0)]
&amp;EXPLAIN_1 +kinks=Body Art|Bondage|Using ropes and the like to intricately bind someone in a pleasing pattern, or setting up a scene for a photograph that involves bondage.
&amp;EXPLAIN_2 +kinks=Body Art|Branding|Brands are often used to indicate ownership (just as some tattoos are).
&amp;EXPLAIN_3 +kinks=Body Art|Piercing|Same as for earrings, but perchance in other parts of the body, such as navels, nipples, or sexual organs (labia, clitoris, penis, scrotum).
&amp;EXPLAIN_4 +kinks=Body Art|Tattoo|Ingraining colour into the skin, thereby creating patterns and drawings.
&amp;EXPLAIN_5 +kinks=Body Art|Temporary|This summarizes all body-art that can be undone later; this might involve henna, body paint, liquid latex, or even food. For permission to use blood, please check the appropriate section. Semi-permanent tattoos that usually fade after a couple of years do not fall into this section.
&amp;EXPLAIN_6 +kinks=Bondage|Heavy|
&amp;EXPLAIN_7 +kinks=Bondage|Light|Restriction of movement through bonds such as chains, rope, scarves etc., or the restriction through items like corsets or chastity belts. This section typically includes things like being comfortably tied down to a bed or wearing a chastity item through a scene etc.
&amp;EXPLAIN_8 +kinks=Bondage|Medium|
&amp;EXPLAIN_9 +kinks=Control|Availabilty|The dominant partner gets to choose who the submissive part sleeps with, and when. This is a restricted&#160;%xh+kink%xn on some MUSHes. The submissive partner has the explicit right to Fade To Black such a scene, or call in a judge for renegotiation.
&amp;EXPLAIN_10 +kinks=Control|Mind|
&amp;EXPLAIN_11 +kinks=Control|Orgasm|
&amp;EXPLAIN_12 +kinks=Control|Unavailability|The dominant partner gets a right of veto in the submissive partner's choice of lovers (no availability to some or all).
&amp;EXPLAIN_13 +kinks=Discipline|Heavy|
&amp;EXPLAIN_14 +kinks=Discipline|Light|
&amp;EXPLAIN_15 +kinks=Discipline|Medium|
&amp;EXPLAIN_16 +kinks=Fetish|Corsetry|Corsetry is not only considered pretty to look at by some, it also usually implies some sort of restriction of movement/breath control, which is part of what made the ladies of old faint in certain situations. Please keep in mind that aside from the dangers listed under asphyxiation, improper use may also result in back injuries!
&amp;EXPLAIN_17 +kinks=Fetish|Foot/Footwear|
&amp;EXPLAIN_18 +kinks=Fetish|Hair|While usually referring to the hair on a lover's head, this kink my also refer to facial, chest- or public hair. The kink may be about the sight or feel of hair, and about the seeing, touching, braiding or combing of the hair leading to intense arousal or orgasm.
&amp;EXPLAIN_19 +kinks=Fetish|Latex|
&amp;EXPLAIN_20 +kinks=Fetish|Leather|This character derives sexual excitement from the smell, feel and/or look of leather.
&amp;EXPLAIN_21 +kinks=Fetish|Other|This character has a fetish that is very rare, or that the author of this list has not thought of. A fetish is an object (or inanimate bodypart) that is the sole link to relief/absolution/ecstasy (much like in the commericals, &quot;Serve our frozen pizza, and you'll get your date into bed!&quot;).
&amp;EXPLAIN_22 +kinks=Fetish|Tranvestism|The character derives stimulation or satisfaction by wearing or being forced to wear clothes of the opposite sex.
&amp;EXPLAIN_23 +kinks=Fisting|Anal|Anal fisting (or &quot;handballing&quot;) involves the insertion of a hand, sometimes two and/or up to the forearm (for the very experienced!) into the bottom's anal cavity. This take *a lot* of lube, and often a lot of time and practice. Long nails are a definite no-no. In most cases, the hand is inserted in the shape of a cone; the fist is only formed after passing the anal muscles. This technique combines utter trust, utter vulnerability, control, intensity and fullness. While sometimes excessively intense orgasms are achieved, this is not always the case, nor the aim. If not done properly, this technique is extremely hazardrous; handle with excess caution! Do not hesitate to see a doctor when bleeding (they've seen it all before). Some people prefer preparing the submissive party with an enema to &quot;make room.&quot; Aside from the fullness, there is also a chance of G-spot or prostate stimulation. Self-fisting is possible, but not rarely a subject of RP on a MUSH.&#160;: )
&amp;EXPLAIN_24 +kinks=Fisting|Vaginal|The insertion of a hand into the vagina (using plenty of lubricant). While creating an often pleasurable fullness, the inexperienced can also do damage -- handle with care!
&amp;EXPLAIN_25 +kinks=Humiliation|Heavy|
&amp;EXPLAIN_26 +kinks=Humiliation|Light|
&amp;EXPLAIN_27 +kinks=Humiliation|Medium|
&amp;EXPLAIN_28 +kinks=I am|bottom|This character likes to be on the &quot;receiving end&quot; of rough or pain play; this may include &quot;physical&quot; proof of the other party/parties being in control. This character has no interest in being submissive or being &quot;owned,&quot; however; they may well stand proud outside the rough play where &quot;the mean man made me!&quot;, and they do not enjoy acting in a service role. Any submission will not extend beyond the scene.
&amp;EXPLAIN_29 +kinks=I am|dominant|A guide who derives satisfaction from being trusted with being in charge, perchance owning another person, showing them things, taking them somewhere they've maybe never been before, training them. The relationship and power exchange are important and normally extent beyond the end of a scene. Many feel this is more emotional/mental than the &quot;top&quot; aspect.
&amp;EXPLAIN_30 +kinks=I am|submissive|This character enjoys yielding/surrendering to a guide or sensai (or several), trusting them with themselves, often serving them to an extent. Please remember that a good guide needs to know their territory so she knows where not to go; she needs to be ahead rather than behind; she needs to be trustworthy so they will be followed; she needs to care and empathize, and she needs to have a sense of pacing, so she will not go so fast as to lose the other, nor so slow as to bore them. A sub has limits which are expected to be adhered to; he or she comes back because a person was good, not because they are owned and have to.
&amp;EXPLAIN_31 +kinks=I am|switch|Any character with both dominant/submissive and/or both top/bottom ticked is considered a switch; those who also have this kink selected have further information in their +mykinks (such as &quot;a domme to men, a sub to women&quot; or whatever).
&amp;EXPLAIN_32 +kinks=I am|top|This character likes to be physically &quot;in charge&quot;; control and the (oft-used) option of dealing physical punishment to those who invited it is the focus rather than mental or emotional domination. The (physical) domination ends with the scene.
&amp;EXPLAIN_33 +kinks=Identity|Genderbender|The character chooses to defy traditional gender-roles, taking on board those traits of each role (and maybe some of their own design) that they like.
&amp;EXPLAIN_34 +kinks=Identity|Transsexual|The character identifies with the gender opposite to their genetic sex. Set at your discretion. (Players of post-op TS or RLT TS characters who don't make out may prefer not to set this.)
&amp;EXPLAIN_35 +kinks=Kink|Exhibitionism|Enjoying having one's body or parts thereof watched, or being watched during sexual activity. Our advice is: find those with kink/voyeur ticked and make a deal.&#160;: )
&amp;EXPLAIN_36 +kinks=Kink|Voyeurism|Enjoying to watch others have sex, possibly without their knowing it. Our advice is: find those with kink/exhibionist ticked and make a deal.&#160;: )
&amp;EXPLAIN_37 +kinks=Lesbian|Butch|This character enjoys the &quot;hubby-and-wifey-lesbian&quot; cliche and likes to be the more &quot;masculine&quot; -- in the traditional sense of the word -- part of the couple. Unless otherwise noted in the kinks, she possibly is the more dominant part of the duo. She often looks a tad masculine or &quot;dieselish,&quot; demonstrating traditional &quot;masculine&quot; looks.
&amp;EXPLAIN_38 +kinks=Lesbian|Diesel Dyke|She looks tough. She may smell of Harley Davidson and put a drop of 4o weight behind her ears before the date. She likes leather and takes no shit. Or so the cliche goes.&#160;: )
&amp;EXPLAIN_39 +kinks=Lesbian|Dyke|This character is a lesbian and usually rejects the tradional femine role-model that conditions women to act and look like victims and/or little girls.
&amp;EXPLAIN_40 +kinks=Lesbian|Femme|This character enjoys the &quot;hubby-and-wifey-lesbian&quot; cliche and likes to be the more &quot;feminine&quot; -- in the traditional sense of the word -- part of the couple. Unless otherwise noted in the kinks, she possibly is the more submissive part of the duo. She is normally a lipstick lesbian as well, demonstrating traditional &quot;feminine&quot; looks.
&amp;EXPLAIN_41 +kinks=Lesbian|Lipstick|This character is a lesbian and does enjoy makeup.
&amp;EXPLAIN_42 +kinks=Lifestyle|24/7|The character lives or desire to live in a fulltime BDSM relationship.
&amp;EXPLAIN_43 +kinks=Lifestyle|Monogamous|The character prefers a one-on-one relationship. He or she may not be in such a one, or not in one at all, but this would be preferred.
&amp;EXPLAIN_44 +kinks=Lifestyle|Polyamourous|The character likes having several relationships at the same time; these may be primary or secondary relationships.
&amp;EXPLAIN_45 +kinks=Pain|Emotional|
&amp;EXPLAIN_46 +kinks=Pain|Heavy|
&amp;EXPLAIN_47 +kinks=Pain|Light|
&amp;EXPLAIN_48 +kinks=Pain|Medium|
&amp;EXPLAIN_49 +kinks=Player|Committed|The player (as opposed to their character) is committed in Real Life, by marriage, love, or both. If Training/RL is active, be aware that they will very possibly only be available for a secondary relationship. All player info is&#160;%xhvery%xn optional.
&amp;EXPLAIN_50 +kinks=Player|Monogamous|The player prefers a one-on-one relationship. He or she may not be in such a one, or not in one at all, but this would be preferred. All player info is&#160;%xhvery%xn optional.
&amp;EXPLAIN_51 +kinks=Player|Polyamourous|The player likes having several relationships at the same time; these may be primary or secondary relationships. All player info is&#160;%xhvery%xn optional.
&amp;EXPLAIN_52 +kinks=Player|Single|The player (as opposed to their character) is single; but unless Training/RL is active, approaches are not welcome. All player info is&#160;%xhvery%xn optional.
&amp;EXPLAIN_53 +kinks=Play|Asphyxiation|The art of bringing pleasure to those who enjoys this by cutting off breathing. This is also referred to as &quot;Air Sports.&quot; This kind of play often leads to unconsciousness. Handle with extreme care!
&amp;EXPLAIN_54 +kinks=Play|Birching|The use of a natural switch for sexual gratification. Participants report that there is a unique sting to the buds on a fresh birch rod.
&amp;EXPLAIN_55 +kinks=Play|Biting|
&amp;EXPLAIN_56 +kinks=Play|Blade|
&amp;EXPLAIN_57 +kinks=Play|Breast|
&amp;EXPLAIN_58 +kinks=Play|Cane|The use of a cane for sexual gratification. The cane was often used for corporal punishment at European schools.
&amp;EXPLAIN_59 +kinks=Play|Cock &amp; Ball|
&amp;EXPLAIN_60 +kinks=Play|Crop|The use of a riding crop or switch for sexual gratification.
&amp;EXPLAIN_61 +kinks=Play|Cum|Cum scenes involve a person getting intentionally covered with the ejaculate of one or many men.
&amp;EXPLAIN_62 +kinks=Play|Electrical|Use of electricity for sexual gratification, in the guise of a violet wand, small pulses, or outright shocks. The general guide for Real Life is &quot;no use above the waistline.&quot;
&amp;EXPLAIN_63 +kinks=Play|Enema|
&amp;EXPLAIN_64 +kinks=Play|Fire|
&amp;EXPLAIN_65 +kinks=Play|Flogging|The use of a multi-thonged whip (or flogger) for sexual gratification. Less &quot;stingy&quot; and more of &quot;thuddy pain&quot; than the singletail. Floggings may well but do not have to draw blood; indeed some are very mild; if in doubt, ask the the bottom. His or her &quot;Pain&quot; rating may give you a basic idea of what they like. The severity of the flogger (the implement, not the person, though they certainly make a difference, too) largely depends on its material; if getting started In Real Life, take it easy, don't start with the dreaded cat o' nine, and learn which parts of the body are safe!
&amp;EXPLAIN_66 +kinks=Play|Food|The use of edible matter for sexual purpose. This is not limited to insertion of food (like cherries or the proverbial cucumber), but also includes play with canned cream, champagne et ceterea.
&amp;EXPLAIN_67 +kinks=Play|Golden showers|The use of urine for sexual gratification. Part of the &quot;water sports&quot; section in which some also include enemas and scat play, which are listed elsewhere.
&amp;EXPLAIN_68 +kinks=Play|Hairpulling|Where the Look &amp; Feel is hair in and by itself is covered in the Fetish section, this topic deals with the sensation of having one's hair pulled, and the control (of the submissive's head, even more so than when his or her chin is cupped with one hand) hidden therein. Intensity and method are, as always, subject to personal preferences.
&amp;EXPLAIN_69 +kinks=Play|HardLimits|The person has &quot;hard&quot; limits which always apply, even if &quot;Non-Consent&quot; (see there) or &quot;I am: Slave&quot; are active. If no HL are given in the character's +mykinks, &quot;the usual&quot; -- no children, animals or other who cannot give consent -- are assumed.
&amp;EXPLAIN_70 +kinks=Play|Ice|
&amp;EXPLAIN_71 +kinks=Play|Other|
&amp;EXPLAIN_72 +kinks=Play|Scat|
&amp;EXPLAIN_73 +kinks=Play|Shaving|
&amp;EXPLAIN_74 +kinks=Play|Singletail|The use of a one-lashed whip (as opposed to floggers, which have many) for sexual gratification. The bite of a singletail is normally much sharper than that of a flogger.
&amp;EXPLAIN_75 +kinks=Play|SoftLimits|The person has &quot;soft&quot; limits; if these limits are to be pushed, it needs to be done carefully, skillfully and knowledgable, and, normally, by a trusted person. Soft limits are listed in the character's +mykinks.
&amp;EXPLAIN_76 +kinks=Play|Teasing|
&amp;EXPLAIN_77 +kinks=Play|Toys|
&amp;EXPLAIN_78 +kinks=Play|Wax|The use of hot wax for sexual gratification. Both the type/colour of wax -- white candles normally burn &quot;cooler&quot; than coloured of beeswax ones -- used and the distance the wax is dripped from influence the heat -- and thereby the intensity for the receiver....
&amp;EXPLAIN_79 +kinks=Pref|Bisexual|This character is attracted to members of both sexes; more information (like if it's 80/20) might be in their&#160;%xh+mykinks%xn.
&amp;EXPLAIN_80 +kinks=Pref|Heterosexual|This character is attracted to members of the opposite sex.
&amp;EXPLAIN_81 +kinks=Pref|Homosexual|This character is attracted to members of their own sex (lesbian/gay).
&amp;EXPLAIN_82 +kinks=RP|Age|People with this kink enjoy having sex with one or many participants acting like children/teenagers (or rarely, elderly people). While on RP MUSHes, this means the players play characters playing children (rather than the players playing children having sex), some Gods and Goddesses still find this too close to comfort and restrict this kink.
&amp;EXPLAIN_83 +kinks=RP|Interrogation|
&amp;EXPLAIN_84 +kinks=RP|Medical|
&amp;EXPLAIN_85 +kinks=RP|NonConsent|In order not to violate the &quot;Prime Directive of BDSM&quot;, &quot;safe, sane and consensual,&quot; initial consent for such a scene is mandatory, even if for the rest of the scene, &quot;no&quot;, rants and screams stop to have meaning (note that Hard Limits are still in effect; in this context, they mean that the dominant part simply won't get the idea to do any of the things listed in the Hard Limits (see +mykinks); the HL exist OOCly rather than ICly for the duration of a non-consensual scene). Still, many Gods and Goddesses feel that since many people closely know someone who was abused or assaulted, the danger of flashbacks in the participants and those who hear about the scene far outweighs any possible merits of such a scene and restrict this kink so it can only be set at the discretion of a wizard.
&amp;EXPLAIN_86 +kinks=RP|Other
&amp;EXPLAIN_87 +kinks=RP|Ritual|
&amp;EXPLAIN_88 +kinks=RP|Victorian|
&amp;EXPLAIN_89 +kinks=Sex|Anal|Rectal penetration. In Real Life, if it hurts, you're doing it wrong; you may want to relax properly and/or use more lube. As always, condoms that the lubricant of your choice does not dissolve are recommended.
&amp;EXPLAIN_90 +kinks=Sex|Bestiality|Sex with animals. Please note that this is highly controversial (and often illegal) In Real Life since animals cannot legally consent, thereby negating the basic rule of Safe, Sane And Consensual (whereas some people argue that e.g. you cannot&#160;%xhforce%xn a dog to lick you, and that their raspy tongue is really something else).
&amp;EXPLAIN_91 +kinks=Sex|Group|Group sex, quite simply, is sex with more than two people in it, otherwise regardless of their number of respective genders. Please note that the term &quot;gangbang&quot; is considered highly offensive by many.
&amp;EXPLAIN_92 +kinks=Sex|Masturbation|Yes, that's how it's spelt, and it's the art of using your hands/fingers/fingertips to help your partner orgasm; the exact way of how this will work is up to the needs and taste of both partners.
&amp;EXPLAIN_93 +kinks=Sex|Oral|Using tongue and lips on your partner's sexual organs to help them orgasm. The use on the anus is coverd in the&#160;%xhrimming%xn section.
&amp;EXPLAIN_94 +kinks=Sex|Other|The person choosing this kink likes something the author of this list didn't even think of! Ask them to find out more!&#160;: )
&amp;EXPLAIN_95 +kinks=Sex|Rimming|Using tongue and/or lips on your partner's anus for sexual gratification. The anus is the region with the highest number of nerves/cm^2 in the male body (second highest after the clitoris in the female body). In Real Life, the use of a Dental Dam is highly recommended!
&amp;EXPLAIN_96 +kinks=Sex|Vaginal|Penile penetration. Manual penetration is listed under&#160;%xhfisting/vaginal%xn and&#160;%xhsex/masturbation%xn, respectly; penetration with toys or food is listed under the appropriate sections.
&amp;EXPLAIN_97 +kinks=Sex|Vanilla|Comparatively tender sex with no dominance, pain, etc. &quot;Vanilla&quot; basically is sex without any of the kinks listed here.
&amp;EXPLAIN_98 +kinks=Spanking|Crop|The use of a crop, cane, or related for punishment and/or sexual gratification. This is different from the related cropping-kinks inasmuch as it specifically excludes the safe parts of the back; even the thighs are subject to negotiation (the bottom is safe though&#160;: ). Before you try this In Real Life, you may want to do a warm up and use massage oil, body-lotion or related. Please make sure you which position goes with which implement. Also, many implements cannot be cleaned perfectly, so you will only be able to use them on one lover.
&amp;EXPLAIN_99 +kinks=Spanking|Hand|The use of spanking, over the knee (OTK) or otherwise. This refers to spanking by hand only, please see the&#160;%xhcrop%xn and&#160;%xhpaddle%xn sections.
&amp;EXPLAIN_100 +kinks=Spanking|Paddle|The use of a paddle, ping pong bat etc. on the &quot;victim&quot;'s behind and/or upper thighs for punishment and/or sexual gratification. Before using heavy gear in real life, please find out which items are safe in which positions (not all combinations work), and mind that tailbone!
&amp;EXPLAIN_101 +kinks=Status|Committed|The character (as opposed to their player) is committed, by marriage, love, or both. If Training/VR is active, be aware that they will very possibly only be available for a secondary relationship.
&amp;EXPLAIN_102 +kinks=Status|Single|The character (as opposed to their player) is single; but unless Training/VR is active, approaches are not welcome.
&amp;EXPLAIN_103 +kinks=Training|RL|This person&#160;%xhmay%xn interested in entering a Real Life relationship with the right person under the right conditions; if this becomes a topic of conversation, both parties will of course have to find out whether they are attracted to the player behind the character.
&amp;EXPLAIN_104 +kinks=Training|VR|IC relationships only; do not assume the player feels anything for you, or that they are anything like their character In Real Life, in terms of kinks, gender, or traits.
&amp;FN_KINKS_GET +kinks=%r[setq(1,sort(u(%0/KINKS)))][edit(columns(iter(%q1,edit([setq(7,u(EXPLAIN_##))][rjust(##,3)]: [extract(%q7,1,1,|)]: [extract(%q7,2,1,|)],%b,_)),26),_,%b)]
@Desc +kinks=+kink handler by Azundris (Callisto@ChicaGo).%r%rYou may set a list of kink-numbers on this object (%xh&amp;KINKS_DISALLOW +kinks=1 2 3%xn; current setting is &quot;[u(KINKS_DISALLOW)]&quot;) that are not allowed on your MUSH due to considerations of theme, law, or personal preference.%r%rThis mechanism was inspired by that of Thorn@IoS.
@set +kinks=COMMANDS
@rxlevel +kinks=Real
@txlevel +kinks=Real
@alias #289=
---
#394
#395
#395
#72
@create Old requests -- played +learned and had their sheet changed=10
@rxlevel Old requests -- played +learned and had their sheet changed=Real
@txlevel Old requests -- played +learned and had their sheet changed=Real
@alias #394=
---
#395
#2
#2
#72
@create +learn=10
&amp;FN_RLDAYS +learn=[div(secs(),86400)]
&amp;FN_ICDAYS +learn=[u(#248/day-from-0)]
&amp;DO_SETUP +learn=$+learn/setup * *:setq(9,%xhLEARN%xn:%b); @switch hasflag(%#,WIZARD)=0,@pemit&#160;%#=%q9This command may only be used by wizards!,{@dolist lcon(me)=@force me=@destroy ##; @switch&#160;%0=rl,&amp;FN_DAYS me=\[u(FN_RLDAYS)\],vr,&amp;FN_DAYS me=\[u(FN_ICDAYS)\],ic,&amp;FN_DAYS me=\[u(FN_ICDAYS)\],ooc,&amp;FN_DAYS me=\[u(FN_RLDAYS)\],@pemit&#160;%#=%q9You need to give either IC or RL as a unit for days!; &amp;NEW me=[create(New&#160;%(unapproved%) +learn requests -- Player wants to start learning and needs approval,10)]; @tel u(NEW)=me; @link u(NEW)=me; &amp;CURRENT me=[create(Current&#160;%(approved%) requests -- player is currently learning,10)]; @tel u(CURRENT)=me; @link u(CURRENT)=me; &amp;OLD me=[create(Old requests -- played +learned and had their sheet changed,10)]; @tel u(OLD)=me; @link u(OLD)=me; @pemit&#160;%#=%q9Thingie setup. If you killed the old data in error%,%r[space(7)]fish the objects&#160;%(contents of the +learn-object which is%r[space(7)]likely in the Master-Room) out now -- they're the ones with%r[space(7)]the GOING flag set. Put them 
someplace safe%, and clear%r[space(7)]the GOING flags!; &amp;REQ_MAX_CHAR me=%1; }
&amp;FN_DAYS +learn=[u(FN_ICDAYS)]
&amp;NEW +learn=#416
&amp;CURRENT +learn=#404
&amp;OLD +learn=#394
&amp;REQ_MAX_BACKLOG +learn=256
@Desc +learn=+learn by Azundris (Callisto@Chicago)%r%r[columns(%xh+learn/setup vr|rl%xn &lt;max_req&gt;~The first parameter indicates whether~~learning times will be IC/VR or OOC/RL~~days. The second parameter is the~~number of requests a character can have~~in at the same time.&#160;%(Currently [u(REQ_MAX_CHAR)]%),39,~)]
&amp;REQ_MAX_CHAR +learn=2
&amp;DO_LEARN +learn=$+learn *:@force&#160;%#=+raise&#160;%0
&amp;DO_RAISE +learn=$+raise *:setq(9,%xhGAME%xn:%b); setq(8,%#:[name(%#)]:[setr(7,gettext(%#,TempRace))]:[setr(6,edit(left(%0,40),:,-))]:[u(FN_DAYS)]:[extract(setr(5,time()),2,2)]%,%b[last(%q5)]); @switch strlen(%q7)=0,@pemit&#160;%#=%q9Your character is not set up properly (no TempRace stat).%r[space(6)]Please contact a member of staff!,{setq(0,inc(words(lattr([setr(1,u(NEW))]/REQ_*)))); set(%q1,REQ_[%q0]:%q8); @pemit&#160;%#=%q9Your request for &quot;%q6&quot; was filed as #%q0.}
&amp;FN_REQUEST_LIST +learn=[iter(lattr(%0/REQ_*),switch(strmatch(setr(0,u(%0/##)),*:*:%1*:*:*:*),1,edit(%q0,%b,_)))]
&amp;DO_REQ +learn=$+learn/* *:setq(9,%xhGAME%xn:%b); @switch isstaff(%#)=0,@pemit&#160;%#=%q9You are not a member of staff.,@pemit&#160;%#=[switch(pos(%b,%1),#-1,%q9New requests matching &quot;%1&quot; in file &quot;%0&quot;:[iter(u(FN_REQUEST_LIST,switch(left(%0,1),n,u(NEW),o,u(OLD),c,u(CURRENT)),%1),%r[u(FN_REQUEST_FORMAT,##,%1)])])]
&amp;FN_REQUEST_FORMAT +learn=[edit([extract(%0,3,1,:)]-%1: [extract(%0,2,1,:)]/[first(%0,:)] requested &quot;[extract(%0,4,1,:)]&quot; on [last(%0,:)]&#160;%([setq(0,sub(u(FN_DAYS),extract(%0,5,1,:)))][switch(%q0,0,Today,1,Yesterday,%q0 days ago)]%),_,%b)]
@set +learn=COMMANDS
@rxlevel +learn=Real
@txlevel +learn=Real
@alias #395=
---
#404
#395
#395
#72
@create Current&#160;%(approved%) requests -- player is currently learning=10
@rxlevel Current (approved) requests -- player is currently learning=Real
@txlevel Current (approved) requests -- player is currently learning=Real
@alias #404=
---
#416
#395
#395
#72
@create New&#160;%(unapproved%) +learn requests -- Player wants to start learning and needs approval=10
&amp;REQ_1 New (unapproved) +learn requests -- Player wants to start learning and needs approval=#72:Callisto:Shifter:loveliness:3731:Apr 21, 2000
&amp;REQ_2 New (unapproved) +learn requests -- Player wants to start learning and needs approval=#72:Callisto:Shifter:shyness:3731:Apr 21, 2000
&amp;REQ_3 New (unapproved) +learn requests -- Player wants to start learning and needs approval=#72:Callisto:Shifter:bar:3731:Apr 21, 2000
@rxlevel New (unapproved) +learn requests -- Player wants to start learning and needs approval=Real
@txlevel New (unapproved) +learn requests -- Player wants to start learning and needs approval=Real
@alias #416=
---
#489
#2
#8
#72
@create Bygone=50
&amp;PHYS-ATTRS Bygone=[u(parent(me)/PHYS-ATTRS)]
&amp;SOC-ATTRS Bygone=[u(parent(me)/SOC-ATTRS)]
&amp;MENT-ATTRS Bygone=[u(parent(me)/MENT-ATTRS)]
&amp;TALENTS Bygone=Awareness Flying [u(parent(me)/TALENTS)]
&amp;SKILLS Bygone=Elusion Foraging Hiding Wild_Hunting [u(parent(me)/SKILLS)]
&amp;KNOWLEDGES Bygone=Animal_Speech [u(parent(me)/KNOWLEDGES)]
&amp;SECTALENTS Bygone=[u(parent(me)/SECTALENTS)]
&amp;SECSKILLS Bygone=[u(parent(me)/SECSKILLS)]
&amp;SECKNOWLEDGES Bygone=[u(parent(me)/SECKNOWLEDGES)]
&amp;BACKGROUNDS Bygone=Treasure Years [u(parent(me)/BACKGROUNDS)]
&amp;POOLS Bygone=[u(parent(me)/POOLS)]
&amp;POWERS Bygone=Acute_Smell Armor Bond_Sharing Chameleon_Coloration Claws_Fangs_Horns Deadly_Demise Elemental_Touch Extra_Heads Extra_Limbs Extra_Speed Feast_Of_Nettles Flexible Hazardous_Breath Healing_Lick Hibernation Human_Speech Immunity Information_Font Intangibility Mesmerism Musical_Influence Mystick_Shield Nightsight Rapid_Healing Regrowth Shapechanger Shared_Knowledge Size Soul_Sense Spirit_Travel Spirit_Vision Tunneling Unaging Venom Wall_Crawling Water_Breathing Webbing Wings [u(parent(me)/POWERS)]
&amp;TOP Bygone=Affinity Affinity_Aspect Form [u(parent(me)/TOP)]
&amp;MERITS Bygone=Cast_Iron_Stomach Fearlessness Homing_Instinct Loyalty Perfect_Balance Soothing_Voice [u(parent(me)/MERITS)]
&amp;FLAWS Bygone=Alien_Appearance Bizarre_Hunger No_Dexterous_Limbs Offensive_To_Animals Thaumivore Vulnerability Weak_Spot [u(parent(me)/FLAWS)]
&amp;EQUIP Bygone=[u(parent(me)/EQUIP)]
&amp;MISC Bygone=[u(parent(me)/MISC)]
&amp;SPELLS Bygone=[u(parent(me)/SPELLS)]
&amp;CHARGENTEMP Bygone=[u(parent(me)/CHARGENTEMP)]
&amp;REGISTRY Bygone=[u(parent(me)/REGISTRY)]
&amp;AURAS Bygone=[u(parent(me)/AURAS)]
&amp;LANGUAGES Bygone=[u(parent(me)/LANGUAGES)]
&amp;FREEBIES Bygone=[u(parent(me)/FREEBIES)]
&amp;XPSPEND Bygone=[u(parent(me)/XPSPEND)]
&amp;HIDDEN Bygone=[u(parent(me)/HIDDEN)]
&amp;FORMS Bygone=[u(parent(me)/FORMS)]
&amp;EXPLAIN_FORM Bygone=The actual 'race' of Bygone of your character
&amp;INFO_FORM Bygone=Cockatrice|Dragon|Feng-Huang|Ghul|Gryphon|Harpy|Hippocampus|Hippogryph|Homunculus|Manticore|Pegasus|Peryton|Phoboros|Roc|Sea Bishop|Sea Serpent|Shadhavar|Simurgh|Umkovu|Unicorn|Vodayany|Wilde Beast^No^
&amp;EXPLAIN_AFFINITY Bygone=The &quot;Affinity&quot; trait plays a similar role for Bygones as the &quot;Nature&quot; does to other races.
&amp;INFO_AFFINITY Bygone=Air|Fire|Metal|Water|Wood^No^
&amp;EXPLAIN_AFFINITY_ASPECT Bygone=The &quot;Affinity Aspect&quot; combines with the &quot;Affinity&quot; trait to play a similar role for Bygones as the &quot;Nature&quot; does for other races.
&amp;INFO_AFFINITY_ASPECT Bygone=*^No^
&amp;EXPLAIN_AWARENESS Bygone=Awareness often gives a Bygone the edge he needs to deal with other supernatural creatures. This Trait reflects the innate ability of Bygones to 'sense' the supernatural and determine its nature. This ability can range from having 'funny feelings about the guy with the fangs' to 'hey  he's a vampire'. It is only usable within the normal sensory range  and the greater the number of successes rolled  the more information about the target is revealed.
System
  1 - You get strange feelings for places you visit or people you meet. Deja Vu galore.
  2 - You know the supernatural exists right next to the mundane.
  3 - You can read auras on people and things and you know what they mean.
  4 - You are uncomfortably aware that humans are but one kind of creature among others...known and unknown.
  5 - You know about the Shapeshifters  about the Restless Dead  and so much else. You regularly encounter the unbelievable  learning more with each experience.
&amp;INFO_AWARENESS Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_FLYING Bygone=You can fly. The sky is your undisputed domain.
&amp;INFO_FLYING Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_ELUSION Bygone=This ability describes how well you can hide
&amp;INFO_ELUSION Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_WILD_HUNTING Bygone=This ability describes how well you can find food in the wilderness.
&amp;INFO_WILD_HUNTING Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_YEARS Bygone=This background describes how old you are.
&amp;INFO_YEARS Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_TREASURE Bygone=Similar to 'Resources'  but in terms that apply to Bygones.
&amp;INFO_TREASURE Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_WINGS Bygone=You have wings and you can fly.
&amp;INFO_WINGS Bygone=0|3|5^No^
&amp;EXPLAIN_ARMOR Bygone=Your body has natural protection.
&amp;INFO_ARMOR Bygone=0|1|2|3|4^No^
&amp;EXPLAIN_HAZARDOUS_BREATH Bygone=Your breath can be dangerous to your enemies
&amp;INFO_HAZARDOUS_BREATH Bygone=0|5|7|10|14|15|20|21^Yes^
&amp;EXPLAIN_HUMAN_SPEECH Bygone=You can talk to humans in their language
&amp;INFO_HUMAN_SPEECH Bygone=1^No^
&amp;EXPLAIN_MESMERISM Bygone=You have the power to influence others' mind.
&amp;INFO_MESMERISM Bygone=3|6^No^
&amp;EXPLAIN_SIZE Bygone=You are considerably larger (or smaller) than a human
&amp;INFO_SIZE Bygone=0|3|5|8|10^No^
&amp;EXPLAIN_SHAPECHANGER Bygone=You can change your shape. For 3 points you can assume one extra shape than your natural one. For 5 you can assume any shape in a given range. For 8 points only your imagination is your limit
&amp;INFO_SHAPECHANGER Bygone=3|5|8^No^
&amp;EXPLAIN_SPIRIT_TRAVEL Bygone=You can travel beyond this world  in one or more realms.
&amp;INFO_SPIRIT_TRAVEL Bygone=8|10|15^Yes^
&amp;EXPLAIN_FORAGING Bygone=How good you are at finding food.
&amp;INFO_FORAGING Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_HIDING Bygone=How good you are at hiding yourself.
&amp;INFO_HIDING Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_ANIMAL_SPEECH Bygone=You can speak to other animals
&amp;INFO_ANIMAL_SPEECH Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_CAST_IRON_STOMACH Bygone=This is the &quot;Cast-Iron Stomach&quot; statistic. Please contact a steffer for details.
&amp;INFO_CAST_IRON_STOMACH Bygone=1^No^
&amp;EXPLAIN_LOYALTY Bygone=This is the &quot;Loyalty&quot; statistic. Please contact a steffer for details.
&amp;INFO_LOYALTY Bygone=1^No^
&amp;EXPLAIN_HOMING_INSTINCT Bygone=This is the &quot;Homing Instinct&quot; statistic. Please contact a steffer for details.
&amp;INFO_HOMING_INSTINCT Bygone=2|4^No^
&amp;EXPLAIN_FEARLESSNESS Bygone=This is the &quot;Fearlessness&quot; statistic. Please contact a steffer for details.
&amp;INFO_FEARLESSNESS Bygone=1|3^No^
&amp;EXPLAIN_PERFECT_BALANCE Bygone=This is the &quot;Perfect Balance&quot; statistic. Please contact a steffer for details.
&amp;INFO_PERFECT_BALANCE Bygone=3^No^
&amp;EXPLAIN_SOOTHING_VOICE Bygone=This is the &quot;Soothing Voice&quot; statistic. Please contact a steffer for details.
&amp;INFO_SOOTHING_VOICE Bygone=3^No^
&amp;EXPLAIN_OFFENSIVE_TO_ANIMALS Bygone=This is the &quot;Offensive to Animals&quot; statistic. Please contact a steffer for details.
&amp;INFO_OFFENSIVE_TO_ANIMALS Bygone=1^No^
&amp;EXPLAIN_ALIEN_APPEARANCE Bygone=You look strange even for those of your kind.
&amp;INFO_ALIEN_APPEARANCE Bygone=1|2|3|4|5^No^
&amp;EXPLAIN_BIZARRE_HUNGER Bygone=You depend on odd things for sustenance. The higher the Flaw  the harder to find is your 'food'.
&amp;INFO_BIZARRE_HUNGER Bygone=2|3|4^Yes^
&amp;EXPLAIN_THAUMIVORE Bygone=Like 'Bizarre Hunger'  but your particular food is Tass. And raw Quintessence is pretty tasteless. Depending on your size  you need 1 to 5 points of Quint/day.
&amp;INFO_THAUMIVORE Bygone=5^No^
&amp;STATS Bygone=^^^^^^^^^^^^^^^^^^Primattrpoints:7|Primskillpoints:11|Secattrpoints:5|Secskillpoints:7|Terattrpoints:3|Terskillpoints:4|backgroundsfrcost:1|backgroundspoints:3|flawspoints:15|freebiespoints:21|knowledgesfrcost:2|ment-attrsfrcost:5|meritspoints:15|phys-attrsfrcost:5|poolsfrcost:1|powersfrcost:1|powerspoints:6|secknowledgesdefcost:0.5|secknowledgesfrcost:1|secknowledgessection:knowledges|secskillsdefcost:0.5|secskillsfrcost:1|secskillssection:skills|sectalentsdefcost:0.5|sectalentsfrcost:1|sectalentssection:talents|skillsfrcost:2|soc-attrsfrcost:5|talentsfrcost:2|toppoints:1000^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&amp;INFO_COMPULSION Bygone=2|3|4^Yes^
&amp;EXPLAIN_VULNERABILITY Bygone=This is the &quot;Vulnerability&quot; statistic. Please contact a staffer for information.
&amp;INFO_VULNERABILITY Bygone=2|3|4|5^Yes^
&amp;EXPLAIN_WEAK_SPOT Bygone=This is the &quot;Weak Spot&quot; statistic. Please contact a staffer for information.
&amp;INFO_WEAK_SPOT Bygone=0|3^Yes^
&amp;EXPLAIN_NO_DEXTEROUS_LIMBS Bygone=This is the &quot;No Dexterous Limbs&quot; statistic. Please contact a staffer for information.
&amp;INFO_NO_DEXTEROUS_LIMBS Bygone=0|4^No^
&amp;EXPLAIN_ACUTE_SMELL Bygone=This is the &quot;Acute Smell&quot; statistic. Please contact a staffer for information.
&amp;INFO_ACUTE_SMELL Bygone=0|2|3^No^
&amp;EXPLAIN_BOND_SHARING Bygone=This is the &quot;Bond-Sharing&quot; statistic. Please contact a staffer for information.
&amp;INFO_BOND_SHARING Bygone=0|4|5|6^No^
&amp;EXPLAIN_CHAMELEON_COLORATION Bygone=This is the &quot;Chameleon Coloration/Shadow-Walking&quot; statistic. Please contact a staffer for information.
&amp;INFO_CHAMELEON_COLORATION Bygone=0|4|6|8^No^
&amp;EXPLAIN_CLAWS_FANGS_HORNS Bygone=This is the &quot;Claws  Fangs or Horns&quot; statistic. Please contact a staffer for information.
&amp;INFO_CLAWS_FANGS_HORNS Bygone=0|3|5|7^Yes^
&amp;EXPLAIN_DEADLY_DEMISE Bygone=This is the &quot;Deadly Demise&quot; statistic. Please contact a staffer for information.
&amp;INFO_DEADLY_DEMISE Bygone=0|3^No^
&amp;EXPLAIN_ELEMENTAL_TOUCH Bygone=This is the &quot;Elemental Touch&quot; statistic. Please contact a staffer for information.
&amp;INFO_ELEMENTAL_TOUCH Bygone=0|3|5|7|10|15^Yes^
&amp;EXPLAIN_EXTRA_HEADS Bygone=This is the &quot;Extra Heads&quot; statistic. Please contact a staffer for information.
&amp;INFO_EXTRA_HEADS Bygone=0|3|6|9|12|15^Yes^
&amp;EXPLAIN_EXTRA_LIMBS Bygone=This is the &quot;Extra Limbs&quot; statistic. Please contact a staffer for information.
&amp;INFO_EXTRA_LIMBS Bygone=0|3|6|9|12|15^Yes^
&amp;EXPLAIN_EXTRA_SPEED Bygone=This is the &quot;Extra Limbs&quot; statistic. Please contact a staffer for information.
&amp;INFO_EXTRA_SPEED Bygone=0|3|5|7|9|10^No^
&amp;EXPLAIN_FEAST_OF_NETTLES Bygone=This is the &quot;Feast of Nettles&quot; statistic. Please contact a staffer for information.
&amp;INFO_FEAST_OF_NETTLES Bygone=0|2|3|4|5|6^No^
&amp;EXPLAIN_FLEXIBLE Bygone=This is the &quot;Flexible&quot; statistic. Please contact a staffer for information.
&amp;INFO_FLEXIBLE Bygone=0|2^No^
&amp;EXPLAIN_HEALING_LICK Bygone=This is the &quot;Healing Lick&quot; statistic. Please contact a staffer for information.
&amp;INFO_HEALING_LICK Bygone=0|3|6^No^
&amp;EXPLAIN_HIBERNATION Bygone=This is the &quot;Hibernation&quot; statistic. Please contact a staffer for information.
&amp;INFO_HIBERNATION Bygone=0|2^No^
&amp;EXPLAIN_IMMUNITY Bygone=This is the &quot;Immunity&quot; statistic. Please contact a staffer for information.
&amp;INFO_IMMUNITY Bygone=0|2|5|10|15^Yes^
&amp;EXPLAIN_INFORMATION_FONT Bygone=This is the &quot;Information Font&quot; statistic. Please contact a staffer for information.
&amp;INFO_INFORMATION_FONT Bygone=0|3^No^
&amp;EXPLAIN_INTANGIBILITY Bygone=This is the &quot;Intangibility&quot; statistic. Please contact a staffer for information.
&amp;INFO_INTANGIBILITY Bygone=0|8|10^No^
&amp;EXPLAIN_MUSICAL_INFLUENCE Bygone=This is the &quot;Musical Influence&quot; statistic. Please contact a staffer for information.
&amp;INFO_MUSICAL_INFLUENCE Bygone=0|3^No^
&amp;EXPLAIN_MYSTICK_SHIELD Bygone=This is the &quot;Mystick Shield&quot; statistic. Please contact a staffer for information.
&amp;INFO_MYSTICK_SHIELD Bygone=0|2|4|6|8|10^No^
&amp;EXPLAIN_NIGHTSIGHT Bygone=This is the &quot;Nightsight&quot; statistic. Please contact a staffer for information.
&amp;INFO_NIGHTSIGHT Bygone=0|3^No^
&amp;EXPLAIN_RAPID_HEALING Bygone=This is the &quot;Rapid Healing&quot; statistic. Please contact a staffer for information.
&amp;INFO_RAPID_HEALING Bygone=0|2|4|6|8|10^No^
&amp;EXPLAIN_REGROWTH Bygone=This is the &quot;Regrowth&quot; statistic. Please contact a staffer for information.
&amp;INFO_REGROWTH Bygone=0|2|4|6^No^
&amp;EXPLAIN_SHARED_KNOWLEDGE Bygone=This is the &quot;Shared Knowledge&quot; statistic. Please contact a staffer for information.
&amp;INFO_SHARED_KNOWLEDGE Bygone=0|5|7^Yes^
&amp;EXPLAIN_SOUL_SENSE Bygone=This is the &quot;Soul Sense/Death Sense&quot; statistic. Please contact a staffer for information.
&amp;INFO_SOUL_SENSE Bygone=0|2|3^No^
&amp;EXPLAIN_SPIRIT_VISION Bygone=This is the &quot;Spirit Vision&quot; statistic. Please contact a staffer for information.
&amp;INFO_SPIRIT_VISION Bygone=0|3^No^
&amp;EXPLAIN_TUNNELING Bygone=This is the &quot;Tunneling&quot; statistic. Please contact a staffer for information.
&amp;INFO_TUNNELING Bygone=0|3^No^
&amp;EXPLAIN_UNAGING Bygone=This is the &quot;Unaging&quot; statistic. Please contact a staffer for information.
&amp;INFO_UNAGING Bygone=0|2^No^
&amp;EXPLAIN_VENOM Bygone=This is the &quot;Venom&quot; statistic. Please contact a staffer for information.
&amp;INFO_VENOM Bygone=0|3|5|9|10|12|15|20^Yes^
&amp;EXPLAIN_WALL_CRAWLING Bygone=This is the &quot;Wall-Crawling&quot; statistic. Please contact a staffer for information.
&amp;INFO_WALL_CRAWLING Bygone=0|4^No^
&amp;EXPLAIN_WATER_BREATHING Bygone=This is the &quot;Water Breathing&quot; statistic. Please contact a staffer for information.
&amp;INFO_WATER_BREATHING Bygone=0|2|5^No^
&amp;EXPLAIN_WEBBING Bygone=This is the &quot;Webbing&quot; statistic. Please contact a staffer for information.
&amp;INFO_WEBBING Bygone=0|5^Yes^
&amp;AFFINITY_COMPUTE_1 Bygone=setabil(%0,Willpower,add(5,0))
&amp;INFO2_WILLPOWER Bygone=^2^^^^^^
&amp;SIZE_COMPUTE_1 Bygone=setabil(%0,Health,add(8,getabil(%0,Size)))
@set Bygone=DARK
@set Bygone=INHERIT
@set Bygone=SUSPECT
@rxlevel Bygone=Real
@txlevel Bygone=Real
@parent Bygone=#13
@alias #489=
---
#943
#2
#72
#72
@create compat=10
@Desc compat=Compatibility commands.
&amp;DO_MAILCHECK compat=$_check_mail:setq(0,mail([name(%#)]));@pemit&#160;%#=%xhGAME%xn: [first(%q0)] read, [switch(setr(1,extract(%q0,2,1)),0,0 unread,%xh%q1 unread%xn)], and [last(%q0)] cleared messages.
&amp;DO_BG_APPEND compat=$+bg/append *:@force&#160;%#=+bg/add&#160;%0
&amp;DO_BG_CAT compat=$+bg/cat *:@force&#160;%#=+bg/add&#160;%0
&amp;DO_PATRONS compat=$+patrons:@force&#160;%#=+helpers
&amp;DO_LHELP compat=$+lhelp:@force&#160;%#=+roomhelp
&amp;DO_.LIST compat=$.list*:@force&#160;%#=+desc/list
&amp;DO_.SET compat=$.set *:@force&#160;%#=+desc&#160;%0
&amp;DO_.ADD compat=$.add* *:@force&#160;%#=+desc/add&#160;%1
&amp;DO_BCC compat=$+bcc *:@pemit&#160;%#=%xhGAME%xn: Sorry, no +bcc yet...&#160;: (
&amp;DO_MAIL2 compat=$+mail/*:@switch words(%0)=1,{@force&#160;%#=u(fn_mailxtra,/%0)},{@force&#160;%#=u(fn_mailxtra,/[first(%0)],[rest(%0)]) }
&amp;FN_MAILXTRA compat=[setq(0,switch(%0,/box,/folder,/del*,/clear,/undel*,/unclear,%0))]@mail%q0&#160;%1
&amp;DO_MAIL1 compat=$+mail *:@force&#160;%#=u(fn_mailxtra,,%0)
&amp;DO_MAIL0 compat=$+mail:@force&#160;%#=@mail
@set compat=SAFE
@set compat=COMMANDS
@rxlevel compat=Real
@txlevel compat=Real
@alias #943=
---
#1118
#2
#2
#72
@create +rumour=10
@Desc +rumour=+rumour code, copyleft by Callisto@ChicaGo and Azundris
@rxlevel +rumour=Real
@txlevel +rumour=Real
@alias #1118=
---
#1394
#92
#72
#72
@create Callisto's Descriptions=10
&amp;ROOTNAME Callisto's Descriptions=Callisto
&amp;DESC-ORIGINAL Callisto's Descriptions=Gorgeous big-haired blonde with expressive cheekbones and a fireball in her hand.
@rxlevel Callisto's Descriptions=Real
@txlevel Callisto's Descriptions=Real
@alias #1394=
---
#1419
#92
#72
#72
@create integrity check=10
&amp;DO_CI integrity check=$ci:&amp;cnt me=0;say [u(FN_CI)]
&amp;CNT integrity check=1
&amp;FN_CI integrity check=[set(me,CNT:[inc(setr(0,cnt))])][switch(strlen(name(#%q0)),0,,switch(count(lattr(#%q0)),0,%xhbroken:%xn&#160;%q0%r))][u(FN_CI)]
@set integrity check=COMMANDS
@rxlevel integrity check=Real
@txlevel integrity check=Real
@alias #1419=
---
#72
#92
#0
#72
@lock me=*Callisto
&amp;STATS me=Dexterity:1|Stamina:2|Strength:1^Appearance:46|Charisma:3|Manipulation:2^Intelligence:4|Perception:1|Wits:1^Empathy:3|Expression:1^Etiquette:1|Performance:1^Computer:3|Garou_Lore:3|Investigation:3|Linguistics:1|Medicine:1|Science:2|Umbral_Lore:3^Artistic_Expression:1|Instruction:1|Poetic_Expression:1|Seduction:1|Style:1^Debate:1|Fast_Talk:1|Journalism:2|Psychoanalysis:1|Research:1|Skiing:1|Torture:2^Accounting:1|Camarilla_Lore:3|Computer_Hacking:3|Faerie_Lore:3|Kindred_Lore:3|Literature:1|Lupine_Lore:3|Mage_Lore:3|Psychology:3|Sewer_Lore:3|Spirit_Lore:3|Wyrm_Lore:3^^Gnosis:1/2|Health:8|Rage:3|Willpower:3^Aura_Of_Confidence:1|Awe:2|Beast_Speech:1|Call_The_Pride:3|Eyes_Of_The_Cat:3|Jumping_To_The_Moon:5|Lick_Wounds:1|Luna's_Armor:2|Mental_Speech:3|Night_Terror:2|Purr:3|Silver_Claws:3|Truth_Of_Gaia:1^Apparent_Age:26|Breed:Homid|Can_Howl:1|Concept:Goddess of Hellfire and Big Hair.|Demeanor:Caregiver|Form:Homid|Fullname:Callisto Da Sirrah|Ic_Age:27|Nature:Caregiver|Position:In Jupiter's Orbit -- Goddess 
Of Hellfire And Big Hair|Race:Mage|Rank:5|Tribe:Simba|Understand_Howl:1^^Absent_Minded:3|Confused:2|Short_Fuse:2|Shy:1|Soft_Hearted:1|Twisted_Upbringing:1^^^^backgroundspoints:7|flawspoints:7|freebiespoints:15|meritspoints:7|powerspoints:6|temprace:Mage|toppoints:1000^^Aura_Aspect:Sparkling^Lang_French:2^^^Bkapprove:Callisto approved on Apr 3 2000 by Callisto.|Clearance:Mage^strength:1|stamina:2|dexterity:1|charisma:3|manipulation:2|perception:1|intelligence:4|wits:1|^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
@Adesc me=@pemit me=***%t%N looked at you.
&amp;HOMEPAGE me=http://www.azundris.com/
&amp;SHORTDESC me=Gorgeous big-haired blonde with a fireball in her hand.
&amp;QUOTE me=Let me check my notes.
&amp;PLAN me=To be the only one on here with App XVLI!&#160;: )
&amp;EXPLAIN_SHORT_FUSE me=Rage VII! Throws fire-balls during that time of the month!
@lock me/EXPLAIN_SHORT_FUSE
&amp;EXPLAIN_TWISTED_UPBRINGING me=Come on, Xena burned my village down, with my parents and all my friends in it, and all I get to show for it is one lousy point??
@lock me/EXPLAIN_TWISTED_UPBRINGING
&amp;EXPLAIN_FETISH me=Haaaaaaaiiiiiiiiirrrr!! And hair. Wants to sleep with Julie Strain. (But then, who doesn't?)
@lock me/EXPLAIN_FETISH
&amp;EXPLAIN_CAMARILLA_LORE me=wiz test
@lock me/EXPLAIN_CAMARILLA_LORE
&amp;EXPLAIN_FAERIE_LORE me=wiz test
@lock me/EXPLAIN_FAERIE_LORE
&amp;EXPLAIN_GAROU_LORE me=wiz test
@lock me/EXPLAIN_GAROU_LORE
&amp;EXPLAIN_KINDRED_LORE me=wiz test
@lock me/EXPLAIN_KINDRED_LORE
&amp;EXPLAIN_LUPINE_LORE me=wiz test
@lock me/EXPLAIN_LUPINE_LORE
&amp;EXPLAIN_MAGE_LORE me=wiz test
@lock me/EXPLAIN_MAGE_LORE
&amp;EXPLAIN_SEWER_LORE me=wiz test
@lock me/EXPLAIN_SEWER_LORE
&amp;EXPLAIN_SPIRIT_LORE me=wiz test
@lock me/EXPLAIN_SPIRIT_LORE
&amp;EXPLAIN_UMBRAL_LORE me=wiz test
@lock me/EXPLAIN_UMBRAL_LORE
&amp;EXPLAIN_WYRM_LORE me=wiz test
@lock me/EXPLAIN_WYRM_LORE
&amp;FUGUE me=#788/DESC
&amp;TIMEZONE me=CET
@Sex me=feline
&amp;RPPREFS me=DRASTIC: Diceless, Ruleless And Story-Tellerless In Character
&amp;INFO me=Sister to Io, Phobos and Europa. You can tell just by the climate, you can tell just by he style: she was born and raised on Venus (but she may be here a while). Your living crop circle. DRASTIC hair goddess, wizard of whatever.
&amp;WATCHALL me=1
@Mailcurf me=0
@set me/Mailcurf = hidden
@set me/Mailcurf = wizard
@set me/Mailcurf = no_command
@Mailflags me=0
&amp;AFINGER me=@pemit me=***%t[fullname(%0)] just fingered you!
@Aconnect me=@force me=@doing [u(me/doing)]; +names
&amp;DOING me=Site maintainer
&amp;UNSUMMON me=#92
&amp;EXPLAIN_RESOURCES me=he stealeth with ease
@lock me/EXPLAIN_RESOURCES
&amp;SETDESC me=$.set *:@desc&#160;%#=;@dolist&#160;%0=@desc&#160;%#=[cat([get_eval(%#/desc)],[get_eval(me/desc.[lcstr(##)])])];@pemit&#160;%#=Description set to&#160;%0.
&amp;DARK_STAFF me=[isstaff(%#)]
&amp;NOTE_BAK me=How to stay on my good side^Apr/ 5/00^PUBLIC^ &quot;This is the frustration of four years released in a single flash, I'm normally nicer than this.&quot; * Like many people, I come here to relax and forget the real world for a while, so please don't tell me about your RL trials (being dumped on is not my idea of relaxing -- I wouldn't mind it once or twice, but I found that letting is happen is a way to encourage people to come back and do it again) and tribulations (I find that boastful and annoying in most cases, I read it's a girl-thing). * Specifically, I have enough of a sex-life to not want yours on top of it. I might in rare cases discuss techniques and implements, but normally, there will not be enough intimacy for you to ask me which of those things I do when I go off line. * Yes, I know I look great in pictures. Yes, that's really me. Yes, I'm really a woman, on internet, knowledgable, charming, single, and, in case we've TS'd, yes, I really make love like that. No, I'm not actively looking. 
Even if I were, there'd likely still be half a world (I'm in Europe) and the fact that I'm mostly lesbian between us. * If I'm DARK, I'm likely working. I get very snappy if I'm interrupted in the middle of something, especially when I'm also laggy. You have been warned. * That said, I'm really likable most of the time, but these things have happened just once too often in the previous years. Treat me right, and we'll get along like a charm.^This note was approved by Callisto on Wed Apr 5 04:50:23 2000.|foo^Apr/ 5/00^PRIVATE^ bar^This note was approved by Callisto on Wed Apr 5 20:23:06 2000.|baz^Apr/ 5/00^PUBLIC^ bazong^This +note was set by a member of staff.|To do^Apr/ 6/00^PUBLIC^ Jan. 1, 2000, resolutions.

 1. Don't fuck anybody, ever. It's not worth it.

 2. Lose 50 or so lbs. ASAP (see resolution lists from last seven years)

 3. Get even with all the assholes.
 Remember: vengeance is the best revenge

 4. Learn how to play &quot;Money for nothing&quot; on the acoustic guitar

 5. Develop a sense of entitlement (whether I deserve it or not)

 6. Throw away my entire wardrobe and start over. (by popular request)

 7. For god's sake don't buy any more guitars. Unless, you know,
 something really special turns up...

 8. Return a few @mails, once in a while. Just to keep' em guessing.

 9. Send a &quot;sorry&quot; note to the ex lover, one that covers the last six
 or so Christmases.

10. Get over this silly MUSH thing and get back to work. Before
 it's too late.

 Adapted from Walter Becker of Steely Dan fame. -c-
^This +note was set by a member of staff.|Don't say it!^Apr/ 6/00^PUBLIC^ 
      Things not to say around the Goddess

   1. Ready, Freddie (pronounced red-eye fred-eye)
   2. Bingo, gringo
   3. I like what you're trying to do but not the way you're doing it
   4. An excellent first attempt
   5. Wasn't that the pose you used last time?
   6. That was pretty good scene for this time of night
   7. If you want the tempo any brighter than that, we better wait for a
      sunny day
   8. I think that's a pretty good scene take for what were getting paid...
   9. That was great, let's do it again
  10. Was that the way you interpreted the rule last time?
  11. I'm at the point where I'm making dumb mistakes -- before I was
      making much smarter mistakes
  12. So many MUSHes, so little time
  13. I never had this problem when I was playing with Lenny and Russ
  14. We got some things, we need some things
  15. You can't make ice cream out of shit
  16. You can't polish a turd
  17. Just let your spirit soar
  18. My spirit's already sore from the last two scenes...
  19. Close
  20. Less is more
  21. Less is Paul
  22. Less is less
  23. That's what I've been saying all along
  24. I just wish we could get a whole playerbase that poses as good as I do
  25. This will be a great opportunity for me to show off my char
  26. You can erase the log, I remember exactly what we said
  27. You don't mind when I cook on the side, do you?
  28. I'm not going to be any more dishonest with you than I am with 'star
  29. I also play eleven other MUSHes
  30. Sorry I'm late, I just got through with my blood test (or CAT scan)
  31. That desc's not a keeper is it?
  32. That's how I wrote it in the concept, but that's not how I like to
      play it
  33. I can't think of any improvements that won't make it worse
  34. That arete nine is a trademark thing for me
  35. That's the new old code from today -- I want to see the new old
      code from last Tuesday
  36. When was the last time we worked together?  Tonight.

  Adapted from Walter Becker of Steely Dan fame.                     -c-
^This +note was set by a member of staff.
&amp;NOTE me=How to stay on my good side^Apr/ 5/00^PRIVATE^Yes, that's really me in the pictures, and, in case we've TS'd, yes, I really make love like that. That's strictly RP however -- I'm not available IRL. Even if I were, there'd likely still be half a world (I'm in Europe) and the fact that I'm mostly lesbian between us. * If I'm DARK, I'm likely working. I get very snappy if I'm interrupted in the middle of something, especially when I'm working on more than three things at the same time. * That said, I'm really likable most of the time.^This note was approved by Callisto on Wed Apr 5 04:50:23 2000.|To do^Apr/ 6/00^PUBLIC^ Jan. 1, 2002, resolutions.%r%r 1. Don't fuck anybody, ever. It's not worth it.%r%r 2. Lose 50 or so lbs. ASAP (see resolution lists from last seven years)%r%r 3. Get even with all the assholes.%r Remember: vengeance is the best revenge%r%r 4. Learn how to play techno on the acoustic guitar%r%r 5. Develop a sense of entitlement (whether I deserve it or not)%r%r 6. Throw away my entire CD 
collection and start over. (by popular request)%r%r 7. For G-d's sake don't buy any more guitars. Unless, you know,%r something really special turns up...%r%r 8. Return a few @mails, once in a while. Just to keep' em guessing.%r%r 9. Send a &quot;sorry&quot; note to the ex lover, one that covers the last six%r or so Christmases.%r%r10. Get over this silly MUSH thing and get back to work. Before%r it's too late.%r%r Adapted from Walter Becker of Steely Dan fame. -c-%r^This +note was set by a member of staff.|Don't say it!^Apr/ 6/00^PUBLIC^&#160;%r Things not to say around the Code Goddess%r%r 1. Ready, Freddie (pronounced red-eye fred-eye)%r 2. Bingo, gringo%r 3. I like what you're trying to do but not the way you're doing it%r 4. An excellent first attempt%r 5. Wasn't that the pose you used last time?%r 6. That was pretty good scene for this time of night%r 7. If you want the tempo any brighter than that, we better wait for a%r sunny day%r 8. I think that's a pretty good scene for what were getting paid...%r 9. That was 
great, let's do it again%r 10. Was that the way you interpreted the rule last time?%r 11. I'm at the point where I'm making dumb mistakes -- before I was%r making much smarter mistakes%r 12. So many MUSHes, so little time%r 13. I never had this problem when I was playing with Lenny and Russ%r 14. We got some things, we need some things%r 15. You can't make ice cream out of shit%r 16. You can't polish a turd%r 17. Just let your spirit soar%r 18. My spirit's already sore from the last two scenes...%r 19. Close%r 20. Less is more%r 21. Less is Paul%r 22. Less is less%r 23. That's what I've been saying all along%r 24. I just wish we could get a whole playerbase that poses as good as I do%r 25. This will be a great opportunity for me to show off my char%r 26. You can erase the log, I remember exactly what we said%r 27. You don't mind when I cook on the side, do you?%r 28. I'm not going to be any more dishonest with you than I am with 'star%r 29. I also play eleven other MUSHes%r 30. Sorry I'm late, I just got 
through with my blood test (or CAT scan)%r 31. That desc's not a keeper is it?%r 32. That's how I wrote it in the concept, but that's not how I like to%r play it%r 33. I can't think of any improvements that won't make it worse%r 34. That arete nine is a trademark thing for me%r 35. That's the new old code from today -- I want to see the new old%r code from last Tuesday%r 36. When was the last time we worked together? Tonight.%r%r Adapted from Walter Becker of Steely Dan fame. -c-%r^This +note was set by a member of staff.|+mykinks^Apr/18/00^PUBLIC^ This is a wizard character that is not used as a regular Player Character. All +kinks set on this character are for testing purposes only (Callisto happens to be the code-wiz 'round here).^This +note was set by a member of staff.|+info^Apr/18/00^PUBLIC^ Sister to Io, Phobos and Europa. You can tell just by the climate, you can tell just by he style: she was born and raised on Venus (but she may be here a while). Your living crop circle. DRASTIC hair goddess, 
wizard of whatever.^This +note was set by a member of staff.|Female roleplayers^Aug/ 2/00^PUBLIC^&#160;%rCheck this excellent article:%r%r http://www.TastesLikePhoenix.com/articles/women.html%r%r^This +note was set by a member of staff.
@set me/NOTE = wizard
&amp;LOCK_BETE me=[and(streq(gettext(%#,TempRace),Shifter),not(streq(gettext(%#,Race),Garou)))]
&amp;LOCK_WIZARD me=[hasflag(%#,WIZARD)]
&amp;LOCK_RACE me=[gettext(%#,Race)]
&amp;LOCK_TEMPRACE me=[gettext(%#,TempRace)]
&amp;LOCK_SPHERE me=[u(%#/SPHERE)]
&amp;XP me=43.639
@set me/XP = wizard
&amp;XP_SPENT me=55.881
&amp;XP_GIVEN me=17.181533
&amp;TIMEON_CURR me=1083285286
@set me/TIMEON_CURR = wizard
&amp;TIMEON me=49215667
@set me/TIMEON = wizard
&amp;LOGON_COUNT me=540
@set me/LOGON_COUNT = wizard
&amp;BB_READ me=1 12 1D 1E 1G 1I 1L 1U 1X 20 23 24 25 26 27 29 2B 2E 2G 2S 2T 32 33 34 35 36 37 38 3D 3H 3J 3K 3L 3U 3W 40 41 44 45 48 49 4C 4D 4E 4F 4H 4J 4K 4V 4Y 56 57 59 5A 5B 5C 5D 5E 5G 5I 5K 5N 5O 5P 5Q 5V 5W 5X 5Y 5Z 60 63 68 6A 6B 6F 6H 6O 6Q 6R 6V 6W 6Z 70 71 73 74 75 76 77 78 79 7A 7B 7C 7D 7E 7F 7G 7H 7I 7J 7K 7L 7M 7O 7Q 7T 7U 7V 7X 7Y 82 89 8B 8C 8D 8E 8F 8G 8H 8K 8L 8M 8N 8O 8Q 8U 90 91 93 94 95 96 97 98 99 9A 9B 9C 9D 9E 9F 9G 9H 9I 9K 9L 9M 9N 9O 9P 9Q 9R 9S 9T 9U 9V 9W 9X 9Z A0 A1 A2 A3 A4 A5 A6 A7 A8 A9 AA AB AC AD AE AG AH D
&amp;MYKINKS me=This is a wizard character that is not used as a regular Player Character. All&#160;%xh+kink%xns set on this character are for testing purposes only ([name(me)] happens to be the code-wiz 'round here).
&amp;LOCK_ADMIN me=[isstaff(%#)]
&amp;LOCK_GAROU me=[gettext(%#,Race)]
@Mailfolders me=0:INBOX:0 1:ATTIC:1 2:SENT:2 3:TODO:3 
@set me/Mailfolders = hidden
@set me/Mailfolders = wizard
@set me/Mailfolders = no_command
@lock me/Mailfolders
&amp;PLAYERNAME me=Azundris
&amp;BIT me=Code / *Site / Theme
&amp;PHONEALIAS me=A woman's husky voice
&amp;LIVES me=[u(loc(%#)/BUILDING)]|[u(loc(%#)/FLAT)]
&amp;STATSBG me=wizard of code
&amp;DESCS me=#1394
&amp;PLACE me=4
&amp;IC_LOC me=#822
@set me/IC_LOC = wizard
@Away me=net down, back at apr 1700 MUSH time
&amp;SEMAIL me=chicago@azundris.com
&amp;APP_TIME me=1083280950
&amp;THEME me=Anthrax - I am the law!
&amp;SITES me=127.0.0.1 145.228.78.52 193.98.110.7 195.158.167.240 195.244.233.52 195.244.233.61 195.244.233.62 212.202.184.128 212.202.184.194 212.202.50.192 212.202.50.194 212.202.50.213 212.202.50.76 212.202.51.4 212.202.55.198 212.202.55.205 212.202.56.115 212.202.57.148 212.202.57.197 azundris@salvation.koehntopp.de azundris@sirrah.azundris.com callisto@salvation.koehntopp.de callisto@sin.azundris.com cordelia@195.244.233.61 cordelia@port-212-202-49-135.reverse.qsc.de cordelia@salvation.azundris.com cordelia@salvation.koehntopp.de firewall.netuse.de hdlc-kln2.ki.netzservice.de localhost meme.koehntopp.de salvation.azundris.com salvation.koehntopp.de sirrah.azundris.com valiant.koehntopp.de
@set me/SITES = wizard
@lock/UseLock me=*Callisto
&amp;AVAILABLE me=around 1200-1800 CET during the week, often more.
&amp;BLOOD_MEMBER me=!visible
&amp;BAF_PRIVATE me=!visible
&amp;MAP_ZMIN me=0
&amp;MAP_ZMAX me=0
&amp;FOO me=get(me/desc)
&amp;HOLO-PUB_RUE me=\Like one of the rats that watch you from the shadows with cold dead yellow eyes, the narrow street winds between the hunched buildings, its slippery paved back hidden underneath a clear foot of water. The decaying deserted homes seem to gaze at you with dark empty eyes, their mossy roofs obscured by the eternal fog that condenses on slimy walls, dripping down like an endless stream of tears, as if bemoaning the dark fate of previous passers-by, so bereaved, so bereft. A breathakingly sweet odour pervades the air, and even as you try to push it out of your mind, something like the scratching of paws, startlingly huge paws on wet stone cuts through the still of the night...
@set me/HOLO-PUB_RUE = wizard
&amp;HOLO-PUB_CRASH me=\Errant lights. Shards. Metal contorting in the agony of alien art, blood, light, pipes, exhaust, and cars smacking in the trees. Biomechanics. The three cars melting into each other in the otherwise deserted street, it is all too obvious what happened hear, if not how, or why. The scene seems detached, incomplete, like a scream in a silent movie, glass breaking in space. The idea of motion suddenly crashes back into the picture as a head is moved in pain. The first of the drivers comes to...
@set me/HOLO-PUB_CRASH = wizard
@Desc me= Gorgeous big-haired blonde with expressive cheekbones and a fireball in her hand.
&amp;DESC_HOMID me=%b%bSindelle is no less than gorgeous. Her beauty, the curves of her toned body, the wild curls towering up on her head to flow down one side of it like a surrealistic brunette waterfall, they all but serve to put forward the startling notion that the lens she hypnotizes does her no justice, that it is not the billboards where she is larger than life. [switch(u(#7336/rage-comp,%#,*Sindelle),0,Intimidating desc goes here.,Non-intimidating desc goes here.)]&quot;Meow!
&amp;HOLO-PUB_PUB me=\my-pub-test
@set me/HOLO-PUB_PUB = wizard
&amp;HOLO-PRV_PRV me=\my-prv-test
@set me/HOLO-PRV_PRV = wizard
@set me=INHERIT
@set me=OPAQUE
@set me=WIZARD
@set me=ANSI
@set me=TERSE
@set me=STAFF
@set me=COMMANDS
@set me=HEAD
@power me=announce
@power me=use_sql
@rxlevel me=Real Umbra Fae Shadow
@txlevel me=Real
@alias #72=C
---

</pre>

<!-- 
NewPP limit report
CPU time usage: 0.134 seconds
Real time usage: 0.136 seconds
Preprocessor visited node count: 4/1000000
Preprocessor generated node count: 24/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key homesitewiki-mw_:pcache:idhash:230-0!*!*!*!*!*!* and timestamp 20150425025752
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="http://www.gwen-morse.com/wiki/index.php?title=MIAM_2&amp;oldid=1315">http://www.gwen-morse.com/wiki/index.php?title=MIAM_2&amp;oldid=1315</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-login"><a href="/wiki/index.php?title=Special:UserLogin&amp;returnto=MIAM+2" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/wiki/index.php/MIAM_2"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/wiki/index.php?title=Talk:MIAM_2&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/wiki/index.php/MIAM_2" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="/wiki/index.php?title=MIAM_2&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/wiki/index.php?title=MIAM_2&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="/wiki/index.php" id="searchform">
				<div id="simpleSearch">
						<input name="search" placeholder="Search" title="Search Gwen Morse's Wiki [f]" accesskey="f" id="searchInput" />						<button type="submit" name="button" title="Search the pages for this text" id="searchButton"><img src="/wiki/skins/vector/images/search-ltr.png?303" alt="Search" width="12" height="13" /></button>								<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(/home/public/wiki/guestbook.jpg);" href="/wiki/index.php/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="/wiki/index.php/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-MUSHing"><a href="/wiki/index.php/MUSHing">MUSHing</a></li>
			<li id="n-Softcode-Archive"><a href="/wiki/index.php/Gwen%27s_MUSHcode_Archive">Softcode Archive</a></li>
			<li id="n-Tinyfugue-Client"><a href="/wiki/index.php/Tinyfugue">Tinyfugue Client</a></li>
			<li id="n-Tabletop-Roleplay"><a href="/wiki/index.php/Roleplay">Tabletop Roleplay</a></li>
			<li id="n-Sims"><a href="/wiki/index.php/Sims">Sims</a></li>
			<li id="n-Linux"><a href="/wiki/index.php/Linux">Linux</a></li>
			<li id="n-Health-and-Beauty"><a href="/wiki/index.php/HABA">Health and Beauty</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-Wiki_Help' aria-labelledby='p-Wiki_Help-label'>
	<h3 id='p-Wiki_Help-label'>Wiki Help</h3>
	<div class="body">
		<ul>
			<li id="n-portal"><a href="/wiki/index.php/Gwen_Morse%27s_Wiki:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-currentevents"><a href="/wiki/index.php/Gwen_Morse%27s_Wiki:Current_events" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="/wiki/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="/wiki/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" rel="nofollow" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/wiki/index.php/Special:WhatLinksHere/MIAM_2" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/wiki/index.php/Special:RecentChangesLinked/MIAM_2" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/wiki/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="/wiki/index.php?title=MIAM_2&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="/wiki/index.php?title=MIAM_2&amp;oldid=1315" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="/wiki/index.php?title=MIAM_2&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 4 April 2012, at 09:22.</li>
											<li id="footer-info-viewcount">This page has been accessed 4,259 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="/wiki/index.php/Gwen_Morse%27s_Wiki:Privacy_policy" title="Gwen Morse's Wiki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/wiki/index.php/Gwen_Morse%27s_Wiki:About" title="Gwen Morse's Wiki:About">About Gwen Morse&#039;s Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="/wiki/index.php/Gwen_Morse%27s_Wiki:General_disclaimer" title="Gwen Morse's Wiki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="//www.mediawiki.org/"><img src="/wiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<!-- Served in 0.478 secs. -->
	</body>
</html>
