@create Summon-Join System
@link Summon-Join System=[owner(me)]
@lock/Use Summon-Join System=Wiz/1|Royal/1
@set Summon-Join System=OPAQUE
@set Summon-Join System=WIZARD
@set Summon-Join System=SAFE
@ADISCONNECT Summon-Join System=@force %#=+offduty
@DESCRIBE Summon-Join System=Contains [ansi(hru,ALL)] Summon/Unsummon related commands.
&DO_SUMMON Summon-Join System=$@summon *:@switch %0=me,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,YOU CAN NOT SUMMON YOURSELF.)]},{@switch [num(*%0)]=#-1,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,PLAYER DOES NOT EXIST.)]},#1,{@pemit %#=[ansi(c,SUMMON:)] [ansi(hr,PERMISSION DENIED.)]},%#,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,YOU CAN NOT SUMMON YOURSELF.)]},{@switch [hasflag(*%0,CONNECTED)]=0,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,PLAYER IS NOT CONNECTED.)]},{@switch [loc(*%0)]=%l,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,PLAYER IS IN THE SAME LOCATION AS YOU.)]},{@switch [xget(*%0,summon_ok)]=0,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,PLAYER DOES NOT WISH TO BE SUMMONED.)];@pemit *%0=[ansi(c,SUMMON:)] [ansi(g,PLAYER [ucstr(%N)] HAS ATTEMPTED TO SUMMON YOU AND HAS FAILED.)]},{&summon *%0=[loc(*%0)];@set *%0/SUMMON=WIZARD;@set *%0/SUMMON=MORTAL_DARK;@tel *%0=%l;@pemit %#=[ansi(c,SUMMON:)] [ansi(g,YOU HAVE SUCCESSFULLY SUMMONED [ucstr([name([num(*%0)])])])];@pemit *%0=[ansi(c,SUMMON:)] [ansi(g,YOU HAVE BEEN SUMMONED BY [ucstr(%N)].)]}
&DO_JOIN Summon-Join System=$@join *:@switch %0=me,{@pemit %#=[ansi(c,JOIN:)] [ansi(g,YOU CAN NOT JOIN YOURSELF.)]},{@switch [num(*%0)]=#-1,{@pemit %#=[ansi(c,JOIN:)] [ansi(g,PLAYER DOES NOT EXIST.)]},%#,{@pemit %#=[ansi(c,JOIN:)] [ansi(g,YOU CAN NOT JOIN YOURSELF.)]},{@switch [loc(*%0)]=%l,{@pemit %#=[ansi(c,JOIN:)] [ansi(g,PLAYER IS IN THE SAME LOCATION AS YOU.)]},{@switch [xget(*%0,join_ok)]=0,{@pemit %#=[ansi(c,JOIN:)] [ansi(g,PLAYER DOES NOT WISH TO BE JOINED.)];@pemit *%0=[ansi(c,JOIN:)] [ansi(g,PLAYER [ucstr(%N)] HAS ATTEMPTED TO JOIN YOU AND HAS FAILED.)]},{@switch [hasflag(*%0,CONNECTED)]=0,{&join *%#=%l;@set *%#/JOIN=WIZARD;@set *%#/JOIN=MORTAL_DARK;@tel *%#=[loc(*%0)];@pemit %#=[ansi(c,JOIN:)] [ansi(g,YOU HAVE SUCCESSFULLY JOINED [ucstr([name([num(*%0)])])])] [ansi(y,(NOT CONNECTED))]},{&join *%#=%l;@set *%#/JOIN=WIZARD;@set *%#/JOIN=MORTAL_DARK;@tel *%#=[loc(*%0)];@pemit %#=[ansi(c,JOIN:)] [ansi(g,YOU HAVE SUCCESSFULLY JOINED [ucstr([name([num(*%0)])])])];@pemit *%0=[ansi(c,JOIN:)] [ansi(g,YOU HAVE BEEN JOINED BY [ucstr(%N)].)]}
&DO_UNSUMMON Summon-Join System=$@unsummon *:[setq(1,[xget(%#,summon)])];@switch %0=me,{@switch %l=%q1,{@pemit %#=[ansi(hc,UN)][ansi(c,SUMMON:)] [ansi(g, YOU ARE ALREADY AT THAT LOCATION.)]},{@tel %#=%q1;@pemit %#=[ansi(hc,UN)][ansi(c,SUMMON:)] [ansi(g,YOU HAVE SUCCESSFULLY UNSUMMONED YOURSELF.)]}},{@switch [num(*%0)]=#-1,{@pemit %#=[ansi(hc,UN)][ansi(c,SUMMON:)] [ansi(g,PLAYER DOES NOT EXIST.)]},#1,{@pemit %#=[ansi(hc,UN)][ansi(c,SUMMON:)] [ansi(hr,PERMISSION DENIED.)]},%#,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,YOU CAN NOT SUMMON YOURSELF.)]},{@switch [hasflag(*%0,CONNECTED)]=0,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,PLAYER IS NOT CONNECTED.)]},{@switch [loc(*%0)]=%l,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,PLAYER IS IN THE SAME LOCATION AS YOU.)]},{@switch [xget(*%0,summon_ok)]=0,{@pemit %#=[ansi(c,SUMMON:)] [ansi(g,PLAYER DOES NOT WISH TO BE SUMMONED.)];@pemit *%0=[ansi(c,SUMMON:)] [ansi(g,PLAYER [ucstr(%N)] HAS ATTEMPTED TO SUMMON YOU AND HAS FAILED.)]},{&summon *%0=[loc(*%0)];@set *%0/SUMMON=WIZARD;@set *%0/SUMMON=MORTAL_DARK;@tel *%0=%l;@pemit %#=[ansi(c,SUMMON:)] [ansi(g,YOU HAVE SUCCESSFULLY SUMMONED [ucstr([name([num(*%0)])])])];@pemit *%0=[ansi(c,SUMMON:)] [ansi(g,YOU HAVE BEEN SUMMONED BY [ucstr(%N)].)]}
&CREDITS Summon-Join System=Coded By Ulysis, 1996
&WIZ Summon-Join System=[hasflag(*%#,WIZARD)]
&ROYAL Summon-Join System=[hasflag(*%#,ROYALTY)]
