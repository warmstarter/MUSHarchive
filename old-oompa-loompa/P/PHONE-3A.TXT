@create PARENT: Cellular Phone
@Desc PARENT: Cellular Phone=Your average cellular phone.%R[center(- - - Type `phonehelp' for commands - - -,78)]%R
&CALL PARENT: Cellular Phone=$dial *:@switch [type(me)]=ROOM,{@pemit/c me=%N picks up the phone and begins to dial.},{@pemit/c [room(me)]=%N picks up the phone and begins to dial.};@wait 1=@pemit %#=You dial %0's number.;@wait 3=@pemit %#=You hear the phone ringing at the other end.;@wait 5=@pemit *%0=Your telephone rings if you are ICly anywhere near it.%R(OOC: Page %N to reply or `options' if you have a coded phone. Note that this message is not heard by others and you may wish to rp the phone ringing.);&status me=talking;&called me=%0
&RING PARENT: Cellular Phone=$ring:@switch [type(me)]=ROOM,{@pemit/c me=*-*-* The telephone rings!!! *-*-*},{@pemit/c [room(me)]=[name(owner(me))]'s phone suddenly rings!!!}
&ANSWER PARENT: Cellular Phone=$answer *:&called me=%0;@switch [type(me)]=ROOM,{@pemit/c me=%N picks up and answers the phone.},{@pemit/c [room(me)]=%N picks up and answers the phone.};@pemit *%0=From the telephone, someone picks up at the far end.;&status me=talking
&BUSY PARENT: Cellular Phone=$busy *:@pemit %#=(OOC: Done.);@pemit *%0=From the telephone, there is a busy signal at the far end.%R%N's telephone is either offthe hook or currently is in use.
&RINGS PARENT: Cellular Phone=$rings *:@pemit %#=(OOC: Done.);@pemit *%0=From the telephone, %N's phone rings and rings, but there is no answer.;@switch [v(answering_machine)]=no,{},{@pemit *%0=After a moment, %N's answering machine picks up:%R"[v(message)]"%R(OOC: If you wish to leave a message, +mail %N=Message)}
&SPEAK PARENT: Cellular Phone=$speak *:@switch [v(status)]=ntalking,{@pemit %#=You haven't dialed anyone's number yet!},{@pemit %#=You say "%0" into the phone.;@pemit *[v(called)]=From the telephone, %N says "%0"}
&LOUD PARENT: Cellular Phone=$loud *:@switch [v(status)]=ntalking,{@pemit %#=You haven't dialed anyone's number yet!},{@switch [type(me)]=ROOM,{@pemit/c me=%N says "%0" directed into the phone.},{@pemit/c [room(me)]=%N says "%0" directed in to the phone.};@pemit *[v(called)]=From the telephone, %N says "%0"}
&GRUFF PARENT: Cellular Phone=$gruff *:@switch [v(status)]=ntalking,{@pemit %#=You haven't dialed anyone's number yet!},{@pemit %#=You say "%0" into the phone in a gruff voice.;@pemit *[v(called)]=From the telephone, a voice says "%0"}
&HANGUP PARENT: Cellular Phone=$hangup:@switch [v(status)]=ntalking,{@pemit %#=The phone is already hung up.},{@switch [type(me)]=ROOM,{@pemit/c me=%N hangs up the phone.},{@pemit/c [room(me)]=%N hangs up the phone.};@pemit *[v(called)]=From the telephone, there is a click as the phone on the far end is hung up.;&status me=ntalking;&called me=}
&STATUS PARENT: Cellular Phone=ntalking
&OPTIONS PARENT: Cellular Phone=$options:@pemit %#=[repeat(=,78)]%ROptions: On Receiving a Call%R%RAnswer <person>%t%tanswer the phone, if you're icly near it%RRing%t%t%temit _your_ phone ringing for anyone nearby%R%RBusy <person>%t%tif your phone would be busy icly%RRings <person>%t%tif there's no answer and they should leave a message%R%RNote: <person> for all these cases should be the person who called you.%R[repeat(=,78)]
&ANSWERING_MACHINE PARENT: Cellular Phone=no
&PHONEHELP PARENT: Cellular Phone=$phonehelp:@pemit %#=[repeat(=,78)]%R[center(- - - Phone Commands - - -,78)]%R%RDial <person>%t%tgive someone a call on the phone%R%RAnswer <person>%t%tanswer the phone on receiving a call%RRing%t%t%temit _your_ phone ringing for anyone nearby%RBusy <person>%t%tif your phone would be busy icly when called%RRings <person>%t%tif there's no answer and they should leave a message%R%RSpeak <what you want to say>%ttalk quietly into the phone%RLoud<what you want to say>%ttalk loudly into the phone%RGruff <what you want to say>%tdisguise your voice on the phone%R%RHangup%t%t%thang up the phone when finished%R%R(OOC: Type `phonehelp2' for further information.)%R[repeat(=,78)]
&PHONEHELP2 PARENT: Cellular Phone=$phonehelp2:@pemit %#=[repeat(=,78)]%R[center(- - - Phone Notes - - -,78)]%R%R* Bugging Phones *%RCurrently no one can overhear you when you're on the phone unless you want them to (i.e. loud). Phones are not bugged in any way and are provided solely as an enhancement to rp. One can assume, however, that the gardai continue to reserve the right to icly bug phones as they see fit.%R%R* Answering Machines *%RIf you want to leave a message on someone's answering machine, you can simulate this by mailing them and noting the message appropriately. This is an attempt to create a lag-free phone system. :)%R%R* Anonymous Calls *%RIt is suggested that you change your name (@name me=<new name>) prior to making such a call. It also might be a good idea to use gruff while talking.%R%RKeep in mind that this system does have its quirks and you may encounter a few oddities from time to time (particularly when receiving multiple calls simultaneously). I had to make a few tradeoffs in its design and to keep it fast.%R(OOC: Type `phonehelp3' for configurations options.)%R[repeat
&PHONEHELP3 PARENT: Cellular Phone=$phonehelp3:@pemit %#=[repeat(=,78)]%R[center(- - - Phone Configuration - - -,78)]%R%RThis code is designed to simulate any type of phone, and as such can be @desc-ed to look like whatever you'd like. It is suggested, however, that you retain an ooc note to the effect that the commands are always available from `phonehelp'.%R%RIf you wish to give your phone answering machine capability (from 'rings') you should type the following:%R%R&ANSWERING_MACHINE phone=yes%R&MESSAGE phone=<your message>%R%RIt is also possible to parent this code to a location (i.e. set it to a room such that you do not need to spend a point of quota). To do this, enter the room you wish to install the code to and type: @parent here=#8774. (Warning - if there are other parent objects set to the location already - such as the day/night timer - this will remove them, so be careful!) If set to a location, you may also want to make a note in the rooms desc that 'phonehelp' is available.%R%RPersonal phones (i.e. phones as objects) should be uselocked to their owners:%R@lock/uselock phone=me%R[repeat(=,78)]
@set PARENT: Cellular Phone=DARK
@set PARENT: Cellular Phone=VISUAL
@set PARENT: Cellular Phone=PARENT_OK
@set PARENT: Cellular Phone=HALT
@set PARENT: Cellular Phone=SAFE
