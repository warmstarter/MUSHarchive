FIX.Game)] [ansi(v(FONT_FEATURE.Set),Feature '%1' has been set to %2.)])])]
&TRI_EDIT.TOKENS CharGen Parent=[ifelse(v(CNF_STORAGE.Tokens),set(%0,[xget(v(PTR_CharGen.VAR),VAR_TOKENS)]:[add(xget(%0,xget(v(PTR_CharGen.VAR),VAR_TOKENS)),%2)]),set(%0,[xget(v(PTR_CharGen.VAR),VAR_TOKENS.%1)]:[add(xget(%0,xget(v(PTR_CharGen.VAR),VAR_TOKENS.%1)),%2)]))]
&TRI_ATTRIBUTE.OK CharGen Parent=[ifelse(or(gt(%1,xget(v(PTR_CharGen.DB),DATA_%2.Max)),lt(%1,xget(v(PTR_CharGen.DB),DATA_%2.Min))),u(TRI_ERROR,%0,ATTRIBUTE_!VALID,%2),ifelse(lt(trunc(xget(%0,xget(v(PTR_CharGen.VAR),ifelse(v(CNF_STORAGE.Tokens),VAR_TOKENS,VAR_TOKENS.Attributes)))),setr(0,ifelse(xget(v(PTR_CharGen.DB),DATA_%2.Cost),mul(sub(%1,trunc(%3)),v(DATA_%2.Cost)),[setq(6,0)][iter(ifelse(gt(%1,trunc(%3)),extract(v(LIST_Attributes.Cost),inc(trunc(%3)),sub(%1,trunc(%3))),extract(v(LIST_Attributes.Cost),inc(%1),sub(trunc(%3),%1))),setq(6,ifelse(gt(%1,trunc(%3)),add(%q6,##),sub(%q6,##))))]%q6))),u(TRI_ERROR,%0,TOKENS_!ENOUGH),[u(TRI_EDIT.[ifelse(v(CNF_STORAGE.Attributes),Combo,Split)],%0,Attributes,%2,%1,1)][u(TRI_EDIT.Tokens,%0,Attributes,sub(0,%q0))][pemit(%0,[u(DATA_PREFIX.Game)] [ansi(v(FONT_ATTRIBUTE.Set),Your %2 Attribute has been set to %1.)])][pemit(%0,[u(DATA_PREFIX.Game)] [ansi(v(FONT_ATTRIBUTE.Set),ifelse(lt(%q0,0),You are reimbursed [abs(%q0)] [ifelse(eq(abs(%q0),1),v(DATA_TOKEN.Name.Singular),v(DATA_TOKEN.Name.Plural))].,That cost you [abs(%q0)] [ifelse(eq(abs(%q0),1),v(DATA_TOKEN.Name.Singular),v(DATA_TOKEN.Name.Plural))].))])]))]
&TRI_LIST.VANTAGES CharGen Parent=%r\[ ADVANTAGES \]%r[edit(u([v(PTR_CharGen.FUN)]/FORMAT_Columns,sort(xget(v(PTR_CharGen.MAIN),LIST_Advantages),a),4,19),-,space(1))]%r%r\[ DISADVANTAGES \]%r[edit(u([v(PTR_CharGen.FUN)]/FORMAT_Columns,sort(xget(v(PTR_CharGen.MAIN),LIST_Disadvantages),a),4,19),-,space(1))]%r
&TRI_SKILL.INCREASE CharGen Parent=[ifelse(lte(setr(0,inc(inc(sub(ifelse(v(CNF_STORAGE.Skills),extract(extract(grab(xget(%0,xget(v(PTR_CharGen.VAR),VAR_SKILLS)),%1 *,v(CNF_DELIMETER)),1,1,v(CNF_DELIMETER2)),2,1),extract(xget(%0,SKILL_%1),1,1,v(CNF_DELIMETER2))),xget(v(PTR_CharGen.DB),DATA_[first(xget(v(PTR_CharGen.DB),DATA_SKILL.%1))].[extract(xget(v(PTR_CharGen.DB),DATA_SKILL.%1),2,1)].BASE))))),words(setr(1,xget(v(PTR_CharGen.DB),LIST_[first(xget(v(PTR_CharGen.DB),DATA_SKILL.%1))].[extract(xget(v(PTR_CharGen.DB),DATA_SKILL.%1),2,1)].COST)))),ifelse(gte(ifelse(v(CNF_STORAGE.Tokens),xget(%0,xget(v(PTR_CharGen.VAR),VAR_TOKENS)),xget(%0,xget(v(PTR_CharGen.VAR),VAR_TOKENS.Skills))),setr(2,extract(%q1,%q0,1))),[ifelse(v(CNF_STORAGE.Skills),set(%0,[xget(v(PTR_CharGen.VAR),VAR_SKILLS)]:[replace(xget(%0,xget(v(PTR_CharGen.VAR),VAR_SKILLS)),match(xget(%0,xget(v(PTR_CharGen.VAR),VAR_SKILLS)),%1 *,v(CNF_DELIMETER)),replace(setr(7,grab(xget(%0,xget(v(PTR_CharGen.VAR),VAR_SKILLS)),%1 *,v(CNF_DELIMETER))),1,%1 [setr(4,inc(extract(extract(%q7,1,1,v(CNF_DELIMETER2)),2,1)))],v(CNF_DELIMETER2)),v(CNF_DELIMETER))]),set(%0,SKILL_%1:[replace(xget(%0,SKILL_%1),1,setr(4,inc(extract(xget(%0,SKILL_%1),1,1,v(CNF_DELIMETER2)))),v(CNF_DELIMETER2))]))][u(TRI_EDIT.Tokens,%0,Skills,sub(0,%q2))][pemit(%0,[u(DATA_PREFIX.Game)] [ansi(v(FONT_SKILL.Set),You have increased your '%1' Skill to %q4.)])][pemit(%0,[u(DATA_PREFIX.Game)] [ansi(v(FONT_SKILL.Set),That cost you %q2 [ifelse(eq(%q2,1),v(DATA_TOKEN.Name.Singular),v(DATA_TOKEN.Name.Plural))].)])],u(TRI_ERROR,%0,TOKENS_!ENOUGH)),u(TRI_ERROR,%0,SKILL_MAXED,%1))]
&TRI_VANTAGE.ADD CharGen Parent=[switch([ifelse(v(CNF_STORAGE.Vantages),not(not(match(xget(%0,xget(v(PTR_CharGen.VAR),VAR_Vantages)),%1 *,v(CNF_DELIMETER)))),and(hasattr(%0,VANTAGE_%1),words(xget(%0,VANTAGE_%1))))][lt(ifelse(v(CNF_STORAGE.Tokens),xget(%0,xget(v(PTR_CharGen.VAR),VAR_TOKENS)),xget(%0,xget(