@create PARENT: OOC Telepath Helper
@lock PARENT: OOC Telepath Helper=[owner(me)]
@Desc PARENT: OOC Telepath Helper=[switch(or(not(hasattr(me,DESC_ASTRAL)),not(hasattr(me,DESC_PERSON)),not(hasflag(me,INHERIT)),comp(loc(me),owner(me))),1,{[u(SETUP_DESC)]},{[u(DESC2)]})]
&DO_+ASTRAL PARENT: OOC Telepath Helper=$+astral:@switch [hasattr(me,ASTRAL_%#)]=1,{@remit %L=%N's astral form vanishes as it returns to %p body.;@fo [v(ASTRAL_%#)]={@emit %N's body moves as %p astral spirit rejoins it.};@cpattr me/DESC2_PERSON=%#/DESC;@fo %#={@tel [v(ASTRAL_%#)];leave;@tel [v(ASTRAL_%#)]=[num(me)];@set [v(ASTRAL_%#)]=DESTROY_OK;@dest [v(ASTRAL_%#)];&ASTRAL_%# [num(me)]=}},0,{&ASTRAL_%# me=[setr(0,create(%N<Human Form>,10))];@cpattr me/DESC_PERSON=%q0/DESC;@lock %q0=%#;@remit %L=%N concentrates, and %p astral presence leaves %p body and floats before you.;@cpattr %#/DESC=me/DESC2_PERSON;@cpattr me/DESC_ASTRAL=%#/DESC;drop %q0;@fo %#={drop %q0}}
&DO_+TP PARENT: OOC Telepath Helper=$+tp* *=*:@switch {%0}=l,{},{&LAST_TP me=;@dolist [setr(0,map(GET_NUM,{%1}))]={@switch [isdbref(##)]=1,{@pemit ##=%ch%cg<TP Contact[switch(%0,/q*,{},{%Bfrom %N})]>%cn {%2};@pemit %#=You successfully contact [name(##)] mentally.;&LAST_TP me=[setunion(v(LAST_TP),##)]},0,{@pemit %#=You concentrate, but are unable to locate `[extract(%1,match(%q0,##),1)]'.}}}
&GET_NUM PARENT: OOC Telepath Helper=[first(filter(FILTER_NUM,%0 [locate(%#,%0,*)] [num(*%0)]))]
&FILTER_NUM PARENT: OOC Telepath Helper=[isdbref(%0)]
&DO_+TPL PARENT: OOC Telepath Helper=$+tpl* *:@switch [hasattr(me,LAST_TP)]=1,{@pemit/list [v(LAST_TP)]=%ch%cg<TP Contact[switch(%0,/q*,{},{%Bfrom %N})]>%cn {%1};@pemit %#=You successfully contact `[parse(v(LAST_TP),[name(##)])]' mentally.},0,{@pemit %#=You haven't telepathically contacted anyone.}
&DO_+SENSE PARENT: OOC Telepath Helper=$+sense* *:@switch [isdbref(setr(0,u(GET_NUM,{%1})))]=1,{@pemit %#=You utilize your mind powers to scan [name(%q0)].%R[name(%q0)]<%q0[flags(%q0)]>%R[switch(or(hasflag(%q0,UNFIND),hasflag(loc(%q0),UNFIND)),1,{You cannot sense [poss(%q0)] location.},0,{You sense [name(%q0)] is at [name(setr(1,loc(%q0)))]<%q1[flags(%q1)]>.})];@switch {%0}=/q*,{},{@pemit %q0=You sense %N scanning your mind...}}
&SETUP_DESC PARENT: OOC Telepath Helper=[switch(hasattr(me,DESC_ASTRAL),0,{Type `&DESC_ASTRAL [num(me)]=<description of your body while you are in astral form>'%R})][switch(hasattr(me,DESC_PERSON),0,{Type `&DESC_PERSON [num(me)]=<description of you while you are in astral form>'%R})][switch(hasflag(me,INHERIT),0,{Type `@set [num(me)]=INHERIT'%R})][switch(loc(me),owner(me),{},{Type `get [num(me)]'})]%R%RType `tele-info' for some information.
&DESC2 PARENT: OOC Telepath Helper=This is an OOC telepathic assistant. It's for people who have the following powers:%RTelepathy%RAstral Projection%RType `tele-help' for help with the commands, or `tele-info' for some information as to how this thing works. NOTE: You need at least one extra quota for the `+astral' command to function properly.
&DO_TELE-INFO PARENT: OOC Telepath Helper=$tele-info:@pemit %#=%R%T%ch%crAstral Projection%cn%R%T'%ch%cgAstral Projection%cn' is the ability to project your mind (visible to people) out of your body. When you type `+astral', an object will be created that stands for your body. You become your own astral projection. To return to your body, just type `+astral' again (You can do this even if you are far away from your `body') To use astral projection, you need two attributes: DESC_PERSON (your description when you go astral) and DESC_ASTRAL (the description of the object that stands for your body). To set these, just type this:%R%R&DESC_PERSON [num(me)]=<description>%R%R&DESC_ASTRAL [num(me)]=<description>%R%R%TIf you'd prefer not to have the +astral commands availible, type `&DO_+ASTRAL [num(me)]=None'.%R%TType `%ch%cgtele-info2%cn' for info on telepathy.
&DO_TELE-INFO2 PARENT: OOC Telepath Helper=$tele-info2:@pemit %#=%R%T%ch%cgTelepathy%cn%R%TThere are three commands associated with telepathy. `+tp <list of people>=<message>' sends a telepathic message to a list of people (If a person in the list doesn't exist, you won't receive a `successful contact' message about him/her/it). Secondly, `+tpl <message>' sends another message to a list of people you just messaged. Finally, there is `+sense <person>'. This gives the person's name, number, flags, and, if possible, the name, numbers, and flags of his location. Note: With all of these three commands, you can use the `/q' suffixed to the command, which doesn't tell the person you are the person sending the message, or, with +sense, doesn't tell him you are sensing him. This is useful for people who are asleep and/or don't have strong mental ability. For example:%R%R%T+sense/q %N%R%R%Twould gather information about %N without telling %o.
&DO_HELP PARENT: OOC Telepath Helper=$tele-help:@pemit %#=%ch%cgBasic Commands%cn:%R+ASTRAL -- Changes back and forth from astral form%R%R+TP\[/q\] <list of people>=<message> -- Thinks <message> to <list of people>%R%R+TPL\[/q\] <message> -- Thinks <message> to the last people you thought to%R%R+SENSE\[/q\] <player> -- Gives you the name, and (if possible) the location of <player>%R%RTELE-INFO -- Gives you more information on these commands.
@set PARENT: OOC Telepath Helper=DARK
@set PARENT: OOC Telepath Helper=VISUAL
@set PARENT: OOC Telepath Helper=PARENT_OK
@set PARENT: OOC Telepath Helper=HALT
@set PARENT: OOC Telepath Helper=SAFE
