@create Room Parent
@link Room Parent=[loc(me)]
@AENTER Room Parent=@switch [empire(%n)]=Tallaxian,,Ocampan,,@zemit #2060=[ansi(hm,+++Intruder Alert +++ +++ Intruder Alert +++ +++ Intruder Alert +++%r%n has been last seen in [name(me)]!%r+++ Intruder Alert +++ +++ Intruder Alert +++ +++ Intruder Alert +++)]
@DESCRIBE Room Parent=[ansi(r,----)] [ansi(y,[edit(name(zone(me)),Zone,)])][ansi(r,[repeat(-,[sub(73,[sub([strlen(name(zone(me)))],5)])])])]%r[ansi(hw,[eval(me,desc_store)])]%r%r[ansi(y,-)] [ansi(r,People)] [ansi(y,-)] [squish([iter(lcon(me),[switch(type(##),PLAYER,{[switch(idle(##),-1,,{[switch(##,%#,,{[switch(hasflag(##,Dark),0,{[edit(name(##),Console,]) [switch(hasflag(##,IC),1,(IC))] [switch(hasattr(##,CAPTION),1,{Brandishing: [get(##/CAPTION)]})] [ansi(y,-)]]})]})]})]})])]%r[ansi(y,-)] [ansi(r,Objects)] [ansi(y,-)] [squish([iter(lcon(me),switch(type(##),THING,switch(hasflag(##,Dark),0,edit(name(##),Console,) [switch(hasflag(##,IC),1,(IC))] [switch(hasattr(##,CAPTION),1,{Brandishing: [get(##/CAPTION)]})] [ansi(y,-)])))])][iter(v(Installed),[s(%r)][ansi(r,There is a)] [ansi(y,edit(##,_,space(1)))] [ansi(r,here.)])])]%r[ansi(y,-)] [ansi(r,Alert)] [ansi(y,-)] [get(zone(me)/salert)]%r[ansi(y,-)] [ansi(r,Obvious Exits)] [ansi(y,-)][iter(lexits(me),[switch(not(hasflag(##,dark)),0,,%r%b%b[ansi(r,[ljust(<[ucstr([extract([fullname(##)],2,1,;)])]>,7)])] [ansi(y,[ljust([name(##)],34)])][switch(hasflag(##,transparent),0,,[ansi([xget([loc(##)],color)],[before({[name([loc(##)])]},<Deck)])]
